{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapActions, mapGetters } from \"vuex\";\nexport default {\n  computed: {\n    ...mapGetters({\n      GetUser: \"getUser\"\n    })\n  },\n  mounted() {\n    setTimeout(() => {\n      this.$refs.txtUserName.focus();\n    }, 100);\n  },\n  data() {\n    return {\n      showPassword: false,\n      requiredRule: [val => val !== \"\" || \"This field is required\"],\n      user: {\n        UserName: \"\",\n        Password: \"\"\n      },\n      MyLoading: false\n    };\n  },\n  methods: {\n    ...mapActions([\"Login\"]),\n    CheckUserName() {\n      if (this.user.UserName.length > 0) {\n        this.$refs.txtPassword.focus();\n      }\n    },\n    CheckLogin: function () {\n      if (this.user.UserName.length <= 0) {\n        alert(\"UserName cannot be empty!\");\n        this.$refs.txtUserName.focus();\n        return;\n      }\n      if (this.user.Password.length <= 0) {\n        alert(\"Password cannot be empty!\");\n        this.$refs.txtPassword.focus();\n        return;\n      }\n      this.MyLoading = true;\n      const loading = this.$Loading.service({\n        lock: true,\n        text: \"Loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n      this.Login(this.user).then(() => {\n        console.log(sessionStorage.getItem(\"Avatar\"));\n        this.$router.push(\"/home\");\n        loading.close();\n      }).catch(err => {\n        this.MyLoading = false;\n        this.user.Password = \"\";\n        if (err.response) {\n          console.log(err.response.data);\n          alert(err.response.data);\n        } else alert(err);\n        loading.close();\n        setTimeout(() => {\n          this.$refs.txtUserName.focus();\n          this.$refs.txtUserName.$el.querySelector(\"input\").select();\n        }, 100);\n      });\n    }\n  }\n};","map":{"version":3,"names":["mapActions","mapGetters","computed","GetUser","mounted","setTimeout","$refs","txtUserName","focus","data","showPassword","requiredRule","val","user","UserName","Password","MyLoading","methods","CheckUserName","length","txtPassword","CheckLogin","alert","loading","$Loading","service","lock","text","background","Login","then","console","log","sessionStorage","getItem","$router","push","close","catch","err","response","$el","querySelector","select"],"sources":["D:\\LearnVueJS\\Vue3\\Projects\\fa-sop-online\\src\\components\\NewLogin.vue"],"sourcesContent":["<template>\r\n  <div id=\"login\" class=\"q-pa-md\">\r\n    <div class=\"lgCard q-gutter-y-md column\">\r\n      <div class=\"header\">\r\n        <h3>Sign In</h3>\r\n        <hr />\r\n      </div>\r\n      <q-input\r\n        :disable=\"MyLoading\"\r\n        outlined\r\n        label-color=\"purple-12\"\r\n        color=\"purple-12\"\r\n        filled\r\n        v-model=\"user.UserName\"\r\n        label=\"User Name\"\r\n        clearable\r\n        @keydown.enter=\"CheckUserName\"\r\n        ref=\"txtUserName\"\r\n      >\r\n        <template v-slot:prepend>\r\n          <q-icon color=\"purple-12\" name=\"account_circle\" />\r\n        </template>\r\n      </q-input>\r\n\r\n      <q-input\r\n        :disable=\"MyLoading\"\r\n        outlined\r\n        label-color=\"teal\"\r\n        color=\"teal\"\r\n        filled\r\n        v-model=\"user.Password\"\r\n        label=\"Password\"\r\n        :type=\"showPassword ? 'text' : 'password'\"\r\n        ref=\"txtPassword\"\r\n        @keydown.enter=\"CheckLogin\"\r\n      >\r\n        <template v-slot:prepend>\r\n          <q-icon color=\"teal\" name=\"vpn_key\" />\r\n        </template>\r\n        <template #append>\r\n          <q-icon\r\n            v-show=\"user.Password.length > 0\"\r\n            name=\"visibility\"\r\n            class=\"cursor-pointer\"\r\n            @click=\"showPassword = !showPassword\"\r\n          />\r\n        </template>\r\n      </q-input>\r\n      <div>\r\n        <q-btn\r\n          :loading=\"MyLoading\"\r\n          color=\"primary\"\r\n          style=\"width: 150px\"\r\n          @click=\"CheckLogin\"\r\n        >\r\n          Login\r\n          <template v-slot:loading>\r\n            <q-spinner-gears class=\"on-left\" />\r\n            Processing...\r\n          </template>\r\n        </q-btn>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n  computed: {\r\n    ...mapGetters({\r\n      GetUser: \"getUser\",\r\n    }),\r\n  },\r\n  mounted(){\r\n    setTimeout(() => {\r\n            this.$refs.txtUserName.focus();\r\n          }, 100);\r\n  },\r\n  data() {\r\n    return {\r\n      showPassword: false,\r\n      requiredRule: [(val) => val !== \"\" || \"This field is required\"],\r\n      user: { UserName: \"\", Password: \"\" },\r\n      MyLoading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"Login\"]),\r\n    CheckUserName() {\r\n      if (this.user.UserName.length > 0) {\r\n        this.$refs.txtPassword.focus();\r\n      }\r\n    },\r\n    CheckLogin: function () {\r\n      if (this.user.UserName.length <= 0) {\r\n        alert(\"UserName cannot be empty!\");\r\n        this.$refs.txtUserName.focus();\r\n        return;\r\n      }\r\n      if (this.user.Password.length <= 0) {\r\n        alert(\"Password cannot be empty!\");\r\n        this.$refs.txtPassword.focus();\r\n        return;\r\n      }\r\n      this.MyLoading = true;\r\n      const loading = this.$Loading.service({\r\n        lock: true,\r\n        text: \"Loading\",\r\n        background: \"rgba(0, 0, 0, 0.7)\",\r\n      });\r\n      this.Login(this.user)\r\n        .then(() => {\r\n          console.log(sessionStorage.getItem(\"Avatar\"));\r\n          this.$router.push(\"/home\");\r\n          loading.close();\r\n        })\r\n        .catch((err) => {\r\n          this.MyLoading = false;\r\n          this.user.Password = \"\";\r\n          if (err.response) {\r\n            console.log(err.response.data);\r\n            alert(err.response.data);\r\n          } else alert(err);\r\n          loading.close();\r\n          setTimeout(() => {\r\n            this.$refs.txtUserName.focus();\r\n            this.$refs.txtUserName.$el.querySelector(\"input\").select();\r\n          }, 100);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#login {\r\n  background-image: url(\"../assets/niceBlurCity.jpg\");\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  font-family: \"Numans\", sans-serif;\r\n  min-height: 100vh; /*specify min-height css property to Screen size */\r\n  position: relative;\r\n}\r\n.lgCard {\r\n  position: absolute;\r\n  height: 400px;\r\n  width: 400px;\r\n  background-color: #20284c;\r\n  top: 15%;\r\n  left: 40%;\r\n  .header {\r\n    h3 {\r\n      margin: 0;\r\n      color: white;\r\n    }\r\n    hr {\r\n      border-color: #000;\r\n    }\r\n  }\r\n}\r\n</style>"],"mappings":";AAmEA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAM;AAC7C,eAAe;EACbC,QAAQ,EAAE;IACR,GAAGD,UAAU,CAAC;MACZE,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAE;IACPC,UAAU,CAAC,MAAM;MACT,IAAI,CAACC,KAAK,CAACC,WAAW,CAACC,KAAK,EAAE;IAChC,CAAC,EAAE,GAAG,CAAC;EACf,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,KAAK;MACnBC,YAAY,EAAE,CAAEC,GAAG,IAAKA,GAAE,KAAM,EAAC,IAAK,wBAAwB,CAAC;MAC/DC,IAAI,EAAE;QAAEC,QAAQ,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAG,CAAC;MACpCC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,GAAGjB,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC;IACxBkB,aAAaA,CAAA,EAAG;MACd,IAAI,IAAI,CAACL,IAAI,CAACC,QAAQ,CAACK,MAAK,GAAI,CAAC,EAAE;QACjC,IAAI,CAACb,KAAK,CAACc,WAAW,CAACZ,KAAK,EAAE;MAChC;IACF,CAAC;IACDa,UAAU,EAAE,SAAAA,CAAA,EAAY;MACtB,IAAI,IAAI,CAACR,IAAI,CAACC,QAAQ,CAACK,MAAK,IAAK,CAAC,EAAE;QAClCG,KAAK,CAAC,2BAA2B,CAAC;QAClC,IAAI,CAAChB,KAAK,CAACC,WAAW,CAACC,KAAK,EAAE;QAC9B;MACF;MACA,IAAI,IAAI,CAACK,IAAI,CAACE,QAAQ,CAACI,MAAK,IAAK,CAAC,EAAE;QAClCG,KAAK,CAAC,2BAA2B,CAAC;QAClC,IAAI,CAAChB,KAAK,CAACc,WAAW,CAACZ,KAAK,EAAE;QAC9B;MACF;MACA,IAAI,CAACQ,SAAQ,GAAI,IAAI;MACrB,MAAMO,OAAM,GAAI,IAAI,CAACC,QAAQ,CAACC,OAAO,CAAC;QACpCC,IAAI,EAAE,IAAI;QACVC,IAAI,EAAE,SAAS;QACfC,UAAU,EAAE;MACd,CAAC,CAAC;MACF,IAAI,CAACC,KAAK,CAAC,IAAI,CAAChB,IAAI,EACjBiB,IAAI,CAAC,MAAM;QACVC,OAAO,CAACC,GAAG,CAACC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC7C,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;QAC1Bb,OAAO,CAACc,KAAK,EAAE;MACjB,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAK;QACd,IAAI,CAACvB,SAAQ,GAAI,KAAK;QACtB,IAAI,CAACH,IAAI,CAACE,QAAO,GAAI,EAAE;QACvB,IAAIwB,GAAG,CAACC,QAAQ,EAAE;UAChBT,OAAO,CAACC,GAAG,CAACO,GAAG,CAACC,QAAQ,CAAC/B,IAAI,CAAC;UAC9Ba,KAAK,CAACiB,GAAG,CAACC,QAAQ,CAAC/B,IAAI,CAAC;QAC1B,OAAOa,KAAK,CAACiB,GAAG,CAAC;QACjBhB,OAAO,CAACc,KAAK,EAAE;QACfhC,UAAU,CAAC,MAAM;UACf,IAAI,CAACC,KAAK,CAACC,WAAW,CAACC,KAAK,EAAE;UAC9B,IAAI,CAACF,KAAK,CAACC,WAAW,CAACkC,GAAG,CAACC,aAAa,CAAC,OAAO,CAAC,CAACC,MAAM,EAAE;QAC5D,CAAC,EAAE,GAAG,CAAC;MACT,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}