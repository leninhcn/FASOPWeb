(function(){"use strict";var e={5418:function(e,t,a){var o=a(5102),s=a(9269);function i(e,t,a,o,i,l){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n)])}var l={name:"App",components:{}},n=a(7617);const r=(0,n.Z)(l,[["render",i]]);var d=r,u=(a(4415),a(5287)),m=a(7977),c=a(2551),p=a(1585),h=a(5496),g=a(5509),f=a(1513),w=a(5381),_=a(3715),y=a(7692),E=a(7137),S=a(7844),k=a(5574),v=a(2040),b=a(984),M=a(5704),C=a(7682),P=a(5917),D=a(9422),I=a(3632),x=a(6771),T=a(4181),U=a(591),N=a(5659),F=a(3378),A=a(7143),O=a(4125),G=a(1395),L=a(9676),W=a(8775),R=a(8955),q=a(9233),V=a(9737),Z=a(1464),z=a(3028),B={install:e=>{e.component(u.Mr.name,u.Mr),e.component(m.Ub.name,m.Ub),e.component(m.p8.name,m.p8),e.component(c.PH.name,c.PH),e.component(c.aE.name,c.aE),e.component(p.F8.name,p.F8),e.component(h.WZ.name,h.WZ),e.component(g.i.name,g.i),e.component(f.y.name,f.y),e.component(w.OX.name,w.OX),e.component(_.Xb.name,_.Xb),e.component(y.rh.name,y.rh),e.component(y.KD.name,y.KD),e.component(E.ah.name,E.ah),e.component(S.iJ.name,S.iJ),e.component(k.OF.name,k.OF),e.component(v.Dv.name,v.Dv),e.component(b.E_.name,b.E_),e.component(b.EQ.name,b.EQ),e.component(b.F8.name,b.F8),e.component(M.$w.name,M.$w),e.component(C.Gg.name,C.Gg),e.component(C.C4.name,C.C4),e.component(P.$J.name,P.$J),e.component(P.B6.name,P.B6),e.component(D.Q0.name,D.Q0),e.component(I.dq.name,I.dq),e.component(M.F_.name,M.F_),e.component(x.LW.name,x.LW),e.component(T.gn.name,T.gn),e.component(U.i1.name,U.i1),e.component(N.mi.name,N.mi),e.component(F.EZ.name,F.EZ),e.component(A.ly.name,A.ly),e.component(A.nH.name,A.nH),e.component(O.km.name,O.km),e.component(O.BT.name,O.BT),e.component(G.eI.name,G.eI),e.component(G.$Y.name,G.$Y),e.component(L.R.name,L.R),e.component(W.d0.name,W.d0),e.component(b.Q8.name,b.Q8),e.component(M.b2.name,M.b2),e.component(R.YK.name,R.YK),e.component(R.Df.name,R.Df),e.component(R.o2.name,R.o2),e.component(M.G4.name,M.G4),e.component(M.nZ.name,M.nZ),e.component(q.Xh.name,q.Xh),e.config.globalProperties.$messageBox=V.T,e.config.globalProperties.$message=Z.z8,e.config.globalProperties.$Loading=z.kN,e.provide("$message",Z.z8)}},j=a(7001),Q=a(2201),H="data:image/png;base64,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";const Y=e=>((0,s.dD)("data-v-944cd5f8"),e=e(),(0,s.Cn)(),e),K={class:"parent"},$=Y((()=>(0,s._)("img",{src:H,alt:"",class:"luxlogo"},null,-1))),X=Y((()=>(0,s._)("div",{class:"landscape"},null,-1))),J=Y((()=>(0,s._)("div",{class:"filter"},null,-1))),ee=Y((()=>(0,s._)("canvas",{id:"canvas"},null,-1))),te={class:"lgCard q-gutter-y-md column"},ae=Y((()=>(0,s._)("div",{class:"header"},[(0,s._)("h3",null,"Sign In"),(0,s._)("hr")],-1)));function oe(e,t,a,i,l,n){const r=(0,s.up)("q-icon"),d=(0,s.up)("q-input"),u=(0,s.up)("q-spinner-gears"),m=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)("div",K,[$,X,J,ee,(0,s._)("div",te,[ae,(0,s.Wm)(d,{disable:l.MyLoading,outlined:"","label-color":"purple-12",color:"purple-12",filled:"",modelValue:l.user.UserName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.user.UserName=e),label:"User Name",clearable:"",onKeydown:(0,o.D2)(n.CheckUserName,["enter"]),ref:"txtUserName",autofocus:"","input-style":"color: #ebdb9e"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(r,{color:"purple-12",name:"account_circle"})])),_:1},8,["disable","modelValue","onKeydown"]),(0,s.Wm)(d,{"input-style":"color: #ebdb9e",disable:l.MyLoading,outlined:"","label-color":"teal",color:"teal",filled:"",modelValue:l.user.Password,"onUpdate:modelValue":t[2]||(t[2]=e=>l.user.Password=e),label:"Password",type:l.showPassword?"text":"password",ref:"txtPassword",onKeydown:(0,o.D2)(n.CheckLogin,["enter"])},{prepend:(0,s.w5)((()=>[(0,s.Wm)(r,{color:"teal",name:"vpn_key"})])),append:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{name:"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=e=>l.showPassword=!l.showPassword)},null,512),[[o.F8,l.user.Password.length>0]])])),_:1},8,["disable","modelValue","type","onKeydown"]),(0,s._)("div",null,[(0,s.Wm)(m,{loading:l.MyLoading,color:"primary",style:{width:"150px"},onClick:n.CheckLogin},{loading:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"on-left"}),(0,s.Uk)(" Processing... ")])),default:(0,s.w5)((()=>[(0,s.Uk)(" Login ")])),_:1},8,["loading","onClick"])])])])}a(4719);function se(e,t,a){this.id=e,this.x=t,this.y=a,this.r=Math.floor(2*Math.random())+1;var o=(Math.floor(10*Math.random())+1)/10/2;this.color="rgba(255,255,255,"+o+")"}function ie(e,t,a){this.id=e,this.x=t,this.y=a,this.r=Math.floor(5*Math.random())+1,this.maxLinks=2,this.speed=.5,this.a=.5,this.aReduction=.005,this.color="rgba(255,255,255,"+this.a+")",this.linkColor="rgba(255,255,255,"+this.a/4+")",this.dir=Math.floor(140*Math.random())+200}function le(e,t){return!(0==e||e-t<0)&&("undefined"!=typeof _e[e-t]&&_e[e-t])}se.prototype.draw=function(){re.fillStyle=this.color,re.shadowBlur=2*this.r,re.beginPath(),re.arc(this.x,this.y,this.r,0,2*Math.PI,!1),re.closePath(),re.fill()},se.prototype.move=function(){this.y-=.15+Ee.backgroundSpeed/100,this.y<=-10&&(this.y=ue+10),this.draw()},ie.prototype.draw=function(){re.fillStyle=this.color,re.shadowBlur=2*this.r,re.beginPath(),re.arc(this.x,this.y,this.r,0,2*Math.PI,!1),re.closePath(),re.fill()},ie.prototype.link=function(){if(0!=this.id){var e=le(this.id,1),t=le(this.id,2),a=le(this.id,3);e&&(re.strokeStyle=this.linkColor,re.moveTo(e.x,e.y),re.beginPath(),re.lineTo(this.x,this.y),0!=t&&re.lineTo(t.x,t.y),0!=a&&re.lineTo(a.x,a.y),re.stroke(),re.closePath())}},ie.prototype.move=function(){this.a-=this.aReduction,this.a<=0?this.die():(this.color="rgba(255,255,255,"+this.a+")",this.linkColor="rgba(255,255,255,"+this.a/4+")",this.x=this.x+Math.cos(Ce(this.dir))*(this.speed+Ee.dotsSpeed/100),this.y=this.y+Math.sin(Ce(this.dir))*(this.speed+Ee.dotsSpeed/100),this.draw(),this.link())},ie.prototype.die=function(){_e[this.id]=null,delete _e[this.id]};var ne,re,de,ue,me,ce,pe,he={RunIntro:Se},ge=!1,fe=[],we=80,_e=[],ye=2,Ee={maxDistFromCursor:50,dotsSpeed:0,backgroundSpeed:0};function Se(e){ne=document.getElementById(e),re=ne.getContext("2d"),ke(),ve()}function ke(){de=document.documentElement.clientWidth-8,ue=document.documentElement.clientHeight-8,ne.setAttribute("width",de),ne.setAttribute("height",ue)}function ve(){re.strokeStyle="white",re.shadowColor="white";for(var e=0;e<we;e++)fe[e]=new se(e,Math.floor(Math.random()*de),Math.floor(Math.random()*ue));re.shadowBlur=0,be()}function be(){for(var e in re.clearRect(0,0,de,ue),fe)fe[e].move();for(var t in _e)_e[t].move();Me(),requestAnimationFrame(be)}function Me(){if(ge){if(0==_e.length)return _e[0]=new ie(0,ce,pe),void _e[0].draw();var e=le(_e.length,1),t=e.x,a=e.y,o=Math.abs(t-ce),s=Math.abs(a-pe);if(!(o<ye||s<ye)){var i=Math.random()>.5?-1:1;i=i*Math.floor(Math.random()*Ee.maxDistFromCursor)+1;var l=Math.random()>.5?-1:1;l=l*Math.floor(Math.random()*Ee.maxDistFromCursor)+1,_e[_e.length]=new ie(_e.length,ce+i,pe+l),_e[_e.length-1].draw(),_e[_e.length-1].link()}}}function Ce(e){return e*(Math.PI/180)}window.onmousemove=function(e){ge=!0,ce=e.clientX,pe=e.clientY,clearInterval(me),me=setTimeout((function(){ge=!1}),100)};var Pe=a(6957),De={name:"login-withbg",computed:{...(0,Pe.Se)({GetUser:"getUser"})},mounted(){sessionStorage.removeItem("Avatar"),he.RunIntro("canvas")},data(){return{showPassword:!1,requiredRule:[e=>""!==e||"This field is required"],user:{UserName:"",Password:""},MyLoading:!1}},methods:{...(0,Pe.nv)(["Login"]),CheckUserName(){this.user.UserName.length>0&&this.$refs.txtPassword.focus()},CheckLogin:function(){if(this.user.UserName.length<=0)return alert("UserName cannot be empty!"),void this.$refs.txtUserName.focus();if(this.user.Password.length<=0)return alert("Password cannot be empty!"),void this.$refs.txtPassword.focus();this.MyLoading=!0;const e=this.$Loading.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});this.Login(this.user).then((()=>{this.$router.push("/home"),e.close()})).catch((t=>{this.MyLoading=!1,this.user.Password="",t.response?(console.log(t.response.data),alert(t.response.data)):alert(t),e.close(),setTimeout((()=>{this.$refs.txtUserName.focus(),this.$refs.txtUserName.select()}),100)}))}}},Ie=a(6931),xe=a(4633),Te=a(4686),Ue=a(483),Ne=a(1410),Fe=a.n(Ne);const Ae=(0,n.Z)(De,[["render",oe],["__scopeId","data-v-944cd5f8"]]);var Oe=Ae;Fe()(De,"components",{QInput:Ie.Z,QIcon:xe.Z,QBtn:Te.Z,QSpinnerGears:Ue.Z});const Ge={id:"welcome"};function Le(e,t,a,o,i,l){const n=(0,s.up)("clock");return(0,s.wg)(),(0,s.iD)("div",Ge,[(0,s.Wm)(n)])}var We=a(3201);const Re=e=>((0,s.dD)("data-v-4f7772e3"),e=e(),(0,s.Cn)(),e),qe={id:"clock"},Ve={class:"date"},Ze={class:"time"},ze=Re((()=>(0,s._)("p",{class:"text"}," Accept what you can’t change. Change what you can’t accept. ",-1)));function Be(e,t,a,o,i,l){return(0,s.wg)(),(0,s.iD)("div",qe,[(0,s._)("p",Ve,(0,We.zw)(i.clock.date),1),(0,s._)("p",Ze,(0,We.zw)(i.clock.time),1),ze])}var je={name:"clock-show",methods:{updateTime:function(){var e=new Date;this.clock.time=this.zeroPadding(e.getHours(),2)+":"+this.zeroPadding(e.getMinutes(),2)+":"+this.zeroPadding(e.getSeconds(),2),this.clock.date=this.zeroPadding(e.getFullYear(),4)+"-"+this.zeroPadding(e.getMonth()+1,2)+"-"+this.zeroPadding(e.getDate(),2)+" "+this.week[e.getDay()]},zeroPadding:function(e,t){for(var a="",o=0;o<t;o++)a+="0";return(a+e).slice(-t)}},mounted(){this.updateTime(),setInterval(this.updateTime,1e3)},data(){return{clock:{time:"",date:""},week:["SUN","MON","TUE","WED","THU","FRI","SAT"]}}};const Qe=(0,n.Z)(je,[["render",Be],["__scopeId","data-v-4f7772e3"]]);var He=Qe,Ye={name:"welcome-back",components:{clock:He},methods:{ShowNotify:function(){},ShowsessionStorage:function(){console.log(window.sessionStorage.getItem("UserName"))}}};const Ke=(0,n.Z)(Ye,[["render",Le],["__scopeId","data-v-0768e1d0"]]);var $e=Ke,Xe=a.p+"img/logo.e3f319de.png";const Je=e=>((0,s.dD)("data-v-57eb1367"),e=e(),(0,s.Cn)(),e),et={class:"home_container"},tt={style:{"font-size":"1.3em","margin-top":"5px",cursor:"pointer"},class:"el-dropdown-link"},at=Je((()=>(0,s._)("i",{class:"icofont-ui-password"},null,-1))),ot=Je((()=>(0,s._)("i",{class:"icofont-logout"},null,-1))),st=Je((()=>(0,s._)("i",{class:"icofont-code",style:{"margin-left":"3px","margin-right":"6px"}},null,-1))),it=Je((()=>(0,s._)("i",{style:{"margin-left":"3px","margin-right":"6px"},class:"icofont-ui-settings"},null,-1))),lt=Je((()=>(0,s._)("span",null,"Maintenance Area",-1))),nt=Je((()=>(0,s._)("i",{class:"icofont-code",style:{"margin-left":"3px","margin-right":"6px"}},null,-1))),rt=Je((()=>(0,s._)("span",null,"Development Team",-1))),dt={key:0},ut={class:"MediaPopup",ref:"MediaPopup"},mt={class:"PlayList",ref:"PlayList"};function ct(e,t,a,i,l,n){const r=(0,s.up)("ArrowDown"),d=(0,s.up)("router-link"),u=(0,s.up)("el-dropdown-item"),m=(0,s.up)("el-dropdown-menu"),c=(0,s.up)("el-dropdown"),p=(0,s.up)("el-header"),h=(0,s.up)("Expand"),g=(0,s.up)("Fold"),f=(0,s.up)("Folder"),w=(0,s.up)("el-icon"),_=(0,s.up)("el-menu-item"),y=(0,s.up)("el-menu-item-group"),E=(0,s.up)("el-sub-menu"),S=(0,s.up)("Menu",!0),k=(0,s.up)("el-menu"),v=(0,s.up)("el-aside"),b=(0,s.up)("router-view"),M=(0,s.up)("ChatBox"),C=(0,s.up)("el-main"),P=(0,s.up)("MyPlayer"),D=(0,s.up)("q-btn"),I=(0,s.up)("PlayList"),x=(0,s.up)("el-container");return(0,s.wg)(),(0,s.iD)("div",et,[(0,s.Wm)(x,{class:"home_container"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("img",{src:Xe,style:{cursor:"pointer"},alt:"",onClick:t[0]||(t[0]=t=>e.$router.push("/wellcome"))}),(0,s._)("span",{onClick:t[1]||(t[1]=t=>e.$router.push("/wellcome")),style:{cursor:"pointer"}},"CPBG MES-VN")]),(0,s._)("div",null,[(0,s._)("nav",null,[(0,s.Wm)(c,null,{dropdown:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{to:"#"},{default:(0,s.w5)((()=>[at,(0,s.Uk)(" Change Password")])),_:1})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("a",{href:"#",onClick:t[2]||(t[2]=(0,o.iM)(((...e)=>n.logout&&n.logout(...e)),["prevent"]))},[ot,(0,s.Uk)(" Logout")])])),_:1})])),_:1})])),default:(0,s.w5)((()=>[(0,s._)("span",tt,[(0,s.Uk)((0,We.zw)(l.UserName)+" ",1),(0,s.Wm)(r,{style:{width:"1em",height:"1em","margin-bottom":"-3px"}})])])),_:1})])])])),_:1}),(0,s.Wm)(x,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{width:l.mColap?"200px":"64px",style:{"min-height":"93vh"}},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"toggle-button",onClick:t[3]||(t[3]=(...e)=>n.toggleCollapse&&n.toggleCollapse(...e)),id:"toggle-button"},[l.mColap?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(h,{key:0,style:{width:"2em",height:"2em"}})),l.mColap?((0,s.wg)(),(0,s.j4)(g,{key:1,style:{width:"2em",height:"2em"}})):(0,s.kq)("",!0)]),(0,s.Wm)(k,{class:"elmenu","background-color":"#333744","text-color":"#fff","active-text-color":"#409eff","unique-opened":!0,collapse:!l.mColap,"collapse-transition":!1,router:!0,"default-active":e.activePath},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.Menu.filter((e=>"SUB_MENU"===e.TYPE)),((t,a)=>((0,s.wg)(),(0,s.j4)(E,{key:a,index:a,disabled:!t.DISPLAY_STATUS.includes("ENABLE")||e.GetUser.AdminRole<t.ROLE_REQUIRE},{title:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(f)])),_:1}),(0,s._)("span",null,(0,We.zw)(t.NAME),1)])),default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.CHILDREN,((t,a)=>((0,s.wg)(),(0,s.j4)(y,{key:a,title:t.NAME},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.CHILDREN,((t,a)=>((0,s.wg)(),(0,s.j4)(_,{key:a,index:t.LINK_TO,disabled:!t.DISPLAY_STATUS.includes("ENABLE")||e.GetUser.AdminRole<t.ROLE_REQUIRE},{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(n.GetIcon(a))))])),_:2},1024),(0,s.Uk)(" "+(0,We.zw)(t.NAME),1)])),_:2},1032,["index","disabled"])))),128))])),_:2},1032,["title"])))),128))])),_:2},1032,["index","disabled"])))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.Menu.filter((e=>"MENU_ITEM"===e.TYPE)),((e,t)=>((0,s.wg)(),(0,s.j4)(_,{key:t,index:e.LINK_TO,disabled:!e.DISPLAY_STATUS.includes("ENABLE")},{default:(0,s.w5)((()=>[st,(0,s._)("span",null,(0,We.zw)(e.NAME),1)])),_:2},1032,["index","disabled"])))),128)),(0,s.Wm)(E,{disabled:e.GetUser.AdminRole<=8,index:"2"},{title:(0,s.w5)((()=>[it,lt])),default:(0,s.w5)((()=>[(0,s.Wm)(y,{title:"Menu"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{index:"/menumana"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(S)])),_:1}),(0,s.Uk)("Menu Management")])),_:1})])),_:1})])),_:1},8,["disabled"]),(0,s.Wm)(_,{index:"/about"},{default:(0,s.w5)((()=>[nt,rt])),_:1})])),_:1},8,["collapse","default-active"])])),_:1},8,["width"]),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b),e.GetUser.AdminRole>=9?((0,s.wg)(),(0,s.j4)(M,{key:0})):(0,s.kq)("",!0)])),_:1}),"91023991"==e.GetUser.UserName&&e.GetUser.AdminRole>=9?((0,s.wg)(),(0,s.iD)("div",dt,[(0,s._)("div",ut,[(0,s.Wm)(P,{onShowList:n.ShowPlayList,lstCollapse:l.PlayListCollap,trackList:l.CurrentTrackList,onCurrentTrackUpdate:n.CurrentTrackUpdate,ref:"MyPlayer"},null,8,["onShowList","lstCollapse","trackList","onCurrentTrackUpdate"])],512),(0,s._)("div",mt,[(0,s.Wm)(D,{icon:l.showListIcon,square:"",color:"purple-5",onClick:n.ShowPlayList,glossy:"","text-color":"black",class:"absolute-left",style:{width:"35px",padding:"0"}},null,8,["icon","onClick"]),(0,s.Wm)(I,{onPlayListUpdate:n.PlayListUpdate,ref:"MyPlaylist",onTrackToPlay:n.TrackToPlay},null,8,["onPlayListUpdate","onTrackToPlay"])],512),(0,s.Wm)(D,{class:"fixed-bottom-right q-ma-md",fab:"",color:"purple-7",size:"lg",icon:"radio",onClick:n.ShowPlayer,style:{right:"60px !important","z-index":"997"}},null,8,["onClick"])])):(0,s.kq)("",!0)])),_:1})])),_:1})])}const pt=e=>((0,s.dD)("data-v-41eeecff"),e=e(),(0,s.Cn)(),e),ht={style:{width:"100%"}},gt={ref:"ctlPanel",class:"ctlPanel"},ft=["src"],wt={class:"mainPlayer"},_t=["max"],yt={class:"btnGroupControl"},Et=pt((()=>(0,s._)("i",{class:"fa-solid fa-backward-fast"},null,-1))),St=[Et],kt={key:0,class:"fa-solid fa-play"},vt={key:1,class:"fa-solid fa-pause"},bt=pt((()=>(0,s._)("i",{class:"fa-solid fa-forward-fast"},null,-1))),Mt=[bt],Ct={class:"btnMarquee"},Pt={class:"showTime"},Dt={style:{display:"inline"}},It={style:{display:"inline"}},xt={class:"extraControl"},Tt={style:{position:"relative",display:"inline-block"}};function Ut(e,t,a,i,l,n){const r=(0,s.up)("el-tooltip"),d=(0,s.up)("marquee");return(0,s.wg)(),(0,s.iD)("div",ht,[(0,s._)("div",gt,[(0,s._)("audio",{ref:"player",onTimeupdate:t[0]||(t[0]=(...e)=>n.ShowCurrentTime&&n.ShowCurrentTime(...e)),preload:"none"},[(0,s._)("source",{src:l.trackinfo.src,type:"audio/mpeg"},null,8,ft)],544),(0,s.Wm)(r,{visible:l.ttvisible,"onUpdate:visible":t[1]||(t[1]=e=>l.ttvisible=e),content:n.timetostring(l.trackinfo.current_time),placement:"top",effect:"light",trigger:"click","virtual-triggering":"","virtual-ref":l.tooltipRef},null,8,["visible","content","virtual-ref"]),(0,s._)("div",wt,[(0,s.wy)((0,s._)("input",{ref:"pcTime",onMousedown:t[2]||(t[2]=(...e)=>n.pg_mouseDown&&n.pg_mouseDown(...e)),onMouseup:t[3]||(t[3]=(...e)=>n.pg_mouseUp&&n.pg_mouseUp(...e)),onMousemove:t[4]||(t[4]=(...e)=>n.valueOnMouse&&n.valueOnMouse(...e)),type:"range",name:"myRange",id:"myRange",min:"0",max:Math.floor(l.trackinfo.totaltime),class:"slider","onUpdate:modelValue":t[5]||(t[5]=e=>l.trackinfo.current_time=e)},null,40,_t),[[o.nr,l.trackinfo.current_time]]),(0,s._)("div",yt,[(0,s._)("button",{class:"btnPrev",onClick:t[6]||(t[6]=(...e)=>n.PreviousPlay&&n.PreviousPlay(...e))},St),(0,s._)("button",{class:"btnPlay",onClick:t[7]||(t[7]=(...e)=>n.play&&n.play(...e))},[l.isPlaying?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("i",kt)),l.isPlaying?((0,s.wg)(),(0,s.iD)("i",vt)):(0,s.kq)("",!0)]),(0,s._)("button",{class:"btnNext",onClick:t[8]||(t[8]=(...e)=>n.NextPlay&&n.NextPlay(...e))},Mt),(0,s._)("button",Ct,[(0,s.Wm)(d,{scrollamount:"2"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(l.trackinfo.title),1)])),_:1})])]),(0,s._)("div",Pt,[(0,s._)("p",Dt,(0,We.zw)(n.timetostring(l.trackinfo.current_time)),1),(0,s._)("p",It," / "+(0,We.zw)(n.timetostring(l.trackinfo.totaltime)),1)]),(0,s._)("div",xt,[(0,s._)("div",Tt,[(0,s._)("i",{class:(0,We.C_)(["fa-solid fa-repeat",{extraControlActive:l.repeat}]),onClick:t[9]||(t[9]=(...e)=>n.RepeatTrack&&n.RepeatTrack(...e))},null,2),(0,s.wy)((0,s._)("p",{class:(0,We.C_)(["numOfRP",{extraControlActive:l.repeat}])},(0,We.zw)(l.repeatNum),3),[[o.F8,l.repeat]])]),(0,s._)("i",{class:(0,We.C_)(["fa-solid fa-shuffle",{extraControlActive:l.shuffle}]),onClick:t[10]||(t[10]=(...e)=>n.ShuffleTrack&&n.ShuffleTrack(...e))},null,2),(0,s._)("i",{class:(0,We.C_)(["fa-solid fa-bars-staggered",{extraControlActive:!a.lstCollapse}]),onClick:t[11]||(t[11]=(...e)=>n.ShowList&&n.ShowList(...e))},null,2)])])],512)])}var Nt={name:"AudioPlayer",props:{src:{type:String,required:!1},lstCollapse:{type:Boolean,required:!1,default:!0},trackList:{type:Array,required:!0}},data(){return{shuffle:!1,repeat:!1,repeatNum:void 0,l2play:!0,trackinfo:{src:"",title:"chan lam roi",current_time:0,totaltime:0,idx:-1,DB_ID:0},ttvisible:!1,tooltipRef:{getBoundingClientRect:()=>this.position},isPlaying:!1,position:{top:0,left:0,bottom:0,right:0}}},mounted(){var e=this;this.$refs.player.addEventListener("pause",(function(){e.isPlaying&&(e.isPlaying=!1)})),this.$refs.player.addEventListener("play",(function(){e.isPlaying||(e.isPlaying=!0),e.userPaused=!1})),this.$refs.player.addEventListener("ended",(function(){e.NextPlay()})),this.$refs.player.addEventListener("seeked",(function(){this.play()}))},methods:{ShuffleTrack(){this.shuffle=!this.shuffle},RepeatTrack(){this.repeat&&"A"==this.repeatNum?this.repeat=!1:(this.repeat=!0,this.repeatNum="1"==this.repeatNum?"A":"1")},PreviousPlay(){const e=this.trackinfo.idx-1;e>=0&&this.PlayFromList(this.trackList[e].ID)},NextPlay(){const e=this.trackinfo.idx+1;e<this.trackList.length&&this.PlayFromList(this.trackList[e].ID)},PlayFromList(e){this.$refs.player.paused||this.pause(),this.trackList.forEach(((t,a)=>{if(t.ID==e)return this.trackinfo={src:`${this.axios.defaults.baseURL}api/Funapp/StreamAudio?id=${t.ID}`,title:t.FILE_NAME,current_time:0,totaltime:0,idx:a,DB_ID:e},this.l2play=!0,void setTimeout((()=>this.play()),100)}))},ShowList(){this.$emit("ShowList")},play(){if(-1==this.trackinfo.idx)return this.NextPlay(),void console.log("NextPlay");this.isPlaying?this.pause():this.trackinfo.src&&(this.l2play&&(this.$refs.player.load(),this.l2play=!1),this.$refs.player.play()),this.$emit("CurrentTrackUpdate",this.trackinfo)},ShowCurrentTime(){this.ttvisible||(this.$refs.player&&(this.trackinfo.current_time=this.$refs.player.currentTime),this.$refs.player&&(this.trackinfo.totaltime=this.$refs.player.duration))},pause(){this.userPaused=!0,this.$refs.player.pause()},pg_mouseDown(){this.ttvisible=!0},pg_mouseUp(){this.ttvisible=!1,this.$refs.player.currentTime=this.trackinfo.current_time},valueOnMouse:function(e){if(this.ttvisible){const t=this.$refs.pcTime.getBoundingClientRect();this.position=DOMRect.fromRect({width:10,height:10,x:e.clientX,y:t.top})}},timetostring:function(e){var t=parseInt(e,10),a=Math.floor(t/3600),o=Math.floor((t-3600*a)/60),s=t-3600*a-60*o;return a<10&&(a="0"+a),o<10&&(o="0"+o),s<10&&(s="0"+s),a+":"+o+":"+s}}};const Ft=(0,n.Z)(Nt,[["render",Ut],["__scopeId","data-v-41eeecff"]]);var At=Ft;const Ot=e=>((0,s.dD)("data-v-6dc3e903"),e=e(),(0,s.Cn)(),e),Gt={ref:"DocList",class:"DocList"},Lt={key:0,ref:"listCard",class:"listCard"},Wt={style:{"overflow-y":"auto",height:"200px"}},Rt={style:{"text-align":"left"}},qt=["onClick"],Vt=Ot((()=>(0,s._)("hr",null,null,-1))),Zt={style:{"overflow-y":"auto"}},zt={style:{"text-align":"left"}},Bt=["onClick"],jt=Ot((()=>(0,s._)("i",{class:"fa-solid fa-list-ul"},null,-1)));function Qt(e,t,a,o,i,l){return(0,s.wg)(),(0,s.iD)("div",Gt,[e.lstCollapse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Lt,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("div",Wt,[(0,s._)("ul",Rt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.trackList,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,onClick:t=>l.PlayFromList(e.ID),class:(0,We.C_)({playingTrack:e.ID==i.PlayingTrack.ID})},[(0,s._)("i",{class:(0,We.C_)(["fa-solid",{"fa-book":e.ID!=i.PlayingTrack.ID,"fa-compact-disc":e.ID==i.PlayingTrack.ID,"fa-spin":e.ID==i.PlayingTrack.ID}])},null,2),(0,s.Uk)(" "+(0,We.zw)(e.FILE_NAME),1)],10,qt)))),128))])])])]),Vt,(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("div",Zt,[(0,s._)("ul",zt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.CategoryList,((t,a)=>((0,s.wg)(),(0,s.iD)("li",{key:a,onClick:e=>l.GetDocList(t),class:(0,We.C_)({playingTrack:t==e.CurrentCate})},[jt,(0,s.Uk)(" "+(0,We.zw)(t),1)],10,Bt)))),128))])])])])],512))],512)}var Ht={data(){return{CategoryList:[],trackList:[],PlayingTrack:{ID:0}}},mounted(){this.GetAllCategory()},methods:{async GetAllCategory(){await this.axios.get("api/Funapp/GetAllCategory").then((e=>{this.CategoryList=e.data,this.trackList.length<1&&this.GetDocList(this.CategoryList[0])})).catch((e=>{console.log(e.response.data)}))},UpdatePlayingTrack(e){this.PlayingTrack.ID=e},PlayFromList(e){this.$emit("TrackToPlay",e),this.UpdatePlayingTrack(e)},async GetDocList(e){e!=this.CurrentCate&&(this.CurrentCate=e,await this.axios.get(`api/Funapp/GetDocList?cate=${e}`).then((e=>{this.trackList=e.data,this.$emit("PlayListUpdate",this.trackList)})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})})))}}};const Yt=(0,n.Z)(Ht,[["render",Qt],["__scopeId","data-v-6dc3e903"]]);var Kt=Yt;function $t(e,t,a,o,i,l){const n=(0,s.up)("q-btn"),r=(0,s.up)("MainBox"),d=(0,s.up)("q-card"),u=(0,s.Q2)("morph");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.wy)((0,s.Wm)(n,{class:"fixed-bottom-right q-ma-md",fab:"",color:"primary",size:"lg",icon:"chat",onClick:l.nextMorph,style:{"z-index":"999"}},null,8,["onClick"]),[[u,i.morphGroupModel,"btn:mygroup:300",{resize:!0}]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(d,{class:"fixed-bottom-right transparent-card",style:{width:"900px","z-index":"999"}},{default:(0,s.w5)((()=>["card1"==i.morphGroupModel?((0,s.wg)(),(0,s.j4)(r,{key:0,onCloseChatBox:l.nextMorph},null,8,["onCloseChatBox"])):(0,s.kq)("",!0)])),_:1})),[[u,i.morphGroupModel,"card1:mygroup:500",{resize:!0}]])],64)}var Xt=a.p+"img/userBGR.83363389.png";const Jt=e=>((0,s.dD)("data-v-73e7a2da"),e=e(),(0,s.Cn)(),e),ea={class:"q-pa-md"},ta={key:1},aa=["src"],oa=Jt((()=>(0,s._)("div",{class:"text-h4 q-mb-md"},"Movies",-1))),sa=Jt((()=>(0,s._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),ia={class:"absolute-bottom bg-transparent"},la=["src"],na={class:"text-weight-bold"},ra={key:0,class:"fit absolute-center",style:{"background-color":"rgba(0, 255, 255, 0.596)"}},da={class:"myDialog absolute-center"},ua={class:"absolute-bottom"};function ma(e,t,a,i,l,n){const r=(0,s.up)("q-input"),d=(0,s.up)("q-toolbar-title"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-toolbar"),c=(0,s.up)("q-header"),p=(0,s.up)("q-badge"),h=(0,s.up)("q-tab"),g=(0,s.up)("q-tabs"),f=(0,s.up)("q-icon"),w=(0,s.up)("q-item-section"),_=(0,s.up)("q-item"),y=(0,s.up)("q-list"),E=(0,s.up)("q-menu"),S=(0,s.up)("q-avatar"),k=(0,s.up)("Group"),v=(0,s.up)("q-separator"),b=(0,s.up)("q-tab-panel"),M=(0,s.up)("FriendsList"),C=(0,s.up)("q-tab-panels"),P=(0,s.up)("q-splitter"),D=(0,s.up)("q-scroll-area"),I=(0,s.up)("q-img"),x=(0,s.up)("q-drawer"),T=(0,s.up)("His"),U=(0,s.up)("q-item-label"),N=(0,s.up)("q-select"),F=(0,s.up)("q-page"),A=(0,s.up)("q-page-container"),O=(0,s.up)("q-layout"),G=(0,s.Q2)("close-popup"),L=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.iD)("div",ea,[(0,s.Wm)(O,{view:"lHh Lpr lff",container:"",style:{height:"500px"},class:"shadow-2 rounded-borders"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{elevated:"",class:"bg-cyan-8"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[l.GroupEditing?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,onDblclick:t[0]||(t[0]=e=>l.GroupEditing=!0)},(0,We.zw)(l.GroupName),33)),l.GroupEditing?((0,s.wg)(),(0,s.iD)("div",ta,[(0,s.Wm)(r,{modelValue:l.GroupName,"onUpdate:modelValue":t[1]||(t[1]=e=>l.GroupName=e),dense:"",autofocus:"",counter:"",onKeyup:(0,o.D2)(n.GroupNameEdit,["enter"])},null,8,["modelValue","onKeyup"])])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(u,{flat:"",icon:"person_add",round:"",dense:"",disable:l.CurrentGroupID<=0,onClick:t[2]||(t[2]=()=>{this.addUser=this.CurrentGroupID>0,this.NewChat=!1})},null,8,["disable"]),(0,s.Wm)(u,{flat:"",onClick:t[3]||(t[3]=e=>l.drawer=!l.drawer),round:"",dense:"",icon:"menu"}),(0,s.Wm)(u,{flat:"",icon:"cancel",round:"",dense:"",onClick:t[4]||(t[4]=t=>e.$emit("CloseChatBox"))})])),_:1})])),_:1}),(0,s.Wm)(x,{modelValue:l.drawer,"onUpdate:modelValue":t[9]||(t[9]=e=>l.drawer=e),"show-if-above":"",width:300,breakpoint:400},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(P,{modelValue:l.splitterModel,"onUpdate:modelValue":t[8]||(t[8]=e=>l.splitterModel=e),style:{height:"350px"}},{before:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:l.tab,"onUpdate:modelValue":t[5]||(t[5]=e=>l.tab=e),"indicator-color":"transparent","active-color":"lime-11",class:"bg-teal text-grey-5 shadow-2",vertical:"",style:{height:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{name:"chats",icon:"chat"},{default:(0,s.w5)((()=>[l.TotalUnread>0?((0,s.wg)(),(0,s.j4)(p,{key:0,color:"red",floating:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(l.TotalUnread),1)])),_:1})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(h,{name:"friends",icon:"group"}),(0,s.Wm)(h,{name:"others",icon:"favorite"})])),_:1},8,["modelValue"])])),after:(0,s.w5)((()=>[(0,s.Wm)(C,{modelValue:l.tab,"onUpdate:modelValue":t[7]||(t[7]=e=>l.tab=e),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{name:"chats"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.GroupList,((e,a)=>((0,s.wg)(),(0,s.j4)(y,{style:{"margin-left":"-15px"},key:a},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{style:{"z-index":"9999"},"touch-position":"","context-menu":"",ref_for:!0,ref:"myMenu","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(_,{clickable:"",onClick:t[6]||(t[6]=()=>{this.addUser=!0,this.NewChat=!0})},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{color:"indigo-14",name:"add_comment"})])),_:1}),(0,s.Wm)(w,{style:{"margin-left":"-25px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("New Chat")])),_:1})])),_:1})),[[G]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(_,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{color:"indigo-14",name:"fact_check"})])),_:1}),(0,s.Wm)(w,{style:{"margin-left":"-25px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("Group Manage")])),_:1})])),_:1})),[[G]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(_,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{color:"red-13",name:"clear_all"})])),_:1}),(0,s.Wm)(w,{style:{"margin-left":"-25px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("Clear History")])),_:1})])),_:1})),[[G]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(_,{clickable:"",onClick:n.GroupDelete},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{color:"red-13",name:"delete"})])),_:1}),(0,s.Wm)(w,{style:{"margin-left":"-25px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("Delete Group")])),_:1})])),_:1},8,["onClick"])),[[G]])])),_:1})])),_:1},512),(0,s.wy)(((0,s.wg)(),(0,s.j4)(_,{style:{"margin-left":"-15px","margin-right":"-15px"},active:e.GROUP_ID==l.activeID,clickable:"","active-class":"GroupActiveClass",onClick:t=>n.GroupClick(e.GROUP_ID,e.GROUP_NAME),onContextmenu:t=>n.GroupRightClick(e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s._)("img",{src:l.GroupAvatarList[a]},null,8,aa)])),_:2},1024)])),_:2},1024),(0,s.Wm)(w,{style:{margin:"-15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{GroupName:e.GROUP_NAME,LastMsg:l.GroupList[a].INFO.LAST_MSG,UnreadNum:l.GroupList[a].INFO.UNREAD_NUM,LastTime:n.GenStampTime(l.GroupList[a].INFO.LAST_TIME)},null,8,["GroupName","LastMsg","UnreadNum","LastTime"])])),_:2},1024)])),_:2},1032,["active","onClick","onContextmenu"])),[[L]]),(0,s.wy)((0,s.Wm)(v,{color:"grey-4"},null,512),[[o.F8,!(e.GROUP_ID==l.activeID)]])])),_:2},1024)))),128))])),_:1}),(0,s.Wm)(b,{name:"friends",style:{padding:"0"}},{default:(0,s.w5)((()=>[(0,s.Wm)(M)])),_:1}),(0,s.Wm)(b,{name:"others"},{default:(0,s.w5)((()=>[oa,sa])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])])),_:1}),(0,s.Wm)(I,{class:"absolute-top",src:Xt,style:{height:"150px"}},{default:(0,s.w5)((()=>[(0,s._)("div",ia,[(0,s.Wm)(S,{size:"56px",class:"q-mb-sm",style:{cursor:"pointer"}},{default:(0,s.w5)((()=>[(0,s._)("img",{src:n.imageFromByte(l.Avatar)},null,8,la)])),_:1}),(0,s._)("div",na,(0,We.zw)(e.GetUser.Name),1),(0,s._)("div",null,(0,We.zw)(e.GetUser.Email),1)])])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(A,{class:"custom-page-container"},{default:(0,s.w5)((()=>[(0,s.Wm)(F,null,{default:(0,s.w5)((()=>[(0,s.Wm)(T,{ref:"MyHis",onUpdateGroupInfo:n.UpdateGroupFromHis,onUpdateLastMSG:n.LastMSGUpdate},null,8,["onUpdateGroupInfo","onUpdateLastMSG"]),l.addUser?((0,s.wg)(),(0,s.iD)("div",ra,[(0,s._)("div",da,[l.NewChat?((0,s.wg)(),(0,s.j4)(r,{key:0,clearable:"",modelValue:l.NewGroupName,"onUpdate:modelValue":t[10]||(t[10]=e=>l.NewGroupName=e),label:"Group Name","input-style":"text-align: center; font-size: 2em;",style:{"margin-left":"10px","margin-right":"10px"}},null,8,["modelValue"])):(0,s.kq)("",!0),(0,s.Wm)(N,{modelValue:l.selectedUser,"onUpdate:modelValue":t[11]||(t[11]=e=>l.selectedUser=e),clearable:"","use-input":"","options-selected-class":"text-deep-orange",label:"Select Emp",options:l.lstMembers,onFilter:n.filterFn,onFilterAbort:n.abortFilterFn,style:{margin:"5px"},multiple:"",counter:"","popup-content-style":"z-index: 999;"},{option:(0,s.w5)((e=>[(0,s.Wm)(_,(0,We.vs)((0,s.F4)(e.itemProps)),{default:(0,s.w5)((()=>[(0,s.Wm)(w,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{name:e.opt.icon},null,8,["name"])])),_:2},1024),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(e.opt.label),1)])),_:2},1024),(0,s.Wm)(U,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(e.opt.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),(0,s._)("div",ua,[(0,s.Wm)(u,{icon:"done",color:"primary",style:{width:"150px",margin:"5px"},onClick:n.AddGroupUser},{default:(0,s.w5)((()=>[(0,s.Uk)("OK")])),_:1},8,["onClick"]),(0,s.Wm)(u,{icon:"cancel",color:"red",style:{width:"150px",margin:"5px"},onClick:t[12]||(t[12]=e=>l.addUser=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1})])])])):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})])}var ca=a(8492),pa=a.n(ca),ha=a(4706),ga=a.n(ha),fa=a(885),wa=a.p+"media/message_tone.839d2770.mp3";const _a=e=>((0,s.dD)("data-v-e6e8abae"),e=e(),(0,s.Cn)(),e),ya={class:"hello"},Ea=_a((()=>(0,s._)("source",{src:wa,type:"audio/mpeg"},null,-1))),Sa=[Ea],ka={class:"q-pa-md row justify-center"},va={style:{width:"100%"}};function ba(e,t,a,i,l,n){const r=(0,s.up)("Qmsg"),d=(0,s.up)("q-scroll-area"),u=(0,s.up)("ctlBar");return(0,s.wg)(),(0,s.iD)("div",ya,[(0,s._)("audio",{ref:"player",onTimeupdate:t[0]||(t[0]=(...t)=>e.ShowCurrentTime&&e.ShowCurrentTime(...t)),preload:"auto"},Sa,544),(0,s.Wm)(d,{dark:"",class:"text-white rounded-borders",style:{width:"100%",height:"370px"},ref:"hisScroll",onScroll:e.onHisScroll},{default:(0,s.w5)((()=>[(0,s._)("div",ka,[(0,s._)("div",va,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.ChatHis,((t,a)=>((0,s.wg)(),(0,s.j4)(r,{key:a,Name:t.Sender,MemberID:t.ID,BGColor:t.ID==e.GetUser.EMP_ID?l.MSGTextColor.Sender:l.MSGTextColor.Receiver,Message:t.message,Sent:t.ID==e.GetUser.EMP_ID,Stamp:t.SENT_TIME,TextColor:"white"},null,8,["Name","MemberID","BGColor","Message","Sent","Stamp"])))),128))])])])),_:1},8,["onScroll"]),(0,s.wy)((0,s.Wm)(u,{ref:"msgCtlBar",onMessageSent:n.LocalSentMSG},null,8,["onMessageSent"]),[[o.F8,l.ShowCtlBar]])])}var Ma=a(1945);function Ca(e,t,a,o,i,l){const n=(0,s.up)("MyMSG");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{messages:a.Message,msgType:"text",Owner:a.Sent,sender:a.Name,stamp:l.GenStampTime(a.Stamp),avatar:i.MemberInfo?l.imageFromByte(i.MemberInfo.AVATAR):i.noIMG},null,8,["messages","Owner","sender","stamp","avatar"])])}const Pa={class:"classBo"},Da={key:0,class:"container"},Ia={class:"avatar shadow-8"},xa=["src"],Ta={class:"Sender"},Ua={key:0},Na={key:1,class:"msgImg"},Fa=["src"],Aa={class:"Stamp"},Oa={key:1,class:"OwnerContainer"},Ga={class:"avatar shadow-8"},La=["src"],Wa={class:"Sender"},Ra={key:0},qa={key:1,class:"msgImg"},Va=["src"],Za={class:"Stamp"};function za(e,t,a,o,i,l){return(0,s.wg)(),(0,s.iD)("div",Pa,[a.Owner?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Da,[(0,s._)("div",Ia,[(0,s._)("img",{src:a.avatar,alt:""},null,8,xa)]),(0,s._)("span",Ta,(0,We.zw)(a.sender),1),"text"===a.msgType?((0,s.wg)(),(0,s.iD)("div",Ua,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.messages,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",{class:(0,We.C_)(["msgText shadow-8",{lastMSG:t==a.messages.length-1}])},(0,We.zw)(e.text),3)])))),128))])):(0,s.kq)("",!0),"img"===a.msgType?((0,s.wg)(),(0,s.iD)("div",Na,[(0,s._)("img",{src:a.avatar,alt:""},null,8,Fa)])):(0,s.kq)("",!0),(0,s._)("span",Aa,(0,We.zw)(a.stamp),1)])),a.Owner?((0,s.wg)(),(0,s.iD)("div",Oa,[(0,s._)("div",Ga,[(0,s._)("img",{src:a.avatar,alt:""},null,8,La)]),(0,s._)("span",Wa,(0,We.zw)(a.sender),1),"text"===a.msgType?((0,s.wg)(),(0,s.iD)("div",Ra,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.messages,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",{class:(0,We.C_)(["msgText shadow-8",{lastMSG:t==a.messages.length-1}])},(0,We.zw)(e.text),3)])))),128))])):(0,s.kq)("",!0),"img"===a.msgType?((0,s.wg)(),(0,s.iD)("div",qa,[(0,s._)("img",{src:a.avatar,alt:""},null,8,Va)])):(0,s.kq)("",!0),(0,s._)("span",Za,(0,We.zw)(a.stamp),1)])):(0,s.kq)("",!0)])}var Ba={props:{messages:{type:Array,required:!1,default:()=>[{text:"m1"},{text:"m2"},{text:"m3aaaaaaaaaaaaaaaaaaaaaaaaa aaaaaaaaaaaaaaaaaaaaaaaaaa aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}]},sender:{type:String,required:!1,default:"CHAN QUA NHI"},msgType:{type:String,required:!1,default:"text"},Owner:{type:Boolean,required:!1,default:!1},stamp:{type:String,required:!1,default:"5 minutes ago"},avatar:{type:String,required:!1,default:""}},data(){return{noIMG:`${this.axios.defaults.baseURL}Images/noIMG.png`}}};const ja=(0,n.Z)(Ba,[["render",za],["__scopeId","data-v-b2764320"]]);var Qa=ja;pa().extend(ga());var Ha={name:"qmsg-1",components:{MyMSG:Qa},props:{Name:{type:String,required:!0},MemberID:{type:Number,required:!1},Stamp:Date,Sent:Boolean,TextColor:String,BGColor:String,Message:Array},mounted(){this.getMember(this.MemberID)},methods:{GenStampTime(e){if(!e)return"N/A";const t=new Date(e),a=new Date,o=a.getTime()-t.getTime(),s=Math.floor(o/864e5);return s>7?e:pa()(t).fromNow()},imageFromByte(e){return`data:image/jpeg;base64,${e}`},async getMember(e){const t=sessionStorage.getItem(`avt${e}`);t.length>500?this.MemberInfo={AVATAR:t}:await this.axios.get(`api/chatapp/MemberInfo?emp_id=${e}`).then((e=>{this.MemberInfo=e.data,sessionStorage.setItem(`avt${this.MemberInfo.EMP_ID}`,this.MemberInfo.AVATAR)})).catch((e=>{console.log(e)}))}},data(){return{msg_size:6,MemberInfo:void 0,noIMG:`${this.axios.defaults.baseURL}Images/noImg.png`}}};const Ya=(0,n.Z)(Ha,[["render",Ca],["__scopeId","data-v-55d7bbbf"]]);var Ka=Ya;const $a={ref:"emojiPicker",class:"emojiPicker"};function Xa(e,t,a,i,l,n){const r=(0,s.up)("EmojiPicker"),d=(0,s.up)("q-btn"),u=(0,s.up)("q-btn-group"),m=(0,s.up)("q-space"),c=(0,s.up)("q-bar"),p=(0,s.up)("q-input");return(0,s.wg)(),(0,s.iD)("div",{style:{width:"100%","background-color":"#bde9f2",position:"relative","border-radius":"5px"},class:(0,We.C_)({disabled:!l.connected})},[(0,s.Wm)(c,{dense:"",class:"bg-teal text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",$a,[(0,s.Wm)(r,{onEmojiSelect:n.EmojiPick},null,8,["onEmojiSelect"])],512),(0,s.Wm)(u,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{square:"",icon:"sentiment_satisfied",onClick:n.ShowEmoji,ref:"btnShowEmoji"},null,8,["onClick"]),(0,s.Wm)(d,{square:"",icon:"content_cut"}),(0,s.Wm)(d,{square:"",icon:"drive_folder_upload"}),(0,s.Wm)(d,{square:"",icon:"edit_location"})])),_:1}),(0,s.Wm)(m),(0,s.Wm)(u,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{square:"",icon:"history"})])),_:1})])),_:1}),(0,s.Wm)(p,{modelValue:l.message,"onUpdate:modelValue":t[0]||(t[0]=e=>l.message=e),type:"textarea",standout:"bg-teal-2 text-white","input-style":"height: 50px;",disable:!l.connected,onKeyup:(0,o.D2)(n.sendMessage,["enter"])},null,8,["modelValue","disable","onKeyup"]),(0,s.Wm)(d,{disable:!l.connected,onClick:n.sendMessage,size:"20px",round:"",dense:"",flat:"",icon:"send",style:{position:"absolute",bottom:"2px",right:"15px"}},null,8,["disable","onClick"])],2)}function Ja(e,t,a,o,i,l){const n=(0,s.up)("EmojiPicker",!0);return(0,s.wg)(),(0,s.j4)(n,{native:!0,onSelect:l.onSelectEmoji,theme:"light",disableSkinTones:!0},null,8,["onSelect"])}var eo=a(4335),to={name:"App",components:{EmojiPicker:eo.Z},data(){return{}},methods:{onSelectEmoji(e){this.$emit("EmojiSelect",e)}}};const ao=(0,n.Z)(to,[["render",Ja],["__scopeId","data-v-866705ea"]]);var oo=ao,so={computed:{},components:{EmojiPicker:oo},data(){return{messages:[],message:"",connected:!1,EmojiVisible:!1}},beforeUnmount(){},mounted(){},methods:{EmojiPick(e){this.message+=e.i},handleClickOutside(e){this.$refs.emojiPicker&&!this.$refs.emojiPicker.contains(e.target)&&this.EmojiVisible&&this.ShowEmoji()},ShowEmoji(){this.EmojiVisible?(this.$refs.emojiPicker.style.scale="0",document.removeEventListener("click",this.handleClickOutside)):(this.$refs.emojiPicker.style.scale="1",document.addEventListener("click",this.handleClickOutside)),setTimeout((()=>{this.EmojiVisible=!this.EmojiVisible}),100)},EnableSender(e){this.connected=e},sendMessage(){const e=this.message.replace("\n","");this.message="",e?this.$emit("MessageSent",e):this.$message({type:"error",message:"Cannot send blank message!"})}}},io=a(8790),lo=a(8712),no=a(3139);const ro=(0,n.Z)(so,[["render",Xa],["__scopeId","data-v-37b7b3e4"]]);var uo=ro;Fe()(so,"components",{QBar:io.Z,QBtnGroup:lo.Z,QBtn:Te.Z,QSpace:no.Z,QInput:Ie.Z});var mo={name:"HistoryBox",components:{Qmsg:Ka,ctlBar:uo},computed:{...(0,Pe.Se)({GetUser:"getUser"})},props:{},beforeUnmount(){this.socket&&this.socket.disconnect()},mounted(){this.RefreshData(),this.InitSocket()},data(){return{url:"http://172.23.20.170:3001",socket:void 0,connected:!1,HisVisible:!1,GroupID:0,testIMG:"",MSGTextColor:{Sender:"indigo-14",Receiver:"blue-grey-3"},members:void 0,ChatHis:[],lastMSG:void 0,lstGroupName:void 0,ShowCtlBar:!1}},methods:{UpdateGroupNameList(e){this.lstGroupName=e,this.JoinSkRoom()},JoinSkRoom(){if(this.lstGroupName&&!(this.lstGroupName.length<=0))return new Promise(((e,t)=>{this.connected?e(this.socket.emit("joinRoom",this.lstGroupName)):t("Not connect to Server")}))},InitSocket(){this.socket=(0,Ma.io)(this.url),this.socket.on("connect",(()=>{console.log("Connected to server."),this.connected=!0,this.JoinSkRoom(),this.$refs.msgCtlBar.EnableSender(this.connected)})),this.socket.on("disconnect",(()=>{console.log("Disconnect from server"),this.connected=!1})),this.socket.on("msgFromServer",(e=>{if(console.log(e),e.msg.group_id==this.GroupID){this.sendReadAllMsg(this.GroupID);const t={Sender:this.members.find((t=>t.EMP_ID==e.msg.sender)).EMP_NAME,ID:e.msg.sender,message:[{text:e.msg.content}],SENT_TIME:new Date};this.MessageToUI(t)}this.$emit("UpdateGroupInfo",{GROUP_ID:e.msg.group_id,LAST_MSG:e.msg.content,UNREAD_NUM:1}),this.$refs.player.play()}))},sendMessage(e){this.socket.emit("sendMsg",{type:"ownMsg",msg:{content:e,type:"text",sender:this.GetUser.EMP_ID,receiver:0,group_id:this.GroupID,media_id:0}})},sendReadAllMsg(e){this.socket.emit("readAllMSG",{type:"ownMsg",msg:{MES_ID:0,EMP_ID:this.GetUser.EMP_ID,GROUP_ID:e}})},MessageToUI(e){this.lastMSG&&this.lastMSG.ID==e.ID?e.message.forEach((e=>{this.ChatHis[this.ChatHis.length-1].message.push(e),this.ChatHis[this.ChatHis.length-1].SENT_TIME=new Date})):this.ChatHis.push(e),this.lastMSG=e,this.ScrollHis()},LocalSentMSG(e){if(this.GroupID<=0)return;const t={Sender:this.GetUser.Name,ID:this.GetUser.EMP_ID,message:[{text:e}],SENT_TIME:new Date};this.MessageToUI(t),this.sendMessage(e),this.$emit("UpdateLastMSG",{msg:e,group_id:this.GroupID})},RefreshData(e,t){e>0&&e!=this.GroupID&&(this.GroupID=e,this.GetMemberInfor(),this.GetChatHistory(),this.ShowCtlBar||(this.ShowCtlBar=!0),t>0&&this.sendReadAllMsg(e))},ShowAvatar(e){this.members&&this.members.forEach((t=>{if(t.EMP_ID==e)return{img:this.imageFromByte(t.AVATAR)}}))},imageFromByte(e){return`data:image/jpeg;base64,${e}`},async EmpAvatar(e){const t=this.axios.get(`api/chatapp/MemberInfo?emp_id=${e}`);return new Promise(((e,a)=>{t.then((t=>{e(t.data.AVATAR)})).catch((e=>{this.$message({type:"error",message:e}),a("Get emp avatar error!")}))}))},async GetMemberInfor(){await this.axios.get(`api/chatapp/GetGroupMemberInfo?groupID=${this.GroupID}&mem_avt=False`).then((e=>{this.members=e.data,this.members.forEach((async e=>{var t=`avt${e.EMP_ID}`;if(!sessionStorage.getItem(t)||sessionStorage.getItem(t).length<500){const a=await this.EmpAvatar(e.EMP_ID);sessionStorage.setItem(t,a)}}))})).catch((e=>{console.log(e.response.data)}))},async GetChatHistory(){this.ChatHis=[],await this.axios.get(`api/chatapp/GetHistory?groupID=${this.GroupID}&StartPoint=0`).then((e=>{var t=e.data[0].SENDER_ID,a=void 0;e.data.forEach((e=>{a?t==e.SENDER_ID?(a.message.push({text:e.MES_CONTENT}),a.SENT_TIME=e.SENT_TIME):(this.ChatHis.push(a),a={Sender:e.SENDER,ID:e.SENDER_ID,message:[{text:e.MES_CONTENT}],SENT_TIME:e.SENT_TIME}):a={Sender:e.SENDER,ID:e.SENDER_ID,message:[{text:e.MES_CONTENT}],SENT_TIME:e.SENT_TIME},t=e.SENDER_ID})),this.ChatHis.push(a),this.HisVisible=!1,this.ScrollHis(1)})).catch((e=>{console.log(e)}))},ScrollHis(e=300){setTimeout((()=>{this.$refs.hisScroll.setScrollPercentage("vertical",1,e)}),100)}},onHisScroll({verticalPosition:e}){console.log(e)}},co=a(6607);const po=(0,n.Z)(mo,[["render",ba],["__scopeId","data-v-e6e8abae"]]);var ho=po;Fe()(mo,"components",{QScrollArea:co.Z});const go={class:"main"},fo=["title"],wo={class:"LastSentTime"},_o={class:"EllText",style:{}},yo={key:0,class:"UnreadNum"};function Eo(e,t,a,o,i,l){return(0,s.wg)(),(0,s.iD)("div",go,[(0,s._)("div",{title:a.GroupName,class:"GroupName"},(0,We.zw)(a.GroupName),9,fo),(0,s._)("p",wo,(0,We.zw)(a.LastTime),1),(0,s._)("div",_o,(0,We.zw)(a.LastMsg),1),a.UnreadNum>0?((0,s.wg)(),(0,s.iD)("p",yo,(0,We.zw)(a.UnreadNum),1)):(0,s.kq)("",!0)])}var So={props:{GroupName:{type:String,default:"Đây là group chat"},LastMsg:{type:String,default:"No Message"},LastTime:{type:String,default:"15 minutes ago"},UnreadNum:{type:Number,default:0}},data(){return{}}};const ko=(0,n.Z)(So,[["render",Eo],["__scopeId","data-v-21d504ad"]]);var vo=ko;const bo={style:{position:"relative","margin-top":"10px",border:"solid 1px rgba(97, 96, 96, 0.808)","border-radius":"10px"}},Mo={style:{display:"inline-block","font-size":"large"}},Co=["src"];function Po(e,t,a,o,i,l){const n=(0,s.up)("q-icon"),r=(0,s.up)("q-input"),d=(0,s.up)("q-select"),u=(0,s.up)("q-item-section"),m=(0,s.up)("q-item"),c=(0,s.up)("q-list"),p=(0,s.up)("q-menu"),h=(0,s.up)("q-checkbox"),g=(0,s.up)("q-avatar"),f=(0,s.up)("q-item-label"),w=(0,s.Q2)("close-popup"),_=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",bo,[(0,s.Wm)(r,{color:"teal",borderless:"",dense:"",clearable:"",modelValue:o.txtSearch,"onUpdate:modelValue":[t[0]||(t[0]=e=>o.txtSearch=e),o.FilterFriendList],label:"Search",style:{width:"75%",display:"inline-block"},debounce:"500"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"search"})])),_:1},8,["modelValue","onUpdate:modelValue"]),(0,s._)("div",Mo,[(0,s.Wm)(n,{onClick:t[1]||(t[1]=()=>{o.ShowFilter=!o.ShowFilter,o.FilterApplied=!0}),name:"filter_alt",style:{"margin-bottom":"10px",cursor:"pointer"},color:o.FilterApplied?"deep-orange":"grey-6"},null,8,["color"]),(0,s.Wm)(n,{onClick:t[2]||(t[2]=()=>{o.ShowSort=!o.ShowSort,o.SortApllied=!0}),name:"sort",style:{"margin-bottom":"10px",cursor:"pointer"},color:o.SortApllied?"deep-orange":"grey-6"},null,8,["color"])]),(0,s._)("div",null,[o.ShowFilter?((0,s.wg)(),(0,s.j4)(d,{key:0,filled:"",dense:"",modelValue:o.search,"onUpdate:modelValue":[t[3]||(t[3]=e=>o.search=e),o.SearchBySelect],options:o.SearchOptions,color:"teal","options-selected-class":"text-deep-orange",style:{width:"100%"}},{prepend:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"filter_alt"})])),_:1},8,["modelValue","options","onUpdate:modelValue"])):(0,s.kq)("",!0),o.ShowSort?((0,s.wg)(),(0,s.j4)(d,{key:1,filled:"",dense:"",modelValue:o.sort,"onUpdate:modelValue":[t[4]||(t[4]=e=>o.sort=e),o.SortReult],options:o.Sorts,color:"teal","options-selected-class":"text-deep-orange",style:{width:"100%"}},{prepend:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"sort"})])),_:1},8,["modelValue","options","onUpdate:modelValue"])):(0,s.kq)("",!0)])]),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.TempList,((a,i)=>((0,s.wg)(),(0,s.j4)(c,{key:i},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{dense:"",clickable:"",active:a.checked,onClick:e=>a.checked=!a.checked},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{style:{"z-index":"9999"},"touch-position":"","context-menu":"",ref_for:!0,ref:"myMenu","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{clickable:"",onClick:t[5]||(t[5]=()=>{this.addUser=!0,this.NewChat=!0})},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{color:"indigo-14",name:"add_comment"})])),_:1}),(0,s.Wm)(u,{style:{"margin-left":"-25px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("New Chat")])),_:1})])),_:1})),[[w]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{color:"red-13",name:"clear_all"})])),_:1}),(0,s.Wm)(u,{style:{"margin-left":"-25px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("Clear History")])),_:1})])),_:1})),[[w]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{clickable:"",onClick:e.GroupDelete},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{color:"red-13",name:"delete"})])),_:1}),(0,s.Wm)(u,{style:{"margin-left":"-25px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("Delete Group")])),_:1})])),_:1},8,["onClick"])),[[w]])])),_:1})])),_:1},512),(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{dense:"",modelValue:a.checked,"onUpdate:modelValue":e=>a.checked=e,color:"orange","checked-icon":"radio_button_checked","indeterminate-icon":"help","unchecked-icon":"radio_button_unchecked"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{size:"30px",style:{padding:"0","margin-left":"-20px","margin-right":"0"}},{default:(0,s.w5)((()=>[(0,s._)("img",{src:a.AVATAR?`data:image/png;base64,${a.AVATAR}`:o.NoAvatar,alt:""},null,8,Co)])),_:2},1024)])),_:2},1024),(0,s.Wm)(u,{style:{"margin-left":"-40px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{style:{"font-size":"small"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(a.EMP_NAME),1)])),_:2},1024),(0,s.Wm)(f,{caption:"",style:{"font-size":"x-small"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(a.EMP_NO),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["active","onClick"])),[[_]])])),_:2},1024)))),128))])],64)}var Do=a(6237),Io={setup(){(0,s.bv)((()=>{m(),l()}));const e=(0,Pe.oR)(),t=e.getters.getUser,a=(0,Do.iH)(null),o=(0,s.f3)("axios"),i=(0,s.f3)("$message");function l(){o.get("api/chatapp/EmpSearch?emp=all&avatar=True").then((e=>{a.value=e.data.filter((e=>e.EMP_ID!=t.EMP_ID)).map((e=>({...e,checked:!1}))),c.value=a.value,c.value.sort(((e,t)=>e.EMP_NAME.toLowerCase().localeCompare(t.EMP_NAME.toLowerCase())))})).catch((e=>{i({type:"error",message:e})}))}const n=(0,Do.iH)(null),r=(0,Do.iH)(!1),d=(0,Do.iH)(!1);function u(e){d.value=!1,"a2z"==e.value?c.value.sort(((e,t)=>e.EMP_NAME.toLowerCase().localeCompare(t.EMP_NAME.toLowerCase()))):c.value.sort(((e,t)=>t.EMP_NAME.toLowerCase().localeCompare(e.EMP_NAME.toLowerCase())))}async function m(){try{const e=await o.get("Images/noImg.png",{responseType:"blob"}),t=new FileReader;t.readAsDataURL(e.data),t.onloadend=()=>{n.value=t.result}}catch(e){console.error(e)}}const c=(0,Do.iH)(null);function p(e){e?"EmpName"==S.value.value?c.value=a.value.filter((t=>t.EMP_NAME.toLowerCase().includes(e.toLowerCase()))):c.value=a.value.filter((t=>t.EMP_NO.toLowerCase().includes(e.toLowerCase()))):c.value=a.value}const h=(0,Do.iH)({label:"A-Z",value:"a2z"}),g=[{label:"A-Z",value:"a2z"},{label:"Z-A",value:"z2a"}];function f(e){p(e)}const w=(0,Do.iH)(null),_=(0,Do.iH)(!1),y=(0,Do.iH)(!1);function E(){r.value=!1,f(w.value)}const S=(0,Do.iH)({label:"Emp Name",value:"EmpName"});return{LoginUser:t,SortApllied:y,FilterApplied:_,ShowFilter:r,ShowSort:d,txtSearch:w,SearchBySelect:E,FilterFriendList:f,SortReult:u,FriendList:a,GetAllFriends:l,EMP_filter:p,TempList:c,NoAvatar:n,Sorts:g,sort:h,SearchOptions:[{label:"Emp Name",value:"EmpName"},{label:"Emp No",value:"EmpNo"}],search:S}}},xo=a(8817),To=a(2146),Uo=a(5246),No=a(6375),Fo=a(2278),Ao=a(9109),Oo=a(9393),Go=a(3712),Lo=a(8108),Wo=a(8819);const Ro=(0,n.Z)(Io,[["render",Po]]);var qo=Ro;Fe()(Io,"components",{QInput:Ie.Z,QIcon:xe.Z,QSelect:xo.Z,QList:To.Z,QItem:Uo.Z,QMenu:No.Z,QItemSection:Fo.Z,QCheckbox:Ao.Z,QAvatar:Oo.Z,QItemLabel:Go.Z}),Fe()(Io,"directives",{Ripple:Lo.Z,ClosePopup:Wo.Z}),pa().extend(ga());var Vo={components:{His:ho,Group:vo,FriendsList:qo},computed:{...(0,Pe.Se)({GetUser:"getUser"})},mounted(){this.loadImageAsBase64("Images/noImg.png"),setTimeout((()=>{this.Avatar=sessionStorage.getItem(`avt${this.GetUser.EMP_ID}`),this.GetChatGroupList(),this.GetAllEMP()}),500)},methods:{GenStampTime(e){if(!e)return"N/A";const t=new Date(e),a=new Date,o=a.getTime()-t.getTime(),s=Math.floor(o/864e5);return s>7?e:pa()(t).fromNow()},LastMSGUpdate(e){const t=this.GroupList.find((t=>t.GROUP_ID==e.group_id));t.INFO.LAST_TIME=new Date,t.INFO.LAST_MSG=e.msg},async GroupNameEdit(){await this.axios.post("api/chatapp/GroupNameEdit",{GROUP_NAME:this.GroupName,GROUP_ID:this.CurrentGroupID}).then((e=>{this.$message({showClose:!0,type:"success",message:e.data}),this.GroupList.find((e=>e.GROUP_ID==this.CurrentGroupID)).GROUP_NAME=this.GroupName,this.GroupEditing=!1})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))},UpdateGroupFromHis(e){this.GroupList.forEach(((t,a)=>{t.GROUP_ID==e.GROUP_ID&&(this.GroupList[a].INFO.LAST_MSG=e.LAST_MSG,this.CurrentGroupID!=e.GROUP_ID&&(this.GroupList[a].INFO.UNREAD_NUM+=e.UNREAD_NUM,this.TotalUnread+=e.UNREAD_NUM))}))},GroupClick(e,t){this.CurrentGroupID=e;const a=this.GroupList.find((t=>t.GROUP_ID==e)).INFO.UNREAD_NUM;this.$refs.MyHis.RefreshData(e,a),this.$refs.MyHis.lastMSG={ID:this.GroupList.find((t=>t.GROUP_ID==e)).INFO.SENDER_ID},this.activeID=e,this.GroupName=t,this.addUser=!1,this.GroupList.forEach(((t,a)=>{t.GROUP_ID==e&&(this.TotalUnread-=this.GroupList[a].INFO.UNREAD_NUM,this.GroupList[a].INFO.UNREAD_NUM=0)}))},GroupRightClick(e){this.GroupActiveMenu=e},GetAllEMP(){this.axios.get("api/chatapp/EmpSearch?emp=all").then((e=>{e.data.forEach((e=>{this.stringOptions.push({label:e.EMP_NAME,value:e.EMP_ID,description:e.EMP_NO,icon:"contact_mail"})}))})).catch((e=>{console.log(e)}))},abortFilterFn(){console.log("delayed filter aborted")},async filterFn(e,t){t((()=>{if(""===e)this.lstMembers=this.stringOptions;else{const t=e.toLowerCase();this.lstMembers=this.stringOptions.filter((e=>e.label.toLowerCase().indexOf(t)>-1||e.description.toLowerCase().indexOf(t)>-1))}}))},async loadImageAsBase64(e){try{const t=await this.axios.get(e,{responseType:"blob"}),a=new FileReader;a.readAsDataURL(t.data),a.onloadend=()=>{this.NoImageData=a.result.replace("data:image/png;base64,","")}}catch(t){console.error(t)}},async GroupAvatar(e,t){const a=[];e.INFO.EMP_AVATAR.forEach((async(t,o)=>{if(o<=3)if(2==e.INFO.EMP_AVATAR.length){if(t.EMP_ID!=this.GetUser.EMP_ID)return void a.push(t.AVATAR)}else t.AVATAR?a.push(t.AVATAR):a.push(this.NoImageData)}));const o=await this.ImageMerging(a);this.GroupAvatarList[t]?this.GroupAvatarList[t]=o:this.GroupAvatarList.push(o),this.GroupList[t].INFO.EMP_AVATAR.AVATAR=void 0},async ImageMerging(e){if(!e||e.length>4)return"#";if(e.length<=2)return`data:image/png;base64,${e[0]}`;const t=1e3,a=1e3;let o=(0,fa.vL)(500,500),s=o.getContext("2d");var i=[];return new Promise(((l,n)=>{const r=[];e.forEach((e=>{const t=new Promise(((t,a)=>{try{(0,fa.po)(`data:image/png;base64,${e}`).then((e=>{s.drawImage(e,0,0,500,500),(0,fa.po)(o.toDataURL("image/png")).then((e=>{i.push(e),t(e)})).catch((e=>a(e)))})).catch((e=>a(e)))}catch(l){a(l)}}));r.push(t)})),Promise.all(r).then((()=>{o=(0,fa.vL)(t,a),s=o.getContext("2d"),i.forEach(((e,t)=>{switch(t){case 0:s.drawImage(e,0,0,500,500);break;case 1:s.drawImage(e,500,0,500,500);break;case 2:s.drawImage(e,0,500,500,500);break;case 3:s.drawImage(e,500,500,500,500);break;default:break}})),l(o.toDataURL("image/png"))})).catch((e=>{n(e)}))}))},GetChatGroupList(){this.axios.get(`api/chatapp/GetEmpAllGroup?emp_id=${this.GetUser.EMP_ID}`).then((e=>{this.TotalUnread=0,this.GroupList=e.data;const t=[];this.GroupList.forEach(((e,a)=>{this.TotalUnread+=e.INFO.UNREAD_NUM,t.push(e.GROUP_ID),this.GroupAvatar(e,a)})),this.$refs.MyHis.UpdateGroupNameList(t)})).catch((e=>{console.log(e)}))},imageFromByte(e){return`data:image/jpeg;base64,${e}`},AddNewGroup(){if(this.selectedUser&&this.selectedUser.length>0){const e={GROUP_NAME:1===this.selectedUser.length?this.selectedUser[0].label:this.NewGroupName,ADMIN:this.GetUser.EMP_ID,EMP_LIST:[]};e.EMP_LIST.push(this.GetUser.EMP_ID),this.selectedUser.forEach((t=>{e.EMP_LIST.push(t.value)})),this.axios.post("api/chatapp/AddNewGroup",e).then((e=>{console.log(e.data),this.GroupList.push(e.data[0]),this.NewChat=!1,this.addUser=!1})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))}},AddGroupUser(){if(this.NewChat)this.AddNewGroup();else if(this.CurrentGroupID>0)if(this.selectedUser&&this.selectedUser.length>0){const e={REMOVE_EMP:!1,GROUP_ID:this.CurrentGroupID,EMP_LIST:[]};this.selectedUser.forEach((t=>{e.EMP_LIST.push(t.value)})),console.log(e),this.axios.post("api/chatapp/GroupEmpEdit",e).then((e=>{this.$message({showClose:!0,type:"success",message:e.data}),this.addUser=!1})).catch((e=>{console.log(e)}))}else this.$message({showClose:!0,type:"error",message:"EMP list cannot be empty!"})},GroupDelete(){this.$messageBox.confirm(`Delete this group: (${this.GroupActiveMenu.GROUP_NAME})`,"Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{this.axios.post(`api/chatapp/DeleteGroup?group_id=${this.GroupActiveMenu.GROUP_ID}`).then((e=>{let t=this.GroupList.findIndex((e=>e.GROUP_ID===this.GroupActiveMenu.GROUP_ID));-1!==t&&this.GroupList.splice(t,1),this.$message({type:"success",message:e.data})})).catch((e=>{this.$message({type:"error",message:e.response.data})}))}))}},data(){return{NewGroupName:"NoName",GroupEditing:!1,NoImageData:void 0,GroupActiveMenu:void 0,CurrentGroupID:0,addUser:!1,NewChat:!1,selectedUser:void 0,lstMembers:[],stringOptions:[],tab:"chats",splitterModel:20,Avatar:"",drawer:!1,activeID:0,GroupName:"",GroupList:[{GROUP_ID:0,GROUP_NAME:"Default",INFO:{SENDER_ID:0,LAST_MSG:"None",LAST_TIME:void 0,UNREAD_NUM:0,EMP_AVATAR:void 0}}],GroupAvatarList:[],TotalUnread:0}}},Zo=a(6384),zo=a(7454),Bo=a(366),jo=a(8623),Qo=a(685),Ho=a(1343),Yo=a(3554),Ko=a(5748),$o=a(6790),Xo=a(4810),Jo=a(9082),es=a(4492),ts=a(4711),as=a(7190),os=a(8906);const ss=(0,n.Z)(Vo,[["render",ma],["__scopeId","data-v-73e7a2da"]]);var is=ss;Fe()(Vo,"components",{QLayout:Zo.Z,QHeader:zo.Z,QToolbar:Bo.Z,QToolbarTitle:jo.Z,QInput:Ie.Z,QBtn:Te.Z,QDrawer:Qo.Z,QScrollArea:co.Z,QSplitter:Ho.Z,QTabs:Yo.Z,QTab:Ko.Z,QBadge:$o.Z,QTabPanels:Xo.Z,QTabPanel:Jo.Z,QList:To.Z,QMenu:No.Z,QItem:Uo.Z,QItemSection:Fo.Z,QIcon:xe.Z,QAvatar:Oo.Z,QSeparator:es.Z,QImg:ts.Z,QPageContainer:as.Z,QPage:os.Z,QSelect:xo.Z,QItemLabel:Go.Z}),Fe()(Vo,"directives",{ClosePopup:Wo.Z,Ripple:Lo.Z});var ls={components:{MainBox:is},data(){return{morphGroupModel:"btn",nextMorphStep:{btn:"card1",card1:"btn"}}},methods:{nextMorph(){this.morphGroupModel=this.nextMorphStep[this.morphGroupModel]}}},ns=a(8055),rs=a(9488);const ds=(0,n.Z)(ls,[["render",$t],["__scopeId","data-v-3c3e6555"]]);var us=ds;Fe()(ls,"components",{QBtn:Te.Z,QCard:ns.Z}),Fe()(ls,"directives",{Morph:rs.Z});var ms=a(5036),cs={components:{ChatBox:us,MyPlayer:At,PlayList:Kt},computed:{...(0,Pe.Se)({GetUser:"getUser"})},mounted(){this.GetUser&&(this.UserName=this.GetUser.Name),this.getMenu()},name:"menu-bar",data(){return{CurrentTrackList:[],PlayListCollap:!0,showListIcon:"arrow_back_ios",media_vis:!0,mColap:!0,UserName:"",Menu:[],icons:[ms.Files,ms.Tickets,ms.Collection,ms.Postcard,ms.SetUp,ms.DocumentChecked,ms.DataBoard,ms.DataAnalysis]}},methods:{...(0,Pe.nv)(["Logout"]),TrackToPlay(e){this.$refs.MyPlayer.PlayFromList(e)},CurrentTrackUpdate(e){this.$refs.MyPlaylist.UpdatePlayingTrack(e.DB_ID)},PlayListUpdate(e){this.CurrentTrackList=e},ShowPlayList(){"0px"==this.$refs.PlayList.style.right?(this.$refs.PlayList.style.right="-530px",this.showListIcon="arrow_back_ios",this.PlayListCollap=!0):(this.$refs.PlayList.style.right="0",this.showListIcon="arrow_forward_ios",this.PlayListCollap=!1)},ShowPlayer(){"10px"==this.$refs.MediaPopup.style.bottom?(this.$refs.MediaPopup.style.bottom="-200px",this.$refs.PlayList.style.right="-550px",this.showListIcon="arrow_back_ios",this.PlayListCollap=!0):(this.$refs.MediaPopup.style.bottom="10px",this.$refs.PlayList.style.right="-530px")},logout:function(){this.Logout()},toggleCollapse:function(){this.mColap=!this.mColap},async getMenu(){await this.axios.get("api/FAOnlineSOP/GetMainMenu").then((e=>{this.Menu=e.data})).catch((e=>{console.log(e.response.data)}))},GetIcon(e){return e<=this.icons.length-1?this.icons[e]:this.icons[this.icons.length-1]}}};const ps=(0,n.Z)(cs,[["render",ct],["__scopeId","data-v-57eb1367"]]);var hs=ps;Fe()(cs,"components",{QBtn:Te.Z});const gs=e=>((0,s.dD)("data-v-4dfe18ed"),e=e(),(0,s.Cn)(),e),fs={class:"home_container"},ws=gs((()=>(0,s._)("img",{src:Xe,alt:""},null,-1))),_s={style:{"font-size":"1.3em","margin-top":"5px",cursor:"pointer"},class:"el-dropdown-link"},ys=gs((()=>(0,s._)("i",{class:"icofont-ui-password"},null,-1))),Es=gs((()=>(0,s._)("i",{class:"icofont-logout"},null,-1))),Ss=gs((()=>(0,s._)("i",{class:"icofont-doctor-alt"},null,-1))),ks=gs((()=>(0,s._)("span",null,"FA Documents",-1))),vs=gs((()=>(0,s._)("i",{class:"icofont-book"},null,-1))),bs=gs((()=>(0,s._)("i",{class:"icofont-hour-glass"},null,-1))),Ms=gs((()=>(0,s._)("i",{class:"icofont-repair"},null,-1))),Cs=gs((()=>(0,s._)("span",null,"Maintenance Area",-1))),Ps=gs((()=>(0,s._)("i",{class:"icofont-code"},null,-1))),Ds=gs((()=>(0,s._)("span",null,"Development Team",-1)));function Is(e,t,a,i,l,n){const r=(0,s.up)("ArrowDown"),d=(0,s.up)("router-link"),u=(0,s.up)("el-dropdown-item"),m=(0,s.up)("el-dropdown-menu"),c=(0,s.up)("el-dropdown"),p=(0,s.up)("el-header"),h=(0,s.up)("Expand"),g=(0,s.up)("Fold"),f=(0,s.up)("el-menu-item"),w=(0,s.up)("el-menu-item-group"),_=(0,s.up)("el-sub-menu"),y=(0,s.up)("el-menu"),E=(0,s.up)("el-aside"),S=(0,s.up)("router-view"),k=(0,s.up)("el-main"),v=(0,s.up)("el-container");return(0,s.wg)(),(0,s.iD)("div",fs,[(0,s.Wm)(v,{class:"home_container"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[ws,(0,s._)("span",{onClick:t[0]||(t[0]=t=>e.$router.push("/wellcome"))},"CPBG MES-VN")]),(0,s._)("div",null,[(0,s._)("nav",null,[(0,s.Wm)(c,null,{dropdown:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{to:"#"},{default:(0,s.w5)((()=>[ys,(0,s.Uk)(" Change Password")])),_:1})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("a",{href:"#",onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>n.logout&&n.logout(...e)),["prevent"]))},[Es,(0,s.Uk)(" Logout")])])),_:1})])),_:1})])),default:(0,s.w5)((()=>[(0,s._)("span",_s,[(0,s.Uk)((0,We.zw)(l.UserName)+" ",1),(0,s.Wm)(r,{style:{width:"1em",height:"1em","margin-bottom":"-3px"}})])])),_:1})])])])),_:1}),(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(E,{width:l.mColap?"200px":"64px"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"toggle-button",onClick:t[2]||(t[2]=(...e)=>n.toggleCollapse&&n.toggleCollapse(...e)),id:"toggle-button"},[l.mColap?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(h,{key:0,style:{width:"2em",height:"2em"}})),l.mColap?((0,s.wg)(),(0,s.j4)(g,{key:1,style:{width:"2em",height:"2em"}})):(0,s.kq)("",!0)]),(0,s.Wm)(y,{class:"elmenu","background-color":"#333744","text-color":"#fff","active-text-color":"#409eff","unique-opened":!0,collapse:!l.mColap,"collapse-transition":!1,router:!0,"default-active":e.activePath},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{index:"1"},{title:(0,s.w5)((()=>[Ss,ks])),default:(0,s.w5)((()=>[(0,s.Wm)(w,{title:"Training Doc"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{index:"/fasop"},{default:(0,s.w5)((()=>[vs,(0,s.Uk)(" Repair SOP")])),_:1}),(0,s.Wm)(f,{index:"/sopmana"},{default:(0,s.w5)((()=>[bs,(0,s.Uk)(" SOP Management")])),_:1})])),_:1})])),_:1}),(0,s.Wm)(f,{index:"2",disabled:""},{default:(0,s.w5)((()=>[Ms,Cs])),_:1}),(0,s.Wm)(f,{index:"/about"},{default:(0,s.w5)((()=>[Ps,Ds])),_:1})])),_:1},8,["collapse","default-active"])])),_:1},8,["width"]),(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Wm)(S)])),_:1})])),_:1})])),_:1})])}var xs={computed:{...(0,Pe.Se)({GetUser:"getUser"})},mounted(){this.GetUser&&(this.UserName=this.GetUser.Name)},name:"menu-bar",data(){return{mColap:!0,UserName:""}},methods:{...(0,Pe.nv)(["Logout"]),logout:function(){this.Logout()},toggleCollapse:function(){this.mColap=!this.mColap}}};const Ts=(0,n.Z)(xs,[["render",Is],["__scopeId","data-v-4dfe18ed"]]);var Us=Ts;const Ns={class:"about"},Fs=(0,s.uE)('<p class="header" data-v-6a2fe70e>Application developed and maintained by CBPG-MES team.</p><p class="developer" data-v-6a2fe70e><i class="icofont-code" data-v-6a2fe70e></i> Developer: MatthewLee</p><p class="email" data-v-6a2fe70e><i class="icofont-email" data-v-6a2fe70e></i> Email: VANNINH.LE@LUXSHARE-ICT.COM</p>',3),As=[Fs];function Os(e,t,a,o,i,l){return(0,s.wg)(),(0,s.iD)("div",Ns,As)}var Gs={name:"about-1"};const Ls=(0,n.Z)(Gs,[["render",Os],["__scopeId","data-v-6a2fe70e"]]);var Ws=Ls;const Rs={class:"eltb"};function qs(e,t,a,i,l,n){const r=(0,s.up)("el-input"),d=(0,s.up)("el-form-item"),u=(0,s.up)("el-option"),m=(0,s.up)("el-select"),c=(0,s.up)("el-button"),p=(0,s.up)("el-form"),h=(0,s.up)("el-table-column"),g=(0,s.up)("el-table"),f=(0,s.up)("sop_step"),w=(0,s.up)("el-dialog");return(0,s.wg)(),(0,s.iD)("div",Rs,[(0,s.Wm)(p,{inline:!0,model:l.searchData,class:"demo-form-inline"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{label:"Serial Number"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{modelValue:l.searchData.serial_number,"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchData.serial_number=e),onKeyup:(0,o.D2)(n.LoadSNError,["enter"]),placeholder:"Serial Number"},null,8,["modelValue","onKeyup"])])),_:1}),(0,s.Wm)(d,{label:"Error Code"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{onChange:n.getSOPbyErrorCode,modelValue:l.searchData.er_code,"onUpdate:modelValue":t[1]||(t[1]=e=>l.searchData.er_code=e),placeholder:"Error Code"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.snErrorCodes,((e,t)=>((0,s.wg)(),(0,s.j4)(u,{key:t,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["onChange","modelValue"])])),_:1}),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{type:"primary",onClick:n.onSubmit},{default:(0,s.w5)((()=>[(0,s.Uk)("Query")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),(0,s.Wm)(g,{data:e.sop_list,onRowClick:n.handleRowClick,"row-style":n.rowCustomStyle},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{property:"DEFECT_CODE",label:"Error Code"}),(0,s.Wm)(h,{property:"SOP_NAME",label:"SOP Name"}),(0,s.Wm)(h,{property:"DESCRIPTIONS",label:"Descriptions"}),(0,s.Wm)(h,{property:"UPDATE_TIME",label:"Update Time"}),(0,s.Wm)(h,{property:"UPDATE_USER",label:"Update User"})])),_:1},8,["data","onRowClick","row-style"]),(0,s.Wm)(w,{modelValue:l.showDetail,"onUpdate:modelValue":t[2]||(t[2]=e=>l.showDetail=e),title:l.current_sop_name},{default:(0,s.w5)((()=>[l.showDetail?((0,s.wg)(),(0,s.j4)(f,{key:0,sop_id:l.current_id},null,8,["sop_id"])):(0,s.kq)("",!0)])),_:1},8,["modelValue","title"])])}const Vs={class:"main-contents"},Zs={class:"details"};function zs(e,t,a,o,i,l){const n=(0,s.up)("el-step"),r=(0,s.up)("el-steps"),d=(0,s.up)("step_details"),u=(0,s.up)("el-carousel-item"),m=(0,s.up)("el-carousel");return(0,s.wg)(),(0,s.iD)("div",Vs,[(0,s.Wm)(r,{active:i.step,"align-center":"","finish-status":"success",style:{"margin-top":"0"}},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.SopDetails,((e,t)=>((0,s.wg)(),(0,s.j4)(n,{key:t,title:`Step ${t+1}`,description:0==t?"Start":t==i.SopDetails.length-1?"Finish":"Processing"},null,8,["title","description"])))),128))])),_:1},8,["active"]),(0,s._)("div",Zs,[(0,s.Wm)(m,{modelValue:i.CurrentIndex,"onUpdate:modelValue":t[0]||(t[0]=e=>i.CurrentIndex=e),onChange:l.handleChange,trigger:"click",loop:!1,autoplay:!1,height:"500px"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.SopDetails,((e,t)=>((0,s.wg)(),(0,s.j4)(u,{key:t},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{style:{height:"100%"},step_img:e.STEP_IMG.STEP_IMG_DATA,step_name:e.STEP_NAME,step_contents:e.STEP_CONTENTS},null,8,["step_img","step_name","step_contents"])])),_:2},1024)))),128))])),_:1},8,["modelValue","onChange"])])])}const Bs={class:"main-div"};function js(e,t,a,o,i,l){const n=(0,s.up)("el-image");return(0,s.wg)(),(0,s.iD)("div",Bs,[(0,s._)("h4",null,(0,We.zw)(a.step_name),1),(0,s._)("p",null,(0,We.zw)(a.step_contents),1),(0,s.Wm)(n,{fit:"fill",src:l.imageFromByte(a.step_img),"zoom-rate":1.2,"preview-src-list":i.PreviewList,"preview-teleported":"",style:{height:"85%",width:"100%"},"hide-on-click-modal":""},null,8,["src","zoom-rate","preview-src-list"])])}var Qs={mounted(){this.PreviewList=[this.imageFromByte(this.step_img)]},props:{step_name:String,step_contents:String,step_img:String},methods:{imageFromByte(e){return`data:image/jpeg;base64,${e}`}},data(){return{PreviewList:[]}}};const Hs=(0,n.Z)(Qs,[["render",js],["__scopeId","data-v-5c0ed6f7"]]);var Ys=Hs,Ks={mounted(){this.sop_id&&this.GetSOPStepbyID(this.sop_id)},props:{sop_id:Number},computed:{},name:"step-details",data(){return{step:1,CurrentIndex:0,lstSOP:[1,2,3,4,5,6],previewList:[],SopDetails:void 0}},methods:{handleChange(e){this.step=e+1},async GetSOPStepbyID(e){const t=this.$Loading.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),a=this.axios.get(`api/FAOnlineSOP/GetSopStep/sop_id/${e}`);return new Promise(((e,o)=>{a.then((a=>{this.SopDetails=a.data.data,"OK"===a.data.status?(t.close(),e(a)):(t.close(),this.SopDetails=void 0,o(a.data.data))})).catch((e=>{t.close(),this.SopDetails=void 0,o(e)}))}))}},components:{step_details:Ys}};const $s=(0,n.Z)(Ks,[["render",zs],["__scopeId","data-v-3a4be192"]]);var Xs=$s,Js={mounted(){this.UpdateSOP(void 0),this.GetExistedErrorCode()},unmounted(){this.UpdateSOP(void 0),this.UpdateSOPstep(void 0),this.current_id=0},computed:{...(0,Pe.Se)({sop_list:"getSOPList",sop_stt:"getSOPstatus"})},data(){return{searchData:{serial_number:"",er_id:"",er_code:""},showDetail:!1,current_id:0,current_sop_name:"",gridData:[],snErrorCodes:["N/A"]}},methods:{...(0,Pe.nv)(["GetSOPErrorCode"]),...(0,Pe.OI)(["UpdateSOP","UpdateSOPstep"]),async getSOPbyErrorCode(e){await this.GetSOPErrorCode(e).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))},handleRowClick(e){this.current_id=e.SOP_ID,this.current_sop_name=e.SOP_NAME,this.showDetail=!0},rowCustomStyle(){return{cursor:"pointer"}},async GetExistedErrorCode(){await this.axios.get("api/FAOnlineSOP/GetAllExistedError").then((e=>{this.snErrorCodes=[],e.data.forEach((e=>{this.snErrorCodes.push(e.DEFECT_CODE)}))})).catch((e=>{console.log(e.response.data)}))},LoadSNError:async function(){if(!this.searchData.serial_number)return this.UpdateSOP(void 0),null;await this.axios.get(`api/FAOnlineSOP/GetSNErrorCode/sn/${this.searchData.serial_number}`).then((e=>{this.snErrorCodes=[],e.data.length>0&&(this.searchData.er_code=e.data[0].DEFECT_CODE,this.GetSOPErrorCode(this.searchData.er_code))})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data}),this.UpdateSOP(void 0),this.searchData.er_code=""}))},onSubmit(){this.searchData.er_code&&this.GetSOPErrorCode(this.searchData.er_code)}},components:{sop_step:Xs}};const ei=(0,n.Z)(Js,[["render",qs],["__scopeId","data-v-4773d822"]]);var ti=ei;const ai={class:"text-gray-500"},oi={class:"text-gray-500"},si=["src"],ii={class:"text-gray-500"},li={class:"text-gray-500"};function ni(e,t,a,o,i,l){const n=(0,s.up)("el-form-item"),r=(0,s.up)("el-input"),d=(0,s.up)("Plus"),u=(0,s.up)("el-icon"),m=(0,s.up)("el-upload"),c=(0,s.up)("el-dialog"),p=(0,s.up)("el-button"),h=(0,s.up)("el-form");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(h,{"label-position":"left",ref:"ruleFormRef",model:i.stepModel,"label-width":"120px",class:"demo-ruleForm","status-icon":""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{label:"SOP ID"},{default:(0,s.w5)((()=>[(0,s._)("span",ai,(0,We.zw)(i.stepModel.SOP_ID),1)])),_:1}),(0,s.Wm)(n,{label:"Step Name",required:"",prop:"STEP_NAME"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{modelValue:i.stepModel.STEP_NAME,"onUpdate:modelValue":t[0]||(t[0]=e=>i.stepModel.STEP_NAME=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(n,{label:"Step Contents",prop:"STEP_CONTENTS",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{modelValue:i.stepModel.STEP_CONTENTS,"onUpdate:modelValue":t[1]||(t[1]=e=>i.stepModel.STEP_CONTENTS=e),type:"textarea"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(n,{label:"Sequence",prop:"SEQ",required:""},{default:(0,s.w5)((()=>[(0,s._)("span",oi,(0,We.zw)(i.stepModel.SEQ),1)])),_:1}),(0,s.Wm)(n,{label:"Step Image"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"file-list":i.fileList,"onUpdate:fileList":t[2]||(t[2]=e=>i.fileList=e),action:"#","list-type":"picture-card","auto-upload":!1,"on-preview":l.handlePictureCardPreview,"on-remove":l.handleRemove,limit:1},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d)])),_:1})])),_:1},8,["file-list","on-preview","on-remove"]),(0,s.Wm)(c,{modelValue:i.dialogVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>i.dialogVisible=e),style:{width:"fit-content"}},{default:(0,s.w5)((()=>[(0,s._)("img",{"w-full":"",src:i.dialogImageUrl,alt:"Preview Image"},null,8,si)])),_:1},8,["modelValue"])])),_:1}),(0,s.Wm)(n,{label:"Image ID"},{default:(0,s.w5)((()=>[(0,s._)("span",ii,(0,We.zw)(i.stepModel.STEP_IMG.STEP_IMG_ID),1)])),_:1}),(0,s.Wm)(n,{label:"Update User"},{default:(0,s.w5)((()=>[(0,s._)("span",li,(0,We.zw)(i.stepModel.UPDATE_USER),1)])),_:1}),(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{type:"primary",onClick:l.submitForm},{default:(0,s.w5)((()=>[(0,s.Uk)(" Submit ")])),_:1},8,["onClick"]),(0,s.Wm)(p,{onClick:t[4]||(t[4]=t=>e.$emit("CancelEvent"))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1})])),_:1})])),_:1},8,["model"])])}var ri={computed:{...(0,Pe.Se)({LoginUser:"getUser"})},data(){return{disabled:!1,dialogVisible:!1,dialogImageUrl:"",stepModel:{SOP_ID:0,STEP_NAME:"",STEP_CONTENTS:"",SEQ:0,STEP_IMG:{STEP_IMG_ID:0,IMG_NAME:"",STEP_IMG_DATA:void 0},UPDATE_TIME:new Date,UPDATE_USER:0},fileList:void 0,newIMG:!1,oldStepName:""}},props:{AddNew:Boolean,Data:Object},async mounted(){this.AddNew?this.stepModel={SOP_ID:this.Data.sop.SOP_ID,STEP_NAME:"",STEP_CONTENTS:"",SEQ:0,STEP_IMG:{STEP_IMG_ID:0,IMG_NAME:"",STEP_IMG_DATA:void 0},UPDATE_TIME:new Date,UPDATE_USER:this.LoginUser.EMP_ID}:await this.axios.get(`api/FAOnlineSOP/GetSopStepbyStepName?sop_id=${this.Data.sop.SOP_ID}&step_name=${this.Data.step_name}`).then((e=>{this.stepModel={SOP_ID:this.Data.sop.SOP_ID,STEP_NAME:this.Data.step_name,STEP_CONTENTS:e.data.step.STEP_CONTENTS,SEQ:e.data.step.STEP_SEQ,STEP_IMG:{STEP_IMG_ID:e.data.step.STEP_IMG.STEP_IMG_ID,IMG_NAME:e.data.step.STEP_IMG.IMG_NAME,STEP_IMG_DATA:e.data.step.STEP_IMG.STEP_IMG_DATA},UPDATE_TIME:new Date,UPDATE_USER:this.LoginUser.EMP_ID},this.oldStepName=this.Data.step_name,this.fileList=[{name:this.stepModel.STEP_IMG.IMG_NAME,url:this.imageFromByte(this.stepModel.STEP_IMG.STEP_IMG_DATA)}]})).catch((e=>{console.log(e.response)}))},methods:{handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},imageFromByte(e){return`data:image/jpeg;base64,${e}`},handleRemove:function(){this.newIMG=!0},async NewStep(e){await this.axios.post(`api/FAOnlineSOP/UploadSopImage/user/${this.LoginUser.EMP_ID}`,e,{headers:{"Content-Type":"multipart/form-data"}}).then((async e=>{this.stepModel.STEP_IMG.STEP_IMG_ID=e.data.img_id,await this.axios.post(`api/FAOnlineSOP/AddNewSOPStep/sop_id/${this.stepModel.SOP_ID}`,this.stepModel).then((e=>{this.$message({showClose:!0,type:"success",message:e.data}),this.$emit("CancelEvent",!0)})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data}),console.log(e.response.data)}))},async EditStep(e){this.newIMG&&await this.axios.post(`api/FAOnlineSOP/UpdateSopImage/user/${this.LoginUser.EMP_ID}/old_id/${this.stepModel.STEP_IMG.STEP_IMG_ID}`,e).then(console.log("Update IMG success!")).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}));const t={OLD_SOP:this.stepModel.SOP_ID,OLD_STEP_NAME:this.oldStepName,STEP_DETAILS:this.stepModel};t.STEP_DETAILS.STEP_IMG.STEP_IMG_DATA=void 0,console.log(t),await this.axios.post("api/FAOnlineSOP/UpdateSOPStep",t).then((e=>{this.$message({showClose:!0,type:"success",message:e.data}),this.$emit("CancelEvent",!0)})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))},submitForm(){if(!this.stepModel.STEP_NAME||!this.stepModel.STEP_CONTENTS)return void this.$message({showClose:!0,type:"error",message:"The information has not been entered completely"});if(this.fileList.length<1)return void this.$message({showClose:!0,type:"error",message:"Step Image can't be null"});const e=this.fileList[0],t=new FormData;t.append("file",e.raw),this.AddNew?this.NewStep(t):this.EditStep(t)}}};const di=(0,n.Z)(ri,[["render",ni]]);var ui=di;const mi={ref:"fileInput",type:"file"},ci=["src"];function pi(e,t,a,o,i,l){const n=(0,s.up)("el-button"),r=(0,s.up)("el-carousel-item"),d=(0,s.up)("el-carousel"),u=(0,s.up)("Plus"),m=(0,s.up)("el-icon"),c=(0,s.up)("Message"),p=(0,s.up)("el-input");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("input",mi,null,512),(0,s.Wm)(n,{onClick:l.UploadImage},{default:(0,s.w5)((()=>[(0,s.Uk)("Upload")])),_:1},8,["onClick"]),(0,s.Wm)(d,{modelValue:i.activeIndex,"onUpdate:modelValue":t[0]||(t[0]=e=>i.activeIndex=e),onChange:l.handleChange,trigger:"click",loop:!1,autoplay:!1},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,((e,t)=>((0,s.wg)(),(0,s.j4)(r,{key:t},{default:(0,s.w5)((()=>[(0,s._)("img",{src:e.src},null,8,ci)])),_:2},1024)))),128))])),_:1},8,["modelValue","onChange"]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u)])),_:1}),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c)])),_:1}),(0,s.Wm)(p,{modelValue:i.inputData,"onUpdate:modelValue":t[1]||(t[1]=e=>i.inputData=e),clearable:""},null,8,["modelValue"]),(0,s.Wm)(n,{type:"primary",onClick:l.TestFunction},{default:(0,s.w5)((()=>[(0,s.Uk)("Test Func")])),_:1},8,["onClick"])])}var hi={data(){return{uploadModel:{Name:"FileUpload",FileBase:null},activeIndex:0,items:[{src:"https://picsum.photos/800/300?image=0"},{src:"https://picsum.photos/800/300?image=1"},{src:"https://picsum.photos/800/300?image=2"},{src:"https://picsum.photos/800/300?image=3"}],inputData:""}},methods:{handleChange(e){console.log("Slide changed to",e)},UploadImage:async function(){console.log(this.$refs.fileInput.files[0]);const e=this.$refs.fileInput.files[0],t=new FormData;t.append("file",e);try{const e=await this.axios.post("FAOnlineSOP/UploadSopImage/user/10003367",t,{headers:{"Content-Type":"multipart/form-data"}});console.log(e.data)}catch(a){console.error(a)}},TestFunction(){this.$cookies.keys().forEach((e=>this.$cookies.remove(e)))}}};const gi=(0,n.Z)(hi,[["render",pi]]);var fi=gi;const wi=e=>((0,s.dD)("data-v-725dd000"),e=e(),(0,s.Cn)(),e),_i={class:"mainDiv"},yi=["onClick"],Ei={style:{display:"flex"}},Si=wi((()=>(0,s._)("i",{class:"icofont-edit"},null,-1))),ki=wi((()=>(0,s._)("i",{class:"icofont-sub-listing"},null,-1))),vi=wi((()=>(0,s._)("i",{class:"icofont-ui-delete"},null,-1))),bi={class:"text-gray-500"},Mi={class:"text-gray-500"};function Ci(e,t,a,i,l,n){const r=(0,s.up)("RemoveFilled"),d=(0,s.up)("el-icon"),u=(0,s.up)("el-popconfirm"),m=(0,s.up)("el-table-column"),c=(0,s.up)("el-input"),p=(0,s.up)("el-button"),h=(0,s.up)("el-table"),g=(0,s.up)("el-main"),f=(0,s.up)("el-pagination"),w=(0,s.up)("el-footer"),_=(0,s.up)("el-form-item"),y=(0,s.up)("el-option"),E=(0,s.up)("el-select"),S=(0,s.up)("el-form"),k=(0,s.up)("el-dialog"),v=(0,s.up)("newstep");return(0,s.wg)(),(0,s.iD)("div",_i,[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{data:l.TempData,style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{type:"expand"},{default:(0,s.w5)((e=>[(0,s._)("ol",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.row.LstStepName,((t,a)=>((0,s.wg)(),(0,s.iD)("li",{key:a},[(0,s._)("div",null,[(0,s._)("a",{href:"#",onClick:(0,o.iM)((o=>n.handleNewStep(!1,{step_name:t,seq:a,sop:e.row})),["prevent"])},(0,We.zw)(t),9,yi),(0,s.Wm)(u,{title:"Are you sure to delete this item?",onConfirm:a=>n.handleDeleteStep(t,e.row.SOP_ID)},{reference:(0,s.w5)((()=>[(0,s.Wm)(d,{style:{color:"red",cursor:"pointer",margin:"2px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(r)])),_:1})])),_:2},1032,["onConfirm"])])])))),128))])])),_:1}),(0,s.Wm)(m,{label:"SOP_NAME",prop:"SOP_NAME"}),(0,s.Wm)(m,{label:"DEFECT_CODE",prop:"DEFECT_CODE"}),(0,s.Wm)(m,{label:"DESCRIPTIONS",prop:"DESCRIPTIONS"}),(0,s.Wm)(m,{label:"UPDATE_TIME",prop:"UPDATE_TIME"}),(0,s.Wm)(m,{label:"UPDATE_USER",prop:"UPDATE_USER"}),(0,s.Wm)(m,{align:"right"},{header:(0,s.w5)((()=>[(0,s._)("div",Ei,[(0,s.Wm)(c,{style:{flex:"1","margin-right":"5px"},modelValue:l.search,"onUpdate:modelValue":t[0]||(t[0]=e=>l.search=e),onChange:n.filterTableData,size:"small",placeholder:"Type to search"},null,8,["modelValue","onChange"]),(0,s.Wm)(p,{size:"small",onClick:n.AddNewSOP,type:"primary"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add New")])),_:1},8,["onClick"])])])),default:(0,s.w5)((e=>[(0,s.Wm)(p,{title:"Edit",type:"primary",size:"small",onClick:t=>n.handleEdit(e.$index,e.row)},{default:(0,s.w5)((()=>[Si])),_:2},1032,["onClick"]),(0,s.Wm)(p,{title:"Add New Step",type:"primary",size:"small",onClick:t=>n.handleNewStep(!0,{step_name:"",seq:0,sop:e.row})},{default:(0,s.w5)((()=>[ki])),_:2},1032,["onClick"]),(0,s.Wm)(u,{title:"Are you sure to delete this?",onConfirm:t=>n.handleDelete(e.$index,e.row)},{reference:(0,s.w5)((()=>[(0,s.Wm)(p,{title:"Delete",size:"small",type:"danger"},{default:(0,s.w5)((()=>[vi])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(f,{"current-page":l.currentPage,"onUpdate:currentPage":t[1]||(t[1]=e=>l.currentPage=e),"page-size":l.pageSize,"onUpdate:pageSize":t[2]||(t[2]=e=>l.pageSize=e),"page-sizes":[50,100,200,500],small:e.small,disabled:!1,background:!1,layout:"total, sizes, prev, pager, next, jumper",total:l.TotalPages,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["current-page","page-size","small","total","onSizeChange","onCurrentChange"])])),_:1}),(0,s.Wm)(k,{modelValue:l.ShowEdit,"onUpdate:modelValue":t[7]||(t[7]=e=>l.ShowEdit=e),title:l.opMode},{default:(0,s.w5)((()=>[l.ShowEdit?((0,s.wg)(),(0,s.j4)(S,{key:0,"label-position":"left",ref:"ruleFormRef",model:l.edittingSOP,"label-width":"120px",class:"demo-ruleForm","status-icon":""},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{label:"SOP Name",required:"",prop:"sop_Name"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:l.edittingSOP.sop_Name,"onUpdate:modelValue":t[3]||(t[3]=e=>l.edittingSOP.sop_Name=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(_,{label:"SOP ID"},{default:(0,s.w5)((()=>[(0,s._)("span",bi,(0,We.zw)(l.edittingSOP.sop_ID),1)])),_:1}),(0,s.Wm)(_,{label:"Error Code",prop:"defect_id",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{modelValue:l.edittingSOP.defect_id,"onUpdate:modelValue":t[4]||(t[4]=e=>l.edittingSOP.defect_id=e),filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"Enter a Error Code","remote-method":n.remoteMethod,loading:l.loading},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(e=>((0,s.wg)(),(0,s.j4)(y,{key:e.DEFECT_ID,label:e.DEFECT_CODE,value:e.DEFECT_ID},null,8,["label","value"])))),128))])),_:1},8,["modelValue","remote-method","loading"])])),_:1}),(0,s.Wm)(_,{label:"Descriptions",prop:"DESCRIPTIONS",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:l.edittingSOP.DESCRIPTIONS,"onUpdate:modelValue":t[5]||(t[5]=e=>l.edittingSOP.DESCRIPTIONS=e),type:"textarea"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(_,{label:"Update User"},{default:(0,s.w5)((()=>[(0,s._)("span",Mi,(0,We.zw)(l.edittingSOP.update_user),1)])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{type:"primary",onClick:n.submitForm},{default:(0,s.w5)((()=>[(0,s.Uk)(" Submit ")])),_:1},8,["onClick"]),(0,s.Wm)(p,{onClick:t[6]||(t[6]=e=>l.ShowEdit=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1})])),_:1})])),_:1},8,["model"])):(0,s.kq)("",!0)])),_:1},8,["modelValue","title"]),(0,s.Wm)(k,{modelValue:l.ShowNewStep,"onUpdate:modelValue":t[8]||(t[8]=e=>l.ShowNewStep=e),title:l.NewstepOpMode?"New Step":"Edit Step"},{default:(0,s.w5)((()=>[l.ShowNewStep?((0,s.wg)(),(0,s.j4)(v,{key:0,AddNew:l.NewstepOpMode,Data:l.EditingStep,onCancelEvent:n.NewStepFinish},null,8,["AddNew","Data","onCancelEvent"])):(0,s.kq)("",!0)])),_:1},8,["modelValue","title"])])}var Pi={components:{newstep:ui},computed:{...(0,Pe.Se)({sop_list:"getSOPList",sop_stt:"getSOPstatus",LoginUser:"getUser"})},mounted(){this.GetAllSOP()},data(){return{TotalPages:1,EditingStep:void 0,NewstepOpMode:!1,loading:!1,ShowNewStep:!1,currentPage:1,pageSize:50,opMode:"SOP Edit",search:"",TempData:[],ShowEdit:!1,edittingSOP:{sop_Name:"",sop_ID:0,defect_code:"",defect_id:"",DESCRIPTIONS:"",update_user:0,old_sopName:""},list_error:[{DEFECT_ID:"ER01",DEFECT_CODE:"ER01"}],options:[]}},methods:{...(0,Pe.nv)(["GetSOPErrorCode"]),...(0,Pe.OI)(["UpdateSOP"]),filterTableData:function(){this.TempData=this.sop_list.filter((e=>!this.search||e.SOP_NAME.toLowerCase().includes(this.search.toLowerCase())))},async GetAllSOP(){const e=this.$Loading.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});await this.GetSOPErrorCode("getallsop").then((()=>{this.filterTableData(),this.TotalPages=this.sop_list.length,e.close()})).catch((t=>{e.close(),console.log(t.response.data)}))},NewStepFinish(e){e&&this.GetAllSOP(),this.ShowNewStep=!1},handleEdit(e,t){this.opMode="SOP Edit",this.edittingSOP.sop_Name=t.SOP_NAME,this.edittingSOP.old_sopName=t.SOP_NAME,this.edittingSOP.sop_ID=t.SOP_ID,this.edittingSOP.defect_code=t.DEFECT_CODE,this.edittingSOP.DESCRIPTIONS=t.DESCRIPTIONS,this.edittingSOP.defect_id=t.DEFECT_ID,this.ShowEdit=!0,this.options=[{DEFECT_ID:t.DEFECT_ID,DEFECT_CODE:t.DEFECT_CODE}]},handleNewStep(e,t){this.EditingStep=t,this.NewstepOpMode=e,this.ShowNewStep=!0},async handleDelete(e,t){const a=t.SOP_ID;await this.axios.post(`api/FAOnlineSOP/DeleteSOP?sop_id=${a}`).then((e=>{this.$message({showClose:!0,type:"success",message:e.data}),this.GetAllSOP()})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.data})}))},async handleDeleteStep(e,t){const a={sop_id:t,step_name:e,update_user:this.LoginUser.EMP_ID};await this.axios.post("api/FAOnlineSOP/DeleteSOPStep",a).then((e=>{this.$message({showClose:!0,type:"success",message:e.data}),location.reload()})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))},AddNewSOP(){this.edittingSOP={sop_Name:"",sop_ID:0,defect_code:"",defect_id:"",DESCRIPTIONS:"",update_user:this.LoginUser.EMP_ID},this.opMode="Add New SOP",this.options=[],this.ShowEdit=!0},async submitForm(){if(console.log(this.edittingSOP),!this.edittingSOP.sop_Name||!this.edittingSOP.defect_id||!this.edittingSOP.DESCRIPTIONS)return void this.$message({showClose:!0,type:"error",message:"The information has not been entered completely"});const e=this.opMode.includes("Add New")?"api/FAOnlineSOP/AddNewSOP":`api/FAOnlineSOP/UpdateSOP?oldSOPname=${this.edittingSOP.old_sopName}`;await this.axios.post(e,this.edittingSOP).then((e=>{console.log(e),this.$message({showClose:!0,type:"success",message:e.data}),this.ShowEdit=!1,this.GetAllSOP()})).catch((e=>{console.log(e),this.$message({showClose:!0,type:"error",message:e.response.data})}))},async remoteMethod(e){e?(this.loading=!0,await this.axios.get(`api/FAOnlineSOP/GetErrorCode?filter=${e}`).then((e=>{this.list_error=e.data})).catch((e=>{console.log(e),this.list_error=[]})),setTimeout((()=>{this.loading=!1,this.options=this.list_error.filter((t=>t.DEFECT_CODE.toLowerCase().includes(e.toLowerCase())))}),500)):this.options=[]}}};const Di=(0,n.Z)(Pi,[["render",Ci],["__scopeId","data-v-725dd000"]]);var Ii=Di;const xi=e=>((0,s.dD)("data-v-0f834dbc"),e=e(),(0,s.Cn)(),e),Ti={style:{height:"90vh"}},Ui=["onClick"],Ni=xi((()=>(0,s._)("span",null,"Delete this menu?",-1))),Fi={class:"dialog-footer"};function Ai(e,t,a,o,i,l){const n=(0,s.up)("el-tree"),r=(0,s.up)("MenuEdit"),d=(0,s.up)("el-dialog"),u=(0,s.up)("el-button");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Ti,[(0,s.Wm)(n,{data:i.menu,props:i.defaultProps,onNodeClick:l.handleNodeClick,onNodeContextmenu:l.showContextMenu,"highlight-current":!0,"default-expand-all":"","node-key":e=>e.id},null,8,["data","props","onNodeClick","onNodeContextmenu","node-key"])]),i.showMenu?((0,s.wg)(),(0,s.iD)("div",{key:0,ref:"myDiv",id:"myContextMenu",style:(0,We.j5)({left:`${i.menuX}px`,top:`${i.menuY}px`})},[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.menuOptions,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,onClick:e.action},[(0,s._)("i",{class:(0,We.C_)(e.icon)},null,2),(0,s.Uk)(" "+(0,We.zw)(e.label),1)],8,Ui)))),128))])],4)):(0,s.kq)("",!0),(0,s.Wm)(d,{modelValue:i.ShowEditMenu,"onUpdate:modelValue":t[0]||(t[0]=e=>i.ShowEditMenu=e),title:i.OpMode},{default:(0,s.w5)((()=>[i.ShowEditMenu?((0,s.wg)(),(0,s.j4)(r,{key:0,EditMode:i.OpMode.includes("Edit Menu"),EdittingMenu:i.EdittingMenu,ParentName:i.currentNodeParent[1],onCompleteSuccess:l.FinishEdit},null,8,["EditMode","EdittingMenu","ParentName","onCompleteSuccess"])):(0,s.kq)("",!0)])),_:1},8,["modelValue","title"]),(0,s.Wm)(d,{modelValue:i.deleteDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>i.deleteDialog=e),title:"Warning",width:"20%","align-center":""},{footer:(0,s.w5)((()=>[(0,s._)("span",Fi,[(0,s.Wm)(u,{onClick:t[1]||(t[1]=e=>i.deleteDialog=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),(0,s.Wm)(u,{type:"primary",onClick:l.deleteMenu},{default:(0,s.w5)((()=>[(0,s.Uk)(" Confirm ")])),_:1},8,["onClick"])])])),default:(0,s.w5)((()=>[Ni])),_:1},8,["modelValue"])],64)}const Oi={style:{"margin-left":"5px"}},Gi={style:{"margin-left":"5px"}};function Li(e,t,a,o,i,l){const n=(0,s.up)("el-input"),r=(0,s.up)("el-form-item"),d=(0,s.up)("el-select-v2"),u=(0,s.up)("el-col"),m=(0,s.up)("el-radio"),c=(0,s.up)("el-radio-group"),p=(0,s.up)("el-button"),h=(0,s.up)("el-form");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(h,{ref:"ruleFormRef",model:i.ruleForm,rules:i.rules,"label-width":"auto",class:"demo-ruleForm",size:"default","status-icon":"","label-position":"left"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{label:"Menu name",prop:"NAME"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:i.ruleForm.NAME,"onUpdate:modelValue":t[0]||(t[0]=e=>i.ruleForm.NAME=e),placeholder:"Menu Name"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(r,{label:"Link To Route",prop:"LINK_TO"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:i.ruleForm.LINK_TO,"onUpdate:modelValue":t[1]||(t[1]=e=>i.ruleForm.LINK_TO=e),placeholder:"Link To Route"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(r,{label:"Menu Title",prop:"TITLE",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:i.ruleForm.TITLE,"onUpdate:modelValue":t[2]||(t[2]=e=>i.ruleForm.TITLE=e),placeholder:"Menu Title"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(r,{label:"Menu Description",prop:"DESCRIPTION",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:i.ruleForm.DESCRIPTION,"onUpdate:modelValue":t[3]||(t[3]=e=>i.ruleForm.DESCRIPTION=e),type:"textarea",placeholder:"Menu Description"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(r,{label:"Menu Type",prop:"TYPE",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{span:11},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{prop:"TYPE",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.ruleForm.TYPE,"onUpdate:modelValue":t[4]||(t[4]=e=>i.ruleForm.TYPE=e),placeholder:"Menu Type",options:i.Types,onChange:l.SelectLevel,disabled:a.EditMode},null,8,["modelValue","options","onChange","disabled"]),(0,s._)("span",Oi,"Level: "+(0,We.zw)(i.ruleForm.ITEM_LEVEL),1)])),_:1})])),_:1}),(0,s.Wm)(u,{span:13},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{label:"Menu Parent",prop:"PARENT_ID",required:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.ruleForm.PARENT_ID,"onUpdate:modelValue":t[5]||(t[5]=e=>i.ruleForm.PARENT_ID=e),placeholder:"Menu Parent",options:i.Parents,onChange:l.SelectSeq,disabled:a.EditMode},null,8,["modelValue","options","onChange","disabled"]),(0,s._)("span",Gi,"SEQ: "+(0,We.zw)(i.ruleForm.SEQ),1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(r,{label:"Role Require",prop:"ROLE_REQUIRE"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.ruleForm.ROLE_REQUIRE,"onUpdate:modelValue":t[6]||(t[6]=e=>i.ruleForm.ROLE_REQUIRE=e),placeholder:"Role Require",options:i.Roles},null,8,["modelValue","options"])])),_:1}),(0,s.Wm)(r,{label:"Display Status",prop:"DISPLAY_STATUS"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:i.ruleForm.DISPLAY_STATUS,"onUpdate:modelValue":t[7]||(t[7]=e=>i.ruleForm.DISPLAY_STATUS=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{label:"ENABLE"}),(0,s.Wm)(m,{label:"DISABLE"})])),_:1},8,["modelValue"])])),_:1}),(0,s.Wm)(r,{style:{"padding-left":"130px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{type:"primary",onClick:t[8]||(t[8]=e=>l.submitForm())},{default:(0,s.w5)((()=>[(0,s.Uk)(" Submit ")])),_:1}),(0,s.Wm)(p,{onClick:t[9]||(t[9]=e=>l.resetForm())},{default:(0,s.w5)((()=>[(0,s.Uk)("Reset")])),_:1})])),_:1})])),_:1},8,["model","rules"])])}var Wi={props:{ParentName:String,EdittingMenu:Object,EditMode:Boolean},computed:{...(0,Pe.Se)({GetUser:"getUser"})},mounted(){this.GetMenuParrent(),this.EdittingMenu&&(this.ruleForm=this.EdittingMenu)},data(){return{Roles:Array.from({length:10}).map(((e,t)=>({value:`${t+1}`,label:`${t+1}`}))),Types:[{value:"MENU_ITEM",label:"MENU_ITEM"},{value:"MENU_GROUP_ITEM",label:"MENU_GROUP_ITEM"},{value:"SUB_MENU",label:"SUB_MENU"}],Parents:[],ruleForm:{NAME:"",DESCRIPTION:"",TYPE:void 0,PARENT_ID:void 0,SEQ:1,TITLE:"",LINK_TO:"",DISPLAY_STATUS:"ENABLE",ENABLE:"Y",UPDATE_TIME:new Date,ITEM_LEVEL:1,UPDATE_USER_ID:0,ID:0,ROLE_REQUIRE:2},rules:{NAME:[{required:!0,message:"Please input Menu name",trigger:"blur"},{min:5,max:100,message:"Length should be 5 to 100",trigger:"blur"}],LINK_TO:[{required:!0,message:"Please input router",trigger:"blur"}],DESCRIPTION:[{required:!0,message:"Please input Menu Description",trigger:"blur"}],PARENT_ID:[{required:!0,message:"Please select Menu Parrent",trigger:"change"}],TYPE:[{required:!0,message:"Please select Menu Type",trigger:"change"}],TITLE:[{required:!0,message:"Please input title",trigger:"blur"}]}}},methods:{async submitForm(){this.$refs.ruleFormRef&&(this.ruleForm.UPDATE_USER_ID=this.GetUser.EMP_ID,await this.$refs.ruleFormRef.validate((e=>{let t="api/FAOnlineSOP/AddNewMenu";e?(this.EditMode&&(t="api/FAOnlineSOP/UpdateMenu"),this.axios.post(t,this.ruleForm).then((e=>{this.$message({showClose:!0,type:"success",message:e.data}),this.$emit("CompleteSuccess")})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))):this.$message({showClose:!0,type:"error",message:"All fields has not complete input"})})))},resetForm(){this.$refs.ruleFormRef.resetFields()},async GetMenuParrent(){await this.axios.get("api/FAOnlineSOP/GetAllParrent").then((e=>{this.Parents.push({value:0,label:"N/A"}),e.data.forEach((e=>{this.Parents.push({value:e.ID,label:e.NAME})})),this.Parents.forEach((e=>{this.ParentName&&e.label.includes(this.ParentName)&&(this.ruleForm.PARENT_ID=e.value,this.EditMode||this.SelectSeq(this.ruleForm.PARENT_ID))}))})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))},SelectLevel(e){switch(e){case"MENU_ITEM":this.ruleForm.ITEM_LEVEL=3;break;case"MENU_GROUP_ITEM":this.ruleForm.ITEM_LEVEL=2;break;case"SUB_MENU":this.ruleForm.ITEM_LEVEL=1;break;default:break}},SelectSeq(e){0!=e?this.Parents.forEach((async t=>{t.value==e&&await this.axios.get(`api/FAOnlineSOP/GetMaxSEQ?parentName=${t.label}`).then((e=>{this.ruleForm.SEQ=e.data.MAX_SEQ})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))})):this.axios.get("api/FAOnlineSOP/GetMaxSEQ?parentName=submenu").then((e=>{this.ruleForm.SEQ=e.data.MAX_SEQ})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))}}};const Ri=(0,n.Z)(Wi,[["render",Li],["__scopeId","data-v-5b65998e"]]);var qi=Ri,Vi={components:{MenuEdit:qi},methods:{handleClickOutside(e){this.$refs.myDiv&&!this.$refs.myDiv.contains(e.target)&&(this.showMenu=!1)},handleNodeClick(){},MenuToTree(e){const t=[];let a;return e.forEach((e=>{a=void 0,e.CHILDREN&&(a=this.MenuToTree(e.CHILDREN)),t.push({label:e.NAME,children:a})})),t},async getMenu(){await this.axios.get("api/FAOnlineSOP/GetMainMenu").then((e=>{this.menu=this.MenuToTree(e.data)})).catch((e=>{console.log(e.response.data)}))},AddNewMenu(){this.EdittingMenu=void 0,this.showMenu=!1,this.OpMode="Add New Menu",this.ShowEditMenu=!0},async edit(){await this.axios.post("api/FAOnlineSOP/GetEditMenu",this.currentNodeParent).then((e=>{this.EdittingMenu=e.data,this.showMenu=!1,this.OpMode="Edit Menu",this.ShowEditMenu=!0})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data}),this.showMenu=!1}))},FinishEdit(){this.ShowEditMenu=!1,location.reload()},delete(){this.showMenu=!1,this.deleteDialog=!0},async deleteMenu(){await this.axios.post("api/FAOnlineSOP/DeleteMenu",this.currentNodeParent).then((e=>{this.$message({showClose:!0,type:"success",message:e.data}),this.deleteDialog=!1,location.reload()})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data}),this.deleteDialog=!1,location.reload()}))},showContextMenu(e,t,a){let o;this.currentNodeParent=[a.label];do{o=o?o.parent:a.parent,o&&o.label&&this.currentNodeParent.push(o.label)}while(o);this.menuX=e.clientX,this.menuY=e.clientY,this.showMenu=!0}},data(){return{EdittingMenu:void 0,deleteDialog:!1,currentNodeParent:[],OpMode:"Add New Menu",ShowEditMenu:!1,icons:[ms.Files,ms.Tickets,ms.Collection,ms.Postcard,ms.SetUp,ms.DocumentChecked,ms.DataBoard,ms.DataAnalysis],defaultProps:{children:"children",label:"label"},menu:[],menuOptions:[{label:"Add New",action:this.AddNewMenu,icon:"fa-solid fa-square-plus"},{label:"Edit",action:this.edit,icon:"fa-solid fa-screwdriver-wrench"},{label:"Delete",action:this.delete,icon:"fa-solid fa-trash-can"}],showMenu:!1,menuX:0,menuY:0}},mounted(){this.getMenu(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}};const Zi=(0,n.Z)(Vi,[["render",Ai],["__scopeId","data-v-0f834dbc"]]);var zi=Zi,Bi=a.p+"img/maintenance.f0c60089.jpeg";const ji=e=>((0,s.dD)("data-v-b8fa9d06"),e=e(),(0,s.Cn)(),e),Qi={class:"mainDiv"},Hi=ji((()=>(0,s._)("img",{src:Bi,alt:"Image"},null,-1))),Yi=[Hi];function Ki(e,t,a,o,i,l){return(0,s.wg)(),(0,s.iD)("div",Qi,Yi)}var $i={name:"main-ten"};const Xi=(0,n.Z)($i,[["render",Ki],["__scopeId","data-v-b8fa9d06"]]);var Ji=Xi;const el=e=>((0,s.dD)("data-v-6a4e1dcc"),e=e(),(0,s.Cn)(),e),tl=el((()=>(0,s._)("svg",{version:"1.1",id:"clock",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"600px",height:"600px",viewBox:"50 50 400 500","xml:space":"preserve"},[(0,s._)("circle",{id:"face",fill:"#F4F3ED",cx:"243.869",cy:"250.796",r:"130.8"}),(0,s._)("path",{id:"rim",fill:"#383838",d:"M243.869,101.184c-82.629,0-149.612,66.984-149.612,149.612c0,82.629,66.983,149.612,149.612,149.612\r\n            S393.48,333.425,393.48,250.796S326.498,101.184,243.869,101.184z M243.869,386.455c-74.922,0-135.659-60.736-135.659-135.659\r\n            c0-74.922,60.737-135.659,135.659-135.659c74.922,0,135.658,60.737,135.658,135.659\r\n            C379.527,325.719,318.791,386.455,243.869,386.455z"}),(0,s._)("g",{id:"inner"},[(0,s._)("g",{opacity:"0.2"},[(0,s._)("path",{fill:"#C4C4C4",d:"M243.869,114.648c-75.748,0-137.154,61.406-137.154,137.153c0,75.749,61.406,137.154,137.154,137.154\r\n            c75.748,0,137.153-61.405,137.153-137.154C381.022,176.054,319.617,114.648,243.869,114.648z M243.869,382.56\r\n            c-72.216,0-130.758-58.543-130.758-130.758s58.542-130.758,130.758-130.758c72.216,0,130.758,58.543,130.758,130.758\r\n            S316.085,382.56,243.869,382.56z"})]),(0,s._)("g",null,[(0,s._)("path",{fill:"#282828",d:"M243.869,113.637c-75.748,0-137.154,61.406-137.154,137.153c0,75.749,61.406,137.154,137.154,137.154\r\n            c75.748,0,137.153-61.405,137.153-137.154C381.022,175.043,319.617,113.637,243.869,113.637z M243.869,381.548\r\n            c-72.216,0-130.758-58.542-130.758-130.757c0-72.216,58.542-130.758,130.758-130.758c72.216,0,130.758,58.543,130.758,130.758\r\n            C374.627,323.005,316.085,381.548,243.869,381.548z"})])]),(0,s._)("g",{id:"markings"},[(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"243.5",y1:"139",x2:"243.5",y2:"133"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"231.817",y1:"139.651",x2:"231.19",y2:"133.684"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"220.266",y1:"141.52",x2:"219.018",y2:"135.65"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"208.973",y1:"144.585",x2:"207.119",y2:"138.879"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"198.063",y1:"148.814",x2:"195.623",y2:"143.333"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"187.655",y1:"154.161",x2:"184.655",y2:"148.965"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"177.862",y1:"160.566",x2:"174.335",y2:"155.712"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"168.792",y1:"167.96",x2:"164.778",y2:"163.501"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"160.545",y1:"176.262",x2:"156.087",y2:"172.246"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"153.211",y1:"185.379",x2:"148.358",y2:"181.852"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"146.871",y1:"195.214",x2:"141.675",y2:"192.213"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"141.593",y1:"205.658",x2:"136.112",y2:"203.216"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"137.436",y1:"216.596",x2:"131.729",y2:"214.741"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"134.445",y1:"227.909",x2:"128.576",y2:"226.66"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"132.653",y1:"239.472",x2:"126.685",y2:"238.843"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"132.079",y1:"251.16",x2:"126.079",y2:"251.158"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"132.73",y1:"262.843",x2:"126.762",y2:"263.468"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"134.598",y1:"274.395",x2:"128.729",y2:"275.64"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"137.664",y1:"285.688",x2:"131.958",y2:"287.539"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"141.893",y1:"296.598",x2:"136.412",y2:"299.035"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"147.24",y1:"307.006",x2:"142.043",y2:"310.004"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"153.645",y1:"316.799",x2:"148.791",y2:"320.323"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"161.04",y1:"325.868",x2:"156.58",y2:"329.881"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"169.341",y1:"334.115",x2:"165.325",y2:"338.572"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"178.459",y1:"341.449",x2:"174.931",y2:"346.302"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"188.294",y1:"347.789",x2:"185.292",y2:"352.984"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"198.738",y1:"353.066",x2:"196.295",y2:"358.548"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"209.676",y1:"357.223",x2:"207.82",y2:"362.93"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"220.989",y1:"360.214",x2:"219.739",y2:"366.084"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"232.552",y1:"362.006",x2:"231.922",y2:"367.975"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"244.239",y1:"362.58",x2:"244.237",y2:"368.582"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"255.921",y1:"361.93",x2:"256.547",y2:"367.898"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"267.472",y1:"360.062",x2:"268.719",y2:"365.932"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"278.765",y1:"356.996",x2:"280.619",y2:"362.703"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"289.675",y1:"352.767",x2:"292.116",y2:"358.248"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"300.083",y1:"347.42",x2:"303.083",y2:"352.616"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"309.876",y1:"341.015",x2:"313.403",y2:"345.869"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"318.946",y1:"333.621",x2:"322.96",y2:"338.08"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"327.193",y1:"325.319",x2:"331.651",y2:"329.334"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"334.527",y1:"316.201",x2:"339.38",y2:"319.728"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"340.868",y1:"306.367",x2:"346.063",y2:"309.367"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"346.146",y1:"295.924",x2:"351.626",y2:"298.364"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"350.303",y1:"284.986",x2:"356.008",y2:"286.84"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"353.294",y1:"273.673",x2:"359.162",y2:"274.92"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"355.087",y1:"262.11",x2:"361.052",y2:"262.737"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"356",y1:"250.5",x2:"362",y2:"250.5"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"355.355",y1:"238.781",x2:"361.323",y2:"238.153"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"353.489",y1:"227.193",x2:"359.359",y2:"225.945"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"350.422",y1:"215.864",x2:"356.129",y2:"214.01"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"346.188",y1:"204.918",x2:"351.669",y2:"202.477"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"340.833",y1:"194.474",x2:"346.029",y2:"191.474"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"334.415",y1:"184.647",x2:"339.269",y2:"181.12"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"327.004",y1:"175.545",x2:"331.463",y2:"171.529"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"318.684",y1:"167.268",x2:"322.699",y2:"162.807"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"309.543",y1:"159.905",x2:"313.07",y2:"155.049"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"299.684",y1:"153.538",x2:"302.683",y2:"148.34"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"289.212",y1:"148.237",x2:"291.652",y2:"142.753"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"278.245",y1:"144.059",x2:"280.097",y2:"138.351"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"266.9",y1:"141.05",x2:"268.145",y2:"135.179"}),(0,s._)("line",{fill:"none",stroke:"#3F3F3F","stroke-miterlimit":"10",x1:"255.302",y1:"139.244",x2:"255.927",y2:"133.275"}),(0,s._)("polygon",{fill:"#3F3F3F",points:"247.391,133 243.5,141.05 239.609,133 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"188.022,147.021 188.677,155.938 181.283,150.912 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"143.617,188.848 148.643,196.243 139.726,195.588 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"126.074,247.273 134.125,251.165 126.076,255.056 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"140.095,306.644 149.013,305.988 143.988,313.382 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"181.922,351.049 189.318,346.022 188.663,354.938 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"240.349,368.591 244.24,360.54 248.13,368.589 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"299.718,354.569 299.062,345.652 306.457,350.677 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"344.123,312.742 339.096,305.348 348.012,306.002 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"362,254.316 353.951,250.426 362,246.534 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"347.934,194.779 339.018,195.435 344.042,188.04 "}),(0,s._)("polygon",{fill:"#3F3F3F",points:"305.984,150.252 298.59,155.277 299.244,146.361 "}),(0,s._)("rect",{x:"282",y:"152.98",fill:"none",width:"17.366",height:"27.947"}),(0,s._)("text",{transform:"matrix(1 0 0 1 282 174.4307)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"1"),(0,s._)("rect",{x:"320.699",y:"188.474",fill:"none",width:"17.202",height:"26.267"}),(0,s._)("text",{transform:"matrix(1 0 0 1 320.6987 209.9229)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"2"),(0,s._)("rect",{x:"335.04",y:"238.872",fill:"none",width:"21.03",height:"24.585"}),(0,s._)("text",{transform:"matrix(1 0 0 1 335.0396 260.3213)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"3"),(0,s._)("rect",{x:"319.699",y:"290.242",fill:"none",width:"17.202",height:"23.557"}),(0,s._)("text",{transform:"matrix(1 0 0 1 319.6987 311.6914)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"4"),(0,s._)("rect",{x:"284.5",y:"323.319",fill:"none",width:"19.212",height:"22.511"}),(0,s._)("text",{transform:"matrix(1 0 0 1 284.5 344.7695)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"5"),(0,s._)("rect",{x:"235.552",y:"336.08",fill:"none",width:"19.938",height:"24.15"}),(0,s._)("text",{transform:"matrix(1 0 0 1 235.5522 357.5293)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"6"),(0,s._)("rect",{x:"189.373",y:"322.319",fill:"none",width:"19.673",height:"25.003"}),(0,s._)("text",{transform:"matrix(1 0 0 1 189.3726 343.7695)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"7"),(0,s._)("rect",{x:"151.066",y:"287.539",fill:"none",width:"17.726",height:"25.203"}),(0,s._)("text",{transform:"matrix(1 0 0 1 151.0664 308.9883)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"8"),(0,s._)("rect",{x:"136.392",y:"241.25",fill:"none",width:"20.696",height:"22.348"}),(0,s._)("text",{transform:"matrix(1 0 0 1 136.3916 262.6992)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"9"),(0,s._)("rect",{x:"149.066",y:"191.474",fill:"none",width:"36.554",height:"27.122"}),(0,s._)("text",{transform:"matrix(1 0 0 1 149.0664 212.9229)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"10"),(0,s._)("rect",{x:"184.967",y:"158.518",fill:"none",width:"36.021",height:"27.13"}),(0,s._)("text",{transform:"matrix(1 0 0 1 184.9673 179.9668)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"11"),(0,s._)("rect",{x:"225.723",y:"144.514",fill:"none",width:"37.029",height:"29.25"}),(0,s._)("text",{transform:"matrix(1 0 0 1 225.7227 165.9639)",fill:"#303030","font-family":"'Futura-Medium'","font-size":"26"},"12")]),(0,s._)("path",{id:"hours",fill:"#3A3A3A",d:"M242.515,270.21c-0.44,0-0.856-0.355-0.926-0.79l-3.156-19.811c-0.069-0.435-0.103-1.149-0.074-1.588\r\n        l4.038-62.009c0.03-0.439,0.414-0.798,0.854-0.798h0.5c0.44,0,0.823,0.359,0.852,0.798l4.042,62.205\r\n        c0.028,0.439-0.015,1.152-0.097,1.584l-3.712,19.623c-0.082,0.433-0.508,0.786-0.948,0.786H242.515z"}),(0,s._)("path",{id:"minutes",fill:"#3A3A3A",d:"M247.862,249.75l-2.866,24.244c-0.099,1.198-0.498,2.18-1.497,2.179c-0.999,0-1.397-0.98-1.498-2.179\r\n        l-2.861-24.508c-0.099-1.199,3.479-93.985,3.479-93.985c0.036-1.201-0.117-2.183,0.881-2.183c0.999,0,0.847,0.982,0.882,2.183\r\n        L247.862,249.75z"}),(0,s._)("g",{id:"seconds"},[(0,s._)("line",{fill:"none",stroke:"#BF4116","stroke-miterlimit":"10",x1:"243.5",y1:"143",x2:"243.5",y2:"266"}),(0,s._)("circle",{fill:"none",stroke:"#BF4116","stroke-miterlimit":"10",cx:"243.5",cy:"271",r:"5"}),(0,s._)("circle",{fill:"#BF4116",cx:"243.5",cy:"251",r:"3.917"})])],-1))),al=[tl];function ol(e,t,a,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,al)}var sl={mounted(){}};const il=(0,n.Z)(sl,[["render",ol],["__scopeId","data-v-6a4e1dcc"]]);var ll=il,nl=a(2634),rl=a.n(nl);const dl=e=>((0,s.dD)("data-v-b78cf2b6"),e=e(),(0,s.Cn)(),e),ul={class:"custom-tabs-label"},ml=dl((()=>(0,s._)("span",null,"Config",-1))),cl={class:"q-pa-md"},pl={class:"fileNameClass"},hl={class:"custom-tabs-label"},gl=dl((()=>(0,s._)("span",null,"Upload",-1))),fl=dl((()=>(0,s._)("div",{class:"el-upload__tip"}," audio files with a size less than 100Mb ",-1)));function wl(e,t,a,o,i,l){const n=(0,s.up)("Setting"),r=(0,s.up)("el-icon"),d=(0,s.up)("q-td"),u=(0,s.up)("q-tooltip"),m=(0,s.up)("q-input"),c=(0,s.up)("q-popup-edit"),p=(0,s.up)("q-select"),h=(0,s.up)("q-btn"),g=(0,s.up)("q-tr"),f=(0,s.up)("q-table"),w=(0,s.up)("el-tab-pane"),_=(0,s.up)("q-icon"),y=(0,s.up)("el-button"),E=(0,s.up)("el-upload"),S=(0,s.up)("el-tabs");return(0,s.wg)(),(0,s.j4)(S,{type:"border-card",class:"demo-tabs"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{label:(0,s.w5)((()=>[(0,s._)("span",ul,[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1}),ml])])),default:(0,s.w5)((()=>[(0,s._)("div",cl,[(0,s.Wm)(f,{"table-class":"MyBodySticky","table-header-class":"MyHeaderSticky",flat:"",bordered:"",title:"Documents",rows:i.rows,columns:i.columns,"row-key":"ID","binary-state-sort":"","rows-per-page-options":[10,20,50,100,0],loading:i.DataLoading},{body:(0,s.w5)((e=>[(0,s.Wm)(g,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{key:"ID",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(e.row.ID),1)])),_:2},1032,["props"]),(0,s.Wm)(d,{key:"FILE_NAME",props:e},{default:(0,s.w5)((()=>[(0,s._)("div",pl,[(0,s._)("span",null,(0,We.zw)(e.row.FILE_NAME),1),(0,s.Wm)(u,{"transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(e.row.FILE_NAME),1)])),_:2},1024)]),(0,s.Wm)(c,{modelValue:e.row.FILE_NAME,"onUpdate:modelValue":t=>e.row.FILE_NAME=t,buttons:""},{default:(0,s.w5)((e=>[(0,s.Wm)(m,{type:"textarea",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,dense:"",autofocus:"",rules:[l.FileNameRule]},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,s.Wm)(d,{key:"CONTENT_TYPE",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(e.row.CONTENT_TYPE),1)])),_:2},1032,["props"]),(0,s.Wm)(d,{key:"CONTENT_LENGTH",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(e.row.CONTENT_LENGTH),1)])),_:2},1032,["props"]),(0,s.Wm)(d,{key:"CATEGORY",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(e.row.CATEGORY)+" ",1),(0,s.Wm)(c,{modelValue:e.row.CATEGORY,"onUpdate:modelValue":t=>e.row.CATEGORY=t},{default:(0,s.w5)((e=>[(0,s.Wm)(p,{autofocus:"",filled:"",modelValue:e.value,"onUpdate:modelValue":[t=>e.value=t,t=>l.CategoryUpdate(e)],"use-input":"","use-chips":"","input-debounce":"0",onNewValue:l.createValue,options:i.filterOptions,onFilter:l.filterFn,style:{"background-color":"white"}},null,8,["modelValue","onUpdate:modelValue","onNewValue","options","onFilter"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,s.Wm)(d,{key:"NOTES",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(e.row.NOTES),1)])),_:2},1032,["props"]),(0,s.Wm)(d,{key:"UPDATE_TIME",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(e.row.UPDATE_TIME),1)])),_:2},1032,["props"]),(0,s.Wm)(d,{key:"UPDATE_USER",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,We.zw)(e.row.UPDATE_USER),1)])),_:2},1032,["props"]),(0,s.Wm)(d,{key:"ACTIONS",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{glossy:"",rounded:"",dense:"",color:"primary",icon:"done",onClick:t=>l.SubmitEdit(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Submit ")])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(h,{glossy:"",rounded:"",dense:"",color:"red",icon:"cancel",style:{"margin-left":"5px","margin-right":"5px"},onClick:t=>l.CancelEdit(e.row)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Cancel ")])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(h,{glossy:"",rounded:"",dense:"",color:"positive",icon:"refresh",onClick:l.InitData},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Refresh ")])),_:1})])),_:1},8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","loading"])])])),_:1}),(0,s.Wm)(w,null,{label:(0,s.w5)((()=>[(0,s._)("span",hl,[(0,s.Wm)(_,{name:"cloud_upload"}),gl])])),default:(0,s.w5)((()=>[(0,s.Wm)(E,{ref:"uploadRef",class:"upload-demo",action:i.upload_link,"auto-upload":!1,accept:"audio/*","file-list":i.UploadList,"onUpdate:fileList":t[0]||(t[0]=e=>i.UploadList=e),limit:"50",multiple:"","on-success":l.UploadSuccess,"on-error":l.UploadError},{trigger:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"btnSelect",type:"primary"},{default:(0,s.w5)((()=>[(0,s.Uk)("select file")])),_:1})])),tip:(0,s.w5)((()=>[fl])),default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"ml-3",type:"success",onClick:l.UploadByEL},{default:(0,s.w5)((()=>[(0,s.Uk)(" upload to server ")])),_:1},8,["onClick"]),(0,s.Wm)(y,{class:"ml-3",type:"success",onClick:l.ClearUploadList},{default:(0,s.w5)((()=>[(0,s.Uk)(" Clear List ")])),_:1},8,["onClick"])])),_:1},8,["action","file-list","on-success","on-error"])])),_:1})])),_:1})}var _l={mounted(){this.InitData(),this.upload_link=`${this.axios.defaults.baseURL}api/Funapp/MediaUpload`},computed:{...(0,Pe.Se)({GetUser:"getUser"})},data(){return{DataLoading:!1,columns:[{name:"ID",required:!0,label:"ID",align:"left",field:e=>e["ID"],format:e=>`${e}`,sortable:!0},{name:"FILE_NAME",required:!0,label:"FILE_NAME",align:"left",field:e=>e["FILE_NAME"],format:e=>`${e}`,sortable:!0},{name:"CONTENT_TYPE",required:!0,label:"CONTENT_TYPE",align:"left",field:e=>e["CONTENT_TYPE"],format:e=>`${e}`,sortable:!0},{name:"CONTENT_LENGTH",required:!0,label:"CONTENT_LENGTH",align:"left",field:e=>e["CONTENT_LENGTH"],format:e=>`${e}`,sortable:!0},{name:"CATEGORY",required:!0,label:"CATEGORY",align:"left",field:e=>e["CATEGORY"],format:e=>`${e}`,sortable:!0},{name:"NOTES",required:!0,label:"NOTES",align:"left",field:e=>e["NOTES"],format:e=>`${e}`,sortable:!0},{name:"UPDATE_TIME",required:!0,label:"UPDATE_TIME",align:"left",field:e=>e["UPDATE_TIME"],format:e=>`${e}`,sortable:!0},{name:"UPDATE_USER",required:!0,label:"UPDATE_USER",align:"left",field:e=>e["UPDATE_USER"],format:e=>`${e}`,sortable:!0},{name:"ACTIONS",required:!0,label:"ACTIONS",align:"left"}],rows:[],OriginalRows:[],UploadList:[],upload_link:"",stringOptions:[],filterOptions:[]}},methods:{FileNameRule(e){return new Promise((t=>{var a=/^[^\\/:*?"<>|]+$/;a.test(e)?t(!!e||"* Required"):t("Tên file không hợp lệ! Chứa các kí tự không được phép.")}))},CancelEdit(e){const t=this.rows.findIndex((t=>t.ID==e.ID));this.rows[t]={...this.OriginalRows[t]}},SubmitEdit(e){this.axios.post("api/Funapp/UpdateFileInfo",e).then((e=>this.$message({type:"success",message:`Update ${e.data}`}))).catch((e=>{this.$message({type:"error",message:e.response.data})}))},CategoryUpdate(e){e.value&&e.set()},createValue(e,t){e.length>0&&(this.stringOptions.includes(e)||this.stringOptions.push(e),t(e,"toggle"))},filterFn(e,t){t((()=>{if(""===e)this.filterOptions=this.stringOptions;else{const t=e.toLowerCase();this.filterOptions=this.stringOptions.filter((e=>e.toLowerCase().indexOf(t)>-1))}}))},async InitData(){this.rows=[],this.DataLoading=!0,await this.axios.get("api/Funapp/GetAllCategory").then((e=>{this.stringOptions=e.data,this.filterOptions=e.data})).catch((e=>{this.$message({type:"error",message:e})})),await this.axios.get("api/Funapp/GetDocList?cate=all").then((e=>{this.rows=e.data,this.OriginalRows=e.data.map((function(e){return{...e}}))})).catch((e=>{console.log(e)})),this.DataLoading=!1},submitUpload(){if(this.UploadList.length<1)return void this.$message({showClose:!0,type:"error",message:"No file selected"});const e=new FormData;this.UploadList.forEach((t=>{e.append("file",t.raw)})),this.axios.post("api/Funapp/MediaUpload",e).then((e=>{this.$message({showClose:!0,type:"success",message:`${e.data} + Upload success!`})})).catch((e=>{this.$message({showClose:!0,type:"error",message:e.response.data})}))},ClearUploadList(){this.$refs.uploadRef.clearFiles()},UploadByEL(){this.UploadList.length<1?this.$message({showClose:!0,type:"error",message:"No file selected"}):(console.log(this.$refs.uploadRef),this.$refs.uploadRef.submit())},UploadSuccess(e,t){this.$message({showClose:!0,type:"success",message:`Upload success: ${t.name}`})},UploadError(e){const t=JSON.parse(e.message);this.$message({showClose:!0,type:"error",message:t.Message})}}},yl=a(3902),El=a(8231),Sl=a(7282),kl=a(4806),vl=a(4487);const bl=(0,n.Z)(_l,[["render",wl],["__scopeId","data-v-b78cf2b6"]]);var Ml=bl;Fe()(_l,"components",{QTable:yl.Z,QTr:El.Z,QTd:Sl.Z,QTooltip:kl.Z,QPopupEdit:vl.Z,QInput:Ie.Z,QSelect:xo.Z,QBtn:Te.Z,QIcon:xe.Z});const Cl=(0,s._)("h2",null,"WebSocket Example",-1),Pl={key:0},Dl=(0,s._)("label",{for:"message"},"Message:",-1),Il=(0,s._)("button",{type:"submit"},"Send",-1),xl={key:1};function Tl(e,t,a,i,l,n){return(0,s.wg)(),(0,s.iD)("div",null,[Cl,l.connected?((0,s.wg)(),(0,s.iD)("div",Pl,[(0,s._)("h3",null,"Connected to WebSocket server at "+(0,We.zw)(l.url),1),(0,s._)("form",{onSubmit:t[1]||(t[1]=(0,o.iM)(((...e)=>n.sendMessage&&n.sendMessage(...e)),["prevent"]))},[Dl,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.message=e),required:""},null,512),[[o.nr,l.message]]),Il],32),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.messages,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t},(0,We.zw)(e),1)))),128))])])):((0,s.wg)(),(0,s.iD)("div",xl,[(0,s._)("p",null,"Connecting to WebSocket server at "+(0,We.zw)(l.url)+"...",1)]))])}var Ul={mounted(){this.socket=(0,Ma.io)(this.url),this.socket.on("connect",(()=>{this.connected=!0})),this.socket.on("disconnect",(()=>{this.connected=!1})),this.socket.on("msgFromServer",(e=>{this.messages.push(`${e.sender}: ${e.content}`),console.log(this.message)}))},data(){return{url:"http://localhost:3001",socket:void 0,connected:!1,messages:[],message:""}},methods:{sendMessage(){console.log(this.message),this.socket.emit("sendMsg",{type:"ownMsg",msg:{content:this.message,type:"text",sender:123333,receiver:4545454,group_id:0,media_id:0}}),this.message=""}}};const Nl=(0,n.Z)(Ul,[["render",Tl]]);var Fl=Nl;function Al(e,t,a,o,i,l){const n=(0,s.up)("TestCom");return(0,s.wg)(),(0,s.j4)(n)}const Ol={class:"myTextBox"};function Gl(e,t,a,o,i,l){const n=(0,s.up)("q-scroll-area"),r=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(n,{"thumb-style":i.thumbStyle,"content-style":i.contentStyle,"content-active-style":i.contentActiveStyle,style:{height:"100px"}},{default:(0,s.w5)((()=>[(0,s._)("div",Ol,[(0,s._)("p",{ref:"myMSG",onPaste:t[0]||(t[0]=(...e)=>l.handlePaste&&l.handlePaste(...e)),class:"apChild",contenteditable:""},(0,We.zw)(i.msg),545)])])),_:1},8,["thumb-style","content-style","content-active-style"]),(0,s.Wm)(r,{onClick:l.ShowTest},{default:(0,s.w5)((()=>[(0,s.Uk)("Chan")])),_:1},8,["onClick"])],64)}var Ll={data(){return{msg:"",contentStyle:{backgroundColor:"rgba(0,0,0,0.02)",color:"#555"},contentActiveStyle:{color:"black"},thumbStyle:{right:"2px",borderRadius:"2px",backgroundColor:"#027be3",width:"5px",opacity:"0.75"}}},methods:{handlePaste(e){const t=e.clipboardData||window.clipboardData,a=t.getData("text/plain");a.includes("abc")?(console.log(a),console.log('Nội dung clipboard chứa chuỗi "abc"')):(console.log(a),console.log('Nội dung clipboard không chứa chuỗi "abc"'))},ShowTest(){console.log(this.$refs.myMSG.innerText),console.log(this.$refs.myMSG.children.length);const e=this.$refs.myMSG.children;let t="";for(let a=0;a<e.length;a++){const o=e[a];"IMG"!==o.tagName&&(t+=o.innerText)}console.log(t)}}};const Wl=(0,n.Z)(Ll,[["render",Gl],["__scopeId","data-v-51be6ed6"]]);var Rl=Wl;Fe()(Ll,"components",{QScrollArea:co.Z,QBtn:Te.Z});var ql={components:{TestCom:Rl}};const Vl=(0,n.Z)(ql,[["render",Al]]);var Zl=Vl;const zl=[{path:"/",name:"login",component:Oe},{path:"/testmenu",name:"testmenu",component:Us},{path:"/home",name:"home",component:hs,redirect:"/wellcome",children:[{path:"/imgm",name:"imgm",component:Zl},{path:"/langtrans",name:"langtrans",component:()=>a.e(423).then(a.bind(a,1186))},{path:"/erdash",name:"erdash",component:()=>a.e(634).then(a.bind(a,8634))},{path:"/ratecommon",name:"ratecommon",component:()=>a.e(409).then(a.bind(a,1409))},{path:"/grpifo",name:"grpifo",component:vo},{path:"/ctlsender",name:"ctlsender",component:uo},{path:"/chatbox",name:"chatbox",component:us},{path:"/sktest",name:"sktest",component:Fl},{path:"/mediamana",name:"mediamana",component:Ml},{path:"/sosplay",name:"playback",component:At},{path:"/wellcome",name:"wellcome",component:$e},{path:"/mainten",name:"mainten",component:Ji},{path:"/menumana",name:"menumana",component:zi},{path:"/about",name:"about",component:Ws},{path:"/fasop",name:"fasop",component:ti},{path:"/testcom",name:"testcom",component:fi},{path:"/sopmana",name:"sopmana",component:Ii},{path:"/newstep",name:"newstep",component:ui},{path:"/clocksnap",name:"clocksnap",component:ll}]}],Bl=(0,Q.p7)({history:(0,Q.r5)(),routes:zl,mode:"hash"});Bl.beforeEach(((e,t,a)=>{if("login"!==e.name){const e=rl().get("vuex");sessionStorage.getItem("isLogin")&&e&&e.user&&e.user.LOGIN_TIME||(console.log("Relogin"),a({name:"login"}));const t=new Date,o=new Date(e.user.LOGIN_TIME),s=(t.getTime()-o.getTime())/36e5;s>6?(console.log("Relogin"),a({name:"login"})):a()}else a()}));var jl=Bl,Ql=a(2965),Hl=a(9315),Yl=a(2149),Kl={user:void 0,sopSteps:void 0,sop_list:void 0,sop_completed:!1,user_avatar:void 0},$l={UpdateUser(e,t){e.user=t},UpdateSOPstep(e,t){e.sopSteps=t},UpdateSOP(e,t){e.sop_list=t},setSOPStatus(e,t){e.sop_completed=t},setUserAvatar(e,t){console.log(t),e.user_avatar=t}},Xl={async Login({commit:e},t){const a=Ql.Z.post("api/FAOnlineSOP/CheckLogin",t);return new Promise(((t,o)=>{a.then((a=>{if("OK"===a.data.status){const o=a.data.data;sessionStorage.setItem(`avt${o.EMP_ID}`,o.Avatar),o.Avatar=void 0;const s=!0;e("UpdateUser",o),console.log(o),sessionStorage.setItem("UserName",o.NAME),sessionStorage.setItem("isLogin",s),t(a)}else sessionStorage.removeItem("isLogin"),o("User Name or Password is incorrect")})).catch((e=>{sessionStorage.removeItem("isLogin"),o(e)}))}))},Logout({commit:e}){for(let t=0;t<sessionStorage.length;t++){const e=sessionStorage.key(t);sessionStorage.removeItem(e)}e("UpdateUser",void 0),rl().keys().forEach((e=>rl().remove(e))),jl.push("/")},async GetSOPErrorCode({commit:e},t){if(!t||!t.trim())return alert("Error Code cannot be empty!"),null;const a=Ql.Z.get(`api/FAOnlineSOP/GetAllSop?error_code=${t}`);return new Promise(((t,o)=>{a.then((a=>{e("UpdateSOP",a.data.data),"OK"===a.data.status?t(a):o(a.data.data)})).catch((e=>{o(e)}))}))}},Jl={getUser:e=>e.user,getSOPStep:e=>e.sopSteps,getSOPList:e=>e.sop_list,getSOPstatus:e=>e.sop_completed,getAvatar:e=>e.user_avatar};const en=(0,Pe.MT)({state:Kl,mutations:$l,actions:Xl,getters:Jl,plugins:[(0,Yl.Z)({storage:{getItem:e=>rl().get(e),setItem:(e,t)=>rl().set(e,t,{expires:1,secure:!0}),removeItem:e=>rl().remove(e)}})]});var tn=en,an=a(8649),on={config:{},plugins:{}},sn=a(6864);const ln=(0,o.ri)(d).use(an.Z,on);ln.use(rl()),ln.config.globalProperties.$Echart=sn,ln.use(tn);for(const[nn,rn]of Object.entries(ms))ln.component(nn,rn);ln.use(Hl.Z,Ql.Z),ln.provide("axios",ln.config.globalProperties.axios),Ql.Z.defaults.baseURL="http://172.23.20.170:63851/",ln.use(j.Z),ln.use(B),ln.use(jl),ln.mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,o,s,i){if(!o){var l=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],i=e[u][2];for(var n=!0,r=0;r<o.length;r++)(!1&i||l>=i)&&Object.keys(a.O).every((function(e){return a.O[e](o[r])}))?o.splice(r--,1):(n=!1,i<l&&(l=i));if(n){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,s,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,o){return a.f[o](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{409:"7f4e17a3",423:"441cb76f",634:"5ed5e36d"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{409:"bc3a9845",423:"9487f7d6",634:"b9f46251"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="fa-sop-online:";a.l=function(o,s,i,l){if(e[o])e[o].push(s);else{var n,r;if(void 0!==i)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var m=d[u];if(m.getAttribute("src")==o||m.getAttribute("data-webpack")==t+i){n=m;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+i),n.src=o),e[o]=[s];var c=function(t,a){n.onerror=n.onload=null,clearTimeout(p);var s=e[o];if(delete e[o],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),r&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/fasop/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,o,s){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var l=function(a){if(i.onerror=i.onload=null,"load"===a.type)o();else{var l=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.type=l,r.request=n,i.parentNode&&i.parentNode.removeChild(i),s(r)}};return i.onerror=i.onload=l,i.href=t,a?a.parentNode.insertBefore(i,a.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var s=a[o],i=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===t))return s}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){s=l[o],i=s.getAttribute("data-href");if(i===e||i===t)return s}},o=function(o){return new Promise((function(s,i){var l=a.miniCssF(o),n=a.p+l;if(t(l,n))return s();e(o,n,null,s,i)}))},s={143:0};a.f.miniCss=function(e,t){var a={409:1,423:1,634:1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=o(e).then((function(){s[e]=0}),(function(t){throw delete s[e],t})))}}}(),function(){var e={143:0};a.f.j=function(t,o){var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)o.push(s[2]);else{var i=new Promise((function(a,o){s=e[t]=[a,o]}));o.push(s[2]=i);var l=a.p+a.u(t),n=new Error,r=function(o){if(a.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var i=o&&("load"===o.type?"missing":o.type),l=o&&o.target&&o.target.src;n.message="Loading chunk "+t+" failed.\n("+i+": "+l+")",n.name="ChunkLoadError",n.type=i,n.request=l,s[1](n)}};a.l(l,r,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,i,l=o[0],n=o[1],r=o[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(r)var u=r(a)}for(t&&t(o);d<l.length;d++)i=l[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},o=self["webpackChunkfa_sop_online"]=self["webpackChunkfa_sop_online"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(5418)}));o=a.O(o)})();
//# sourceMappingURL=app.12668f74.js.map