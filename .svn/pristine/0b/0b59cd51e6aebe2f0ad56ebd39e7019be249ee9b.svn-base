"use strict";(self["webpackChunkfa_sop_online"]=self["webpackChunkfa_sop_online"]||[]).push([[634,409],{8634:function(e,t,i){i.r(t),i.d(t,{default:function(){return Pe}});var n=i(9269),a=i(3201);const s=e=>((0,n.dD)("data-v-f873768e"),e=e(),(0,n.Cn)(),e),o={class:"MainDashboard"},r={class:"absolute-top-left z-top ctlBar",ref:"ctlBar"},l={ref:"mainPn",style:{width:"100%"},class:"mainPn",id:"mainPn"},c={class:"absolute-top-right z-top"},h={class:"absolute-top-right z-top clock"},d={style:{"min-width":"500px"}},u={style:{"min-width":"500px",width:"100%"}},m=s((()=>(0,n._)("div",null,null,-1))),p={style:{"min-width":"500px"}},f={style:{"min-width":"500px",width:"100%"}},v=s((()=>(0,n._)("div",null,null,-1))),w={style:{"min-width":"500px"}},g={style:{"min-width":"500px",width:"100%"}};function y(e,t,i,s,y,E){const b=(0,n.up)("q-item-section"),C=(0,n.up)("q-item"),D=(0,n.up)("q-list"),_=(0,n.up)("q-menu"),R=(0,n.up)("q-btn"),x=(0,n.up)("q-separator"),T=(0,n.up)("q-icon"),S=(0,n.up)("q-btn-group"),B=(0,n.up)("Myclock"),L=(0,n.up)("WoTarget"),A=(0,n.up)("OutputRate"),z=(0,n.up)("LineTotalRate"),$=(0,n.up)("StationYield"),F=(0,n.up)("Top10Issue"),O=(0,n.up)("TopByStation"),I=(0,n.up)("q-linear-progress");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",r,[(0,n.Wm)(S,null,{default:(0,n.w5)((()=>[(0,n.Wm)(R,{label:y.model.name,glossy:"",color:"yellow","text-color":"black"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{"transition-show":"scale","transition-hide":"scale",class:"bg-purple text-white","auto-close":""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.models,((e,t)=>((0,n.wg)(),(0,n.j4)(D,{style:{"min-width":"100px"},key:t},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{clickable:"",onClick:t=>E.ChangeModel(e)},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["label"]),(0,n.Wm)(x,{vertical:""}),(0,n.Wm)(R,{label:y.line.name,glossy:"",color:"orange","text-color":"black"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{"transition-show":"scale","transition-hide":"scale",class:"bg-purple text-white","auto-close":""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.lines,((e,t)=>((0,n.wg)(),(0,n.j4)(D,{style:{"min-width":"100px"},key:t},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{clickable:"",onClick:t=>E.onLineChanged(e)},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["label"]),(0,n._)("div",{style:{"font-size":"1.7em"},ref:"btnArrow",class:"btnArrow",onClick:t[0]||(t[0]=(...e)=>E.btnArrowClick&&E.btnArrowClick(...e))},[(0,n.Wm)(T,{name:y.ctlMenu?"double_arrow":"keyboard_double_arrow_left"},null,8,["name"])],512)])),_:1})],512),(0,n._)("div",l,[(0,n._)("div",c,[(0,n.Wm)(R,{onClick:E.toggle,icon:y.fullScreen?"fullscreen_exit":"fullscreen",flat:""},null,8,["onClick","icon"])]),(0,n._)("div",h,[(0,n.Wm)(B)]),(0,n._)("tr",null,[(0,n._)("td",d,[(0,n.Wm)(L,{ref:"WoTarget"},null,512)]),(0,n._)("td",u,[(0,n.Wm)(A,{ref:"OutputRate"},null,512)])]),m,(0,n._)("tr",null,[(0,n._)("td",p,[(0,n.Wm)(z,{ref:"LineTotalRate"},null,512)]),(0,n._)("td",f,[(0,n.Wm)($,{ref:"StationYield"},null,512)])]),v,(0,n._)("tr",null,[(0,n._)("td",w,[(0,n.Wm)(F,{ref:"Top10Issue"},null,512)]),(0,n._)("td",g,[(0,n.Wm)(O,{ref:"TopByStation"},null,512)])]),(0,n.Wm)(I,{value:y.timeRemain,rounded:"",color:"accent",class:"q-mt-sm",size:"1px",style:{"margin-top":"20px"}},null,8,["value"])],512)])}i(4719);const E={id:"bar-chart"};function b(e,t,i,a,s,o){return(0,n.wg)(),(0,n.iD)("div",E)}function C(){return{title:{text:"Line 1",subtext:"",x:"center",y:10,textStyle:{color:"#F5FBEF"}},tooltip:{trigger:"item",axisPointer:{type:"shadow"}},textStyle:{color:"#F5FBEF"},calculable:!0,grid:{y:70,y2:40,x2:20},xAxis:[{type:"category",splitLine:{show:!1},data:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],axisLabel:{interval:0}}],yAxis:[{type:"value",splitLine:{show:!1},axisLabel:{formatter:"{value} pcs"}}],series:[{name:"Line 1",type:"bar",itemStyle:{normal:{color:"#04B404",label:{show:!0,textStyle:{color:"#FAF3BC"}}}},data:[40,70,76,60,35,73,60,80,67,48,75,67,40,70,76,60,35,73,60,80,67,48,75,67]}]}}var D={data(){return{option:C(),myChart:void 0}},mounted(){var e=document.getElementById("bar-chart");this.myChart=this.$Echart.init(e,null,{renderer:"canvas",useDirtyRect:!1}),this.option&&"object"===typeof this.option&&this.myChart.setOption(this.option),window.addEventListener("resize",this.myChart.resize)},methods:{DataUpdate(e){this.axios.post("api/FATPKanban/GetOuputQty",e).then((e=>{var t=localStorage.getItem("CurrentLine");this.option.series[0].data=[];for(let i=0;i<e.data.data.length;i++)this.option.series[0].data.push(e.data.data[i].outputQty);this.option.title.text=t,this.option.series[0].name=t,this.myChart.setOption(this.option)})).catch((e=>{console.log(e)}))}}},_=i(7617);const R=(0,_.Z)(D,[["render",b],["__scopeId","data-v-63ab27a1"]]);var x=R;const T={id:"gause-chart"};function S(e,t,i,a,s,o){return(0,n.wg)(),(0,n.iD)("div",T)}const B=[{value:20,name:"Perfect",title:{show:!1,offsetCenter:["0%","-35%"]},detail:{valueAnimation:!0,offsetCenter:["0%","-20%"]}},{value:40,name:"Good",title:{show:!1,offsetCenter:["0%","-3%"]},detail:{valueAnimation:!0,offsetCenter:["0%","10%"]}},{value:60,name:"Commonly",title:{show:!1,offsetCenter:["0%","27%"]},detail:{valueAnimation:!0,offsetCenter:["0%","40%"]}}];function L(){return{graphic:[],tooltip:{},title:{text:"Work Order Output Rate",subtext:"     Displays the latest 3 Work Order",x:"center",y:20,textStyle:{color:"#F5FBEF"},show:!0},series:[{type:"gauge",startAngle:90,endAngle:-270,center:["50%","62%"],pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},color:["#04B404","orange","yellow","red","indigo","purple","#cccccc"],axisLine:{lineStyle:{width:30}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:B,title:{fontSize:14},detail:{width:50,height:14,fontSize:14,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}}]}}var A={data(){return{option:L(),myChart:void 0,colors:["#04B404","orange","yellow","red","indigo","purple","#cccccc"]}},methods:{DataUpdate(e){this.myChart.clear(),this.axios.post("api/FATPKanban/GetWoTarget",e).then((e=>{var t=[],i=0,n=[];for(let a=0;a<e.data.data.length;a++){const s=e.data.data[a];switch(a){case 0:i=0;break;case 1:i=25;break;case 2:i=-25;break;default:break}n.push({type:"group",left:"right",top:40*a+70,children:[{type:"text",z:100,left:"center",top:"middle",style:{fill:this.colors[a],text:`Â» ${s.WORK_ORDER}\n    [${s.OUTPUT_QTY}/${s.TARGET_QTY}]`,font:"bold 14px verdana"}}]}),t.push({value:s.PERCENT,name:`${s.WORK_ORDER} [${s.OUTPUT_QTY}/${s.TARGET_QTY}]`,title:{show:!1,offsetCenter:["0%",i-15+"%"],color:this.colors[a]},detail:{valueAnimation:!0,offsetCenter:["0%",`${i}%`]}})}this.option.series[0].data=t,this.option.graphic=n,this.myChart.setOption(this.option)})).catch((e=>{console.log(e)}))}},mounted(){var e=document.getElementById("gause-chart");this.myChart=this.$Echart.init(e,null,{renderer:"canvas",useDirtyRect:!1}),this.option&&"object"===typeof this.option&&this.myChart.setOption(this.option),window.addEventListener("resize",this.myChart.resize)}};const z=(0,_.Z)(A,[["render",S],["__scopeId","data-v-5bf978e8"]]);var $=z,F=i(1409);const O={id:"e-chart"};function I(e,t,i,a,s,o){return(0,n.wg)(),(0,n.iD)("div",O)}var k={data(){return{option:{tooltip:{},series:[{type:"gauge",startAngle:210,endAngle:-30,min:70,max:100,axisLine:{lineStyle:{width:30,color:[[.3,"red"],[.7,"orange"],[1,"#04B404"]]}},pointer:{itemStyle:{color:"auto"}},axisTick:{distance:-30,length:8,lineStyle:{color:"#fff",width:2}},splitLine:{distance:-30,length:30,lineStyle:{color:"#fff",width:4}},axisLabel:{color:"inherit",distance:40,fontSize:10},detail:{valueAnimation:!0,formatter:"{value}%",color:"inherit",fontSize:14},data:[{value:90,name:"Line Total Rate"}]}]},myChart:void 0}},methods:{DataUpdate(e){this.myChart.clear(),this.axios.post("api/FATPKanban/GetYieldTotal",e).then((e=>{"OK"==e.data.status&&(this.option.series[0].data=[{value:e.data.data[0].TOTAL_RATE,name:"Line Total Rate"}],this.myChart.setOption(this.option))})).catch((e=>{console.log(e)}))}},mounted(){var e=document.getElementById("e-chart");this.myChart=this.$Echart.init(e,null,{renderer:"canvas",useDirtyRect:!1}),this.option&&"object"===typeof this.option&&this.myChart.setOption(this.option),window.addEventListener("resize",this.myChart.resize)}};const P=(0,_.Z)(k,[["render",I],["__scopeId","data-v-c15180b8"]]);var M=P;const W={id:"top10-chart"};function U(e,t,i,a,s,o){return(0,n.wg)(),(0,n.iD)("div",W)}function q(){return{tooltip:{trigger:"item",formatter:function(e){return`${e.data.station}<br/>${e.name}: ${e.value}`}},legend:{x:"80%",y:"15%",data:["ER0001","ER0002","ER0003","ER0004","ER0005","ER0006","ER0007","ER0008","ER0009"],icon:"circle",textStyle:{color:"#fff"}},title:{text:"TOP10 ISSUE",x:"center",textStyle:{color:"#F5FBEF"}},calculable:!0,series:[{name:"TOP10 ISSUE",type:"pie",startAngle:180,clockwise:!1,radius:[41,100.75],center:["50%","55%"],roseType:"area",avoidLabelOverlap:!1,label:{normal:{show:!0,formatter:"{c}"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length2:1},emphasis:{show:!0}},color:["#ff4343","#f69846","#f6d54a","#45dbf7","#44aff0","#4777f5","#5045f6","#ad46f3","#f845f1","#f845f1"],data:[{value:18,name:"ER0001",station:"MBLT"},{value:17,name:"ER0002",station:"MBLT"},{value:16,name:"ER0003",station:"MBLT"},{value:15,name:"ER0004",station:"MBLT"},{value:13,name:"ER0005",station:"MBLT"},{value:12,name:"ER0006",station:"MBLT"},{value:11,name:"ER0007",station:"MBLT"},{value:10,name:"ER0008",station:"MBLT"},{value:9,name:"ER0009",station:"MBLT"}]}]}}var N={data(){return{myChart:void 0,option:q()}},methods:{DataUpdate(e){this.myChart.clear(),this.axios.post("api/FATPKanban/GetTOP10Fail",e).then((e=>{if("OK"==e.data.status){var t=[],i=[];e.data.data.forEach((e=>{t.push(e.DEFECT_CODE),i.push({value:e.QTY,name:e.DEFECT_CODE,station:e.PROCESS_NAME})})),this.option.legend.data=t,this.option.series[0].data=i,this.myChart.setOption(this.option)}})).catch((e=>{console.log(e)}))}},mounted(){var e=document.getElementById("top10-chart");this.myChart=this.$Echart.init(e,null,{renderer:"canvas",useDirtyRect:!1}),this.option&&"object"===typeof this.option&&this.myChart.setOption(this.option),window.addEventListener("resize",this.myChart.resize)}};const Y=(0,_.Z)(N,[["render",U],["__scopeId","data-v-13d65792"]]);var G=Y;const Z={id:"ecircle"};function Q(e,t,i,a,s,o){return(0,n.wg)(),(0,n.iD)("div",Z)}var K=["#04B404","orange","yellow","red","indigo","purple","#cccccc"];function j(){return{title:{text:"TOP5 ISSUE BY STATION",textStyle:{color:"#F5FBEF"},y:0,x:"center"},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},calculable:!0,graphic:[],series:[{name:"",type:"pie",radius:"45%",center:["10%","45%"],color:K,label:{normal:{formatter:"{b}:{c}",show:!0,position:"outside"}},labelLine:{normal:{show:!0}},data:[{value:3,name:"ER0001"},{value:10,name:"ER0002"},{value:2,name:"ER0003"},{value:5,name:"ER0004"},{value:8,name:"ER0005"}]},{name:"",type:"pie",radius:"45%",center:["30%","45%"],label:{normal:{formatter:"{b}:{c}",show:!0,position:"outside"}},labelLine:{normal:{show:!0}},data:[{value:3,name:"ER0001"},{value:10,name:"ER0002"},{value:2,name:"ER0003"},{value:5,name:"ER0004"},{value:8,name:"ER0005"}]},{name:"",type:"pie",radius:"45%",center:["50%","45%"],label:{normal:{formatter:"{b}:{c}",show:!0,position:"outside"}},labelLine:{normal:{show:!0}},data:[{value:3,name:"ER0001"},{value:10,name:"ER0002"},{value:2,name:"ER0003"},{value:5,name:"ER0004"},{value:8,name:"ER0005"}]},{name:"",type:"pie",radius:"45%",center:["70%","45%"],label:{normal:{formatter:"{b}:{c}",show:!0,position:"outside"}},labelLine:{normal:{show:!0}},data:[{value:3,name:"ER0001"},{value:10,name:"ER0002"},{value:2,name:"ER0003"},{value:5,name:"ER0004"},{value:8,name:"ER0005"}]},{name:"",type:"pie",radius:"45%",center:["90%","45%"],label:{normal:{formatter:"{b}:{c}",show:!0,position:"outside"}},labelLine:{normal:{show:!0}},data:[{value:3,name:"ER0001"},{value:10,name:"ER0002"},{value:2,name:"ER0003"},{value:5,name:"ER0004"},{value:8,name:"ER0005"}]}]}}var H={data(){return{myChart:void 0,option:j(),colors:["#04B404","orange","yellow","red","indigo","purple","#cccccc"]}},mounted(){var e=document.getElementById("ecircle");this.myChart=this.$Echart.init(e,null,{renderer:"canvas",useDirtyRect:!1}),this.option&&"object"===typeof this.option&&this.myChart.setOption(this.option),window.addEventListener("resize",this.myChart.resize)},methods:{getChartData(e){const t=[];for(let i=0;i<e.length;i++){const n=e[i];t.push({value:n.QTY,name:n.DEFECT_CODE})}return t},addgraphic(e,t,i){var n={type:"text",style:{text:e,x:t,y:i,fill:"#FFF",font:"bold 16px verdana"}};return n},DataUpdate(e){this.myChart.clear(),this.axios.post("api/FATPKanban/GetTOP5FailByStation",e).then((e=>{if("OK"==e.data.status){const t=[],i=[];for(let n=0;n<e.data.data.DATA.length;n++){const a=e.data.data.DATA[n],s=(20*n+10)*(this.myChart.getWidth()/100);i.push(this.addgraphic(a.PROCESS_NAME,s-5*n,250)),t.push({name:a.PROCESS_NAME,type:"pie",radius:"45%",center:[20*n+10+"%","45%"],color:this.colors,label:{normal:{formatter:"{b}:{c}",show:!0,position:"outside"}},labelLine:{normal:{show:!0}},data:this.getChartData(a.INFO)})}this.option.series=t,this.option.graphic=i,this.myChart.setOption(this.option)}})).catch((e=>{console.log(e)}))}}};const X=(0,_.Z)(H,[["render",Q],["__scopeId","data-v-491a59a0"]]);var J=X;const V=e=>((0,n.dD)("data-v-1a930121"),e=e(),(0,n.Cn)(),e),ee={class:"mainDiv"},te={class:"hour"},ie={ref:"hour1"},ne={ref:"hour2"},ae=V((()=>(0,n._)("div",null,[(0,n._)("span",{class:"haicham"},":")],-1))),se={class:"minute"},oe={ref:"minute1"},re={ref:"minute2"},le=V((()=>(0,n._)("div",null,[(0,n._)("span",{class:"haicham"},":")],-1))),ce={class:"seconds"},he={ref:"seconds1"};function de(e,t,i,s,o,r){return(0,n.wg)(),(0,n.iD)("div",ee,[(0,n._)("div",te,[(0,n._)("div",ie,[(0,n._)("span",null,(0,a.zw)(o.timeDetails.now.hour1),1),(0,n._)("span",null,(0,a.zw)(o.timeDetails.pre_now.hour1),1)],512),(0,n._)("div",ne,[(0,n._)("span",null,(0,a.zw)(o.timeDetails.now.hour2),1),(0,n._)("span",null,(0,a.zw)(o.timeDetails.pre_now.hour2),1)],512)]),ae,(0,n._)("div",se,[(0,n._)("div",oe,[(0,n._)("span",null,(0,a.zw)(o.timeDetails.now.minute1),1),(0,n._)("span",null,(0,a.zw)(o.timeDetails.pre_now.minute1),1)],512),(0,n._)("div",re,[(0,n._)("span",null,(0,a.zw)(o.timeDetails.now.minute2),1),(0,n._)("span",null,(0,a.zw)(o.timeDetails.pre_now.minute2),1)],512)]),le,(0,n._)("div",ce,[(0,n._)("div",he,[(0,n._)("span",null,(0,a.zw)(o.timeDetails.now.seconds1),1),(0,n._)("span",null,(0,a.zw)(o.timeDetails.pre_now.seconds1),1)],512),(0,n._)("div",{ref:"seconds2",class:(0,a.C_)({"move-one":o.moveControl.seconds2})},[(0,n._)("span",null,(0,a.zw)(o.timeDetails.now.seconds2),1),(0,n._)("span",null,(0,a.zw)(o.timeDetails.pre_now.seconds2),1)],2)])])}var ue={data(){return{intervalID:void 0,moveControl:{hour1:!1,hour2:!1,minute1:!1,minute2:!1,seconds1:!1,seconds2:!1},date:void 0,timeDetails:{now:{hour1:"0",hour2:"0",minute1:"0",minute2:"0",seconds1:"0",seconds2:"0"},pre_now:{hour1:"0",hour2:"0",minute1:"0",minute2:"0",seconds1:"0",seconds2:"0"}}}},beforeUnmount(){clearInterval(this.intervalID)},mounted(){this.intervalID=setInterval((()=>{this.date=this.GetDate(),this.ParseTimeSlide(),this.moveControl.seconds2||(this.moveControl.seconds2=!0)}),1e3)},methods:{checkMoveAll(){this.$refs.seconds1&&this.$refs.seconds2&&this.$refs.minute1&&this.$refs.minute2&&"9"==this.timeDetails.now.seconds2&&(this.$refs.seconds1.classList.add("move-one"),"5"==this.timeDetails.now.seconds1&&(this.$refs.minute2.classList.add("move-one"),"9"==this.timeDetails.now.minute2&&(this.$refs.minute1.classList.add("move-one"),"5"==this.timeDetails.now.minute1&&(this.$refs.hour2.classList.add("move-one"),"9"==this.timeDetails.now.hour2&&this.$refs.hour1.classList.add("move-one")))),setTimeout((()=>{this.$refs.seconds1.classList.remove("move-one"),this.$refs.minute2.classList.remove("move-one"),this.$refs.minute1.classList.remove("move-one"),this.$refs.hour2.classList.remove("move-one"),this.$refs.hour1.classList.remove("move-one")}),2e3))},ParseTimeSlide(){const e=new Date,t=new Date;t.setSeconds(t.getSeconds()+1),this.timeDetails.now=this.GetNowTime(e),this.timeDetails.pre_now=this.GetNowTime(t),this.checkMoveAll(),setTimeout((()=>{this.timeDetails.now=this.timeDetails.pre_now,this.moveControl.seconds2=!1,this.$refs.seconds2.transform="translateY(0px)"}),900)},GetNowTime(e){if(e){const t=e.getHours().toString().padStart(2,"0"),i=e.getMinutes().toString().padStart(2,"0"),n=e.getSeconds().toString().padStart(2,"0"),a={hour1:t.substr(0,1),hour2:t.substr(1,1),minute1:i.substr(0,1),minute2:i.substr(1,1),seconds1:n.substr(0,1),seconds2:n.substr(1,1)};return a}},GetDate(){const e=new Date,t=e.getFullYear(),i=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");return`${t}-${i}-${n}`}}};const me=(0,_.Z)(ue,[["render",de],["__scopeId","data-v-1a930121"]]);var pe=me,fe=i(4792),ve=i(3205);const we={};function ge(e){Object.assign(De,{request:e,exit:e,toggle:e})}function ye(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||null}function Ee(){const e=De.activeEl=!1===De.isActive?null:ye();(0,ve.X_)(null===e||e===document.documentElement?document.body:e)}function be(){De.isActive=!1===De.isActive,Ee()}function Ce(e,t){try{const i=e[t]();return void 0===i?Promise.resolve():i}catch(i){return Promise.reject(i)}}const De=(0,fe.Z)({isActive:!1,activeEl:null},{isCapable:!1,install({$q:e}){e.fullscreen=this}});we.request=["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"].find((e=>void 0!==document.documentElement[e])),De.isCapable=void 0!==we.request,!1===De.isCapable?ge((()=>Promise.reject("Not capable"))):(Object.assign(De,{request(e){const t=e||document.documentElement,{activeEl:i}=De;if(t===i)return Promise.resolve();const n=null!==i&&!0===t.contains(i)?De.exit():Promise.resolve();return n.finally((()=>Ce(t,we.request)))},exit(){return!0===De.isActive?Ce(document,we.exit):Promise.resolve()},toggle(e){return!0===De.isActive?De.exit():De.request(e)}}),we.exit=["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"].find((e=>document[e])),De.isActive=Boolean(ye()),!0===De.isActive&&Ee(),["onfullscreenchange","onmsfullscreenchange","onwebkitfullscreenchange"].forEach((e=>{document[e]=be})));var _e=De,Re={name:"dash-board",components:{OutputRate:x,WoTarget:$,StationYield:F["default"],LineTotalRate:M,Top10Issue:G,TopByStation:J,Myclock:pe},data(){return{refreshTime:6e4,timeRemain:0,countDown:!1,ctlMenu:!0,fullScreen:!1,models:[{name:"ER001",DB:"BU23"},{name:"ER002",DB:"BU23"},{name:"ER003",DB:"BU20"},{name:"ER004",DB:"BU23"},{name:"ER005",DB:"BU23"},{name:"ER006",DB:"BU23"}],model:{name:"Model",DB:"BU23"},line:{name:"Line",id:"0"},lines:[],ctlBarSize:{witdh:0,height:0},updateIntID:0,windowResize:!1}},unmounted(){},mounted(){window.addEventListener("resize",(()=>{this.windowResize||setTimeout((()=>{this.windowResize=!1,"Line"!=this.line.name&&0!=this.line.id&&this.UpdateChart({PDLINE_ID:this.line.id,DB:this.model.DB})}),1e3),this.windowResize=!0}))},methods:{checkAndUpdateChart(){this.windowResize=!1,console.log("thay doi kich thuoc panel"),"Line"!=this.line.name&&0!=this.line.id&&this.UpdateChart({PDLINE_ID:this.line.id,DB:this.model.DB})},async countDownUpdate(){if(this.countDown)return;this.countDown=!0;let e=Math.ceil(this.refreshTime/1e3);while(this.refreshTime>1e3)this.timeRemain=e/(this.refreshTime/1e3),await new Promise((e=>setTimeout(e,1e3))),e--,this.timeRemain<=0&&(e=Math.ceil(this.refreshTime/1e3),"Line"!=this.line.name&&0!=this.line.id&&this.UpdateChart({PDLINE_ID:this.line.id,DB:this.model.DB}))},btnArrowClick(){this.ctlBarSize.witdh>0?this.ctlMenu?(this.$refs.ctlBar.style.left="0px",setTimeout((()=>{this.ctlMenu||(this.ctlMenu=!this.ctlMenu,this.$refs.ctlBar.style.left=`-${this.ctlBarSize.witdh-this.$refs.btnArrow.clientWidth}px`)}),6e4)):this.$refs.ctlBar.style.left=`-${this.ctlBarSize.witdh-this.$refs.btnArrow.clientWidth}px`:this.ctlMenu?(this.$refs.ctlBar.style.left="0px",setTimeout((()=>{this.ctlMenu||(this.ctlMenu=!this.ctlMenu,this.$refs.ctlBar.style.left="-150px")}),6e4)):this.$refs.ctlBar.style.left="-150px",this.ctlMenu=!this.ctlMenu},ChangeModel(e){this.model=e,this.line={name:"Line",id:"10606"},setTimeout((()=>{this.ctlBarSize={witdh:this.$refs.ctlBar.clientWidth,height:this.$refs.ctlBar.clientHeight}}),200),this.getAllLine(e)},getAllLine(e){this.axios.post("api/FATPKanban/GetLineNameFromModel",{MODEL:e.name,DB:e.DB}).then((e=>{"OK"==e.data.status&&(this.lines=[],e.data.data.forEach((e=>{this.lines.push({name:e.PDLINE_NAME,id:e.PDLINE_ID})})))})).catch((e=>{console.log(e)}))},onLineChanged(e){localStorage.setItem("CurrentLine",e.name),this.line=e,setTimeout((()=>{this.ctlBarSize={witdh:this.$refs.ctlBar.clientWidth,height:this.$refs.ctlBar.clientHeight}}),200),this.UpdateChart({PDLINE_ID:this.line.id,DB:this.model.DB}),this.countDownUpdate()},UpdateChart(e){this.$refs.OutputRate.DataUpdate(e),this.$refs.WoTarget.DataUpdate(e),this.$refs.LineTotalRate.DataUpdate(e),this.$refs.StationYield.DataUpdate(e),this.$refs.Top10Issue.DataUpdate(e),this.$refs.TopByStation.DataUpdate(e)},toggle(){this.fullScreen?_e.exit():_e.request(this.$refs.mainPn),this.fullScreen=!this.fullScreen}}},xe=i(8712),Te=i(4686),Se=i(6375),Be=i(2146),Le=i(5246),Ae=i(2278),ze=i(4492),$e=i(4633),Fe=i(6353),Oe=i(1410),Ie=i.n(Oe);const ke=(0,_.Z)(Re,[["render",y],["__scopeId","data-v-f873768e"]]);var Pe=ke;Ie()(Re,"components",{QBtnGroup:xe.Z,QBtn:Te.Z,QMenu:Se.Z,QList:Be.Z,QItem:Le.Z,QItemSection:Ae.Z,QSeparator:ze.Z,QIcon:$e.Z,QLinearProgress:Fe.Z})},1409:function(e,t,i){i.r(t),i.d(t,{default:function(){return u}});var n=i(9269);const a={id:"rate-chart"};function s(e,t,i,s,o,r){return(0,n.wg)(),(0,n.iD)("div",a)}i(4719);const o=[{value:100,name:"Final Rate",title:{show:!1,offsetCenter:["0%","-3%"]},detail:{valueAnimation:!0,offsetCenter:["0%","-20%"]}},{value:99,name:"First Pass Rate",title:{show:!1,offsetCenter:["0%","27%"]},detail:{valueAnimation:!0,offsetCenter:["0%","8%"]}}];function r(e){return{type:"gauge",startAngle:90,endAngle:-270,center:e,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!1,clip:!0,itemStyle:{borderWidth:1,borderColor:"#464646"}},color:["#04B404","rgb(253, 2, 253)","purple","#cccccc"],axisLine:{lineStyle:{width:20}},splitLine:{show:!1,distance:0,length:20},axisTick:{show:!1},axisLabel:{show:!1,distance:30},radius:"50%",data:o,title:{fontSize:8},detail:{width:25,height:5,fontSize:10,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}}}function l(){return{graphic:[{type:"text",style:{text:"",x:73,y:220,fill:"#fff",font:"20px verdana"}}],title:{text:"YIELD RATE BY STATION",x:"center",y:10,textStyle:{color:"#F5FBEF",fontSize:16}},tooltip:{trigger:"item",formatter:"{b} : {c}%"},series:[r(["10%","50%"]),r(["30%","50%"]),r(["50%","50%"]),r(["70%","50%"]),r(["90%","50%"])]}}var c={data(){return{option:l(),myChart:void 0}},methods:{DataUpdate(e){this.myChart.clear(),this.axios.post("api/FATPKanban/GetYieldDetail",e).then((e=>{const[t,i]=this.GetSeries(e.data.data);t.length>0&&(this.option.series=t,this.option.graphic=i,this.myChart.setOption(this.option))})).catch((e=>{console.log(e)}))},GetSeries(e){const t=[],i=[],n=e.length>0?Math.floor(this.myChart.getWidth()/e.length):1,a=this.myChart.getHeight();for(let s=0;s<e.length;s++){const o=e[s];i.push({type:"text",style:{text:o.PROCESS_NAME,x:0==s?s*n+60:s*n+40,y:a-50,fill:"#fff",font:"20px verdana"}});let r=[{value:o.PERCENT,name:"Final Rate",title:{show:!1,offsetCenter:["0%","-3%"]},detail:{valueAnimation:!0,offsetCenter:["0%","-20%"]}},{value:o.FIRST_RATE,name:"First Pass Rate",title:{show:!1,offsetCenter:["0%","27%"]},detail:{valueAnimation:!0,offsetCenter:["0%","8%"]}}];t.push({type:"gauge",startAngle:90,endAngle:-270,center:[0==s?s*n+80:s*n+60,"50%"],pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!1,clip:!0,itemStyle:{borderWidth:1,borderColor:"#464646"}},color:["#04B404","rgb(253, 2, 253)","purple","#cccccc"],axisLine:{lineStyle:{width:20}},splitLine:{show:!1,distance:0,length:15},axisTick:{show:!1},axisLabel:{show:!1,distance:20},radius:"50%",data:r,title:{fontSize:8},detail:{width:25,height:5,fontSize:10,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}})}return[t,i]}},mounted(){var e=document.getElementById("rate-chart");this.myChart=this.$Echart.init(e,null,{renderer:"canvas",useDirtyRect:!1}),this.option&&"object"===typeof this.option&&this.myChart.setOption(this.option),window.addEventListener("resize",this.myChart.resize)}},h=i(7617);const d=(0,h.Z)(c,[["render",s],["__scopeId","data-v-7bff6730"]]);var u=d}}]);
//# sourceMappingURL=634.5ed5e36d.js.map