{"ast":null,"code":"import axios from 'axios';\naxios.defaults.baseURL = \"http://localhost:44354/api/\";\nexport default {\n  async Login({\n    commit\n  }, credentials) {\n    const response = axios.post('FAOnlineSOP/CheckLogin', credentials);\n    return new Promise((resolve, reject) => {\n      response.then(result => {\n        commit('UpdateUser', response.data.data);\n        console.log(response.data);\n        if (result.data.meta.status === 200) {\n          const user = response.data.data;\n          const isLogin = true;\n          sessionStorage.setItem(\"UserName\", user.NAME);\n          sessionStorage.setItem(\"isLogin\", isLogin);\n          resolve(response);\n        } else {\n          sessionStorage.removeItem(\"token\");\n          sessionStorage.removeItem(\"isLogin\");\n          reject(\"User Name or Password is incorrect\");\n        }\n      }).catch(err => {\n        sessionStorage.removeItem(\"token\");\n        reject(err);\n      });\n    });\n  }\n};","map":{"version":3,"names":["axios","defaults","baseURL","Login","commit","credentials","response","post","Promise","resolve","reject","then","result","data","console","log","meta","status","user","isLogin","sessionStorage","setItem","NAME","removeItem","catch","err"],"sources":["D:/LearnVueJS/Vue3/Projects/fa-sop-online/src/store/actions.js"],"sourcesContent":["import axios from 'axios'\r\n\r\naxios.defaults.baseURL=\"http://localhost:44354/api/\"\r\n\r\nexport default {\r\n   async Login({ commit }, credentials) {\r\n\r\n          const response = axios.post('FAOnlineSOP/CheckLogin',credentials);\r\n          return new Promise((resolve, reject) => {\r\n            response\r\n              .then((result) => {\r\n                commit('UpdateUser', response.data.data);\r\n                console.log(response.data);\r\n                if (result.data.meta.status === 200) {\r\n                  const user = response.data.data;\r\n                  const isLogin = true;\r\n                  sessionStorage.setItem(\"UserName\", user.NAME);\r\n                  sessionStorage.setItem(\"isLogin\", isLogin);\r\n                  resolve(response);\r\n                } else {\r\n                  sessionStorage.removeItem(\"token\");\r\n                  sessionStorage.removeItem(\"isLogin\");\r\n                  reject(\"User Name or Password is incorrect\");\r\n                }\r\n              })\r\n              .catch((err) => {\r\n                sessionStorage.removeItem(\"token\");\r\n                reject(err);\r\n              });\r\n          });      \r\n      }\r\n  }"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzBA,KAAK,CAACC,QAAQ,CAACC,OAAO,GAAC,6BAA6B;AAEpD,eAAe;EACZ,MAAMC,KAAKA,CAAC;IAAEC;EAAO,CAAC,EAAEC,WAAW,EAAE;IAE9B,MAAMC,QAAQ,GAAGN,KAAK,CAACO,IAAI,CAAC,wBAAwB,EAACF,WAAW,CAAC;IACjE,OAAO,IAAIG,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCJ,QAAQ,CACLK,IAAI,CAAEC,MAAM,IAAK;QAChBR,MAAM,CAAC,YAAY,EAAEE,QAAQ,CAACO,IAAI,CAACA,IAAI,CAAC;QACxCC,OAAO,CAACC,GAAG,CAACT,QAAQ,CAACO,IAAI,CAAC;QAC1B,IAAID,MAAM,CAACC,IAAI,CAACG,IAAI,CAACC,MAAM,KAAK,GAAG,EAAE;UACnC,MAAMC,IAAI,GAAGZ,QAAQ,CAACO,IAAI,CAACA,IAAI;UAC/B,MAAMM,OAAO,GAAG,IAAI;UACpBC,cAAc,CAACC,OAAO,CAAC,UAAU,EAAEH,IAAI,CAACI,IAAI,CAAC;UAC7CF,cAAc,CAACC,OAAO,CAAC,SAAS,EAAEF,OAAO,CAAC;UAC1CV,OAAO,CAACH,QAAQ,CAAC;QACnB,CAAC,MAAM;UACLc,cAAc,CAACG,UAAU,CAAC,OAAO,CAAC;UAClCH,cAAc,CAACG,UAAU,CAAC,SAAS,CAAC;UACpCb,MAAM,CAAC,oCAAoC,CAAC;QAC9C;MACF,CAAC,CAAC,CACDc,KAAK,CAAEC,GAAG,IAAK;QACdL,cAAc,CAACG,UAAU,CAAC,OAAO,CAAC;QAClCb,MAAM,CAACe,GAAG,CAAC;MACb,CAAC,CAAC;IACN,CAAC,CAAC;EACN;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}