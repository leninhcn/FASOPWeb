{"ast":null,"code":"import axios from 'axios';\nexport default {\n  async Login({\n    commit\n  }, credentials) {\n    const response = axios.post('api/FAOnlineSOP/CheckLogin', credentials);\n    return new Promise((resolve, reject) => {\n      response.then(result => {\n        commit('UpdateUser', result.data.data);\n        if (result.data.status === 'OK') {\n          const user = result.data.data;\n          const isLogin = true;\n          sessionStorage.setItem(\"UserName\", user.NAME);\n          sessionStorage.setItem(\"isLogin\", isLogin);\n          resolve(result);\n        } else {\n          sessionStorage.removeItem(\"isLogin\");\n          reject(\"User Name or Password is incorrect\");\n        }\n      }).catch(err => {\n        sessionStorage.removeItem(\"isLogin\");\n        reject(err);\n      });\n    });\n  },\n  async GetSOPStepbyID({\n    commit\n  }, sop_id) {\n    const response = axios.get(`api/FAOnlineSOP/GetSopStep/sop_id/${sop_id}`);\n    return new Promise((resolve, reject) => {\n      response.then(result => {\n        commit('UpdateSOPstep', result.data.data);\n        commit('setSOPStatus', true);\n        if (result.data.status === 'OK') {\n          resolve(result);\n        } else {\n          commit('UpdateSOPstep', undefined);\n          commit('setSOPStatus', false);\n          reject(result.data.data);\n        }\n      }).catch(err => {\n        commit('UpdateSOPstep', undefined);\n        commit('setSOPStatus', false);\n        reject(err);\n      });\n    });\n  },\n  async GetSOPErrorCode({\n    commit\n  }, error_code) {\n    if (!error_code || !error_code.trim()) {\n      alert('Error Code cannot be empty!');\n      return null;\n    }\n    const response = axios.get(`api/FAOnlineSOP/GetAllSop?error_code=${error_code}`);\n    return new Promise((resolve, reject) => {\n      response.then(result => {\n        commit('UpdateSOP', result.data.data);\n        if (result.data.status === 'OK') {\n          resolve(result);\n        } else {\n          reject(result.data.data);\n        }\n      }).catch(err => {\n        alert(err.response.data);\n        reject(err);\n      });\n    });\n  }\n};","map":{"version":3,"names":["axios","Login","commit","credentials","response","post","Promise","resolve","reject","then","result","data","status","user","isLogin","sessionStorage","setItem","NAME","removeItem","catch","err","GetSOPStepbyID","sop_id","get","undefined","GetSOPErrorCode","error_code","trim","alert"],"sources":["D:/LearnVueJS/Vue3/Projects/fa-sop-online/src/store/actions.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nexport default {\r\n   async Login({ commit }, credentials) {\r\n\r\n          const response = axios.post('api/FAOnlineSOP/CheckLogin',credentials);\r\n          return new Promise((resolve, reject) => {\r\n            response\r\n              .then((result) => {\r\n                commit('UpdateUser', result.data.data);\r\n                if (result.data.status === 'OK') {\r\n                  const user = result.data.data;\r\n                  const isLogin = true;\r\n                  sessionStorage.setItem(\"UserName\", user.NAME);\r\n                  sessionStorage.setItem(\"isLogin\", isLogin);\r\n                  resolve(result);\r\n                } else {\r\n                  sessionStorage.removeItem(\"isLogin\");\r\n                  reject(\"User Name or Password is incorrect\");\r\n                }\r\n              })\r\n              .catch((err) => {\r\n                sessionStorage.removeItem(\"isLogin\");\r\n                reject(err);\r\n              });\r\n          });      \r\n      },\r\n      async GetSOPStepbyID({ commit }, sop_id) {\r\n\r\n        const response = axios.get(`api/FAOnlineSOP/GetSopStep/sop_id/${sop_id}`);\r\n        return new Promise((resolve, reject) => {\r\n          response\r\n            .then((result) => {\r\n              commit('UpdateSOPstep', result.data.data);\r\n              commit('setSOPStatus',true);\r\n              if (result.data.status === 'OK') {\r\n                resolve(result);\r\n              } else {\r\n                commit('UpdateSOPstep', undefined);\r\n                commit('setSOPStatus',false);\r\n                reject(result.data.data);\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              commit('UpdateSOPstep', undefined);\r\n              commit('setSOPStatus',false);\r\n              reject(err);\r\n            });\r\n        });      \r\n    },async GetSOPErrorCode({ commit }, error_code) {\r\n\r\n      if(!error_code||!error_code.trim()) {\r\n        alert('Error Code cannot be empty!');\r\n        return null;\r\n      }\r\n      const response = axios.get(`api/FAOnlineSOP/GetAllSop?error_code=${error_code}`);\r\n      return new Promise((resolve, reject) => {\r\n        response\r\n          .then((result) => {\r\n            commit('UpdateSOP', result.data.data);\r\n            if (result.data.status === 'OK') {\r\n              resolve(result);\r\n            } else {\r\n              reject(result.data.data);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            alert(err.response.data);\r\n            reject(err);\r\n          });\r\n      });      \r\n  }\r\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}