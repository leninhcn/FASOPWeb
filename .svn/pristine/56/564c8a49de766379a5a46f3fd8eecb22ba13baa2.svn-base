{"ast":null,"code":"export default {\n  data() {\n    return {\n      filter: \"\",\n      langModel: {\n        ENG: \"\",\n        ZHCN: \"\",\n        VNI: \"\"\n      },\n      DataLoading: false,\n      newlang: false,\n      columns: [{\n        name: \"ENG\",\n        required: true,\n        label: \"English\",\n        align: \"left\",\n        field: row => row[\"ENG\"],\n        format: val => `${val}`,\n        sortable: true\n      }, {\n        name: \"ZHCN\",\n        required: true,\n        label: \"Chinese\",\n        align: \"left\",\n        field: row => row[\"ZHCN\"],\n        format: val => `${val}`,\n        sortable: true\n      }, {\n        name: \"VNI\",\n        required: true,\n        label: \"Vietnamese\",\n        align: \"left\",\n        field: row => row[\"VNI\"],\n        format: val => `${val}`,\n        sortable: true\n      }, {\n        name: \"ACTIONS\",\n        required: true,\n        label: \"ACTIONS\",\n        align: \"center\",\n        headerStyle: \"width: 150px\"\n      }],\n      rows: [],\n      OriginalRows: [],\n      stringOptions: [],\n      filterOptions: []\n    };\n  },\n  mounted() {\n    this.InitData();\n  },\n  methods: {\n    EdittingConfirm(scope, row) {\n      scope.set();\n      row.editting = true;\n    },\n    async InitData() {\n      this.rows = [];\n      this.DataLoading = true;\n      await this.axios.get(\"api/LanguageBar/GetAll\").then(res => {\n        this.rows = res.data.map(function (item) {\n          return {\n            ...item,\n            editting: false\n          };\n        });\n        this.OriginalRows = res.data.map(function (item) {\n          return {\n            ...item\n          };\n        });\n      }).catch(err => {\n        this.$message({\n          type: \"error\",\n          message: err\n        });\n      });\n      this.DataLoading = false;\n    },\n    async SubmitEdit(row) {\n      await this.axios.post(\"api/LanguageBar/UpdateTransLang\", row).then(res => {\n        this.$message({\n          type: \"success\",\n          message: res.data\n        });\n        row.editting = false;\n      }).catch(err => {\n        this.$message({\n          type: \"error\",\n          message: err\n        });\n      });\n    },\n    async DeleteLang(row) {\n      const obj = {\n        rowid: row.RowId\n      };\n      await this.axios.post(`api/LanguageBar/DeleteTransLang`, obj).then(res => {\n        this.$message({\n          type: \"success\",\n          message: res.data\n        });\n        this.InitData();\n      }).catch(err => {\n        this.$message({\n          type: \"error\",\n          message: err\n        });\n      });\n    },\n    async AddNewLangTrans() {\n      this.newlang = false;\n      for (const key in this.langModel) {\n        if (this.langModel[key].trim() == \"\") {\n          this.$message({\n            type: \"error\",\n            message: \"Has empty field!\"\n          });\n          return false;\n        }\n      }\n      await this.axios.post(\"api/LanguageBar/NewLangTrans\", this.langModel).then(res => {\n        this.$message({\n          type: \"success\",\n          message: res.data\n        });\n        this.langModel.ENG = \"\";\n        this.langModel.ZHCN = \"\";\n        this.langModel.VNI = \"\";\n        this.InitData();\n      }).catch(err => {\n        this.$message({\n          type: \"error\",\n          message: err\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","filter","langModel","ENG","ZHCN","VNI","DataLoading","newlang","columns","name","required","label","align","field","row","format","val","sortable","headerStyle","rows","OriginalRows","stringOptions","filterOptions","mounted","InitData","methods","EdittingConfirm","scope","set","editting","axios","get","then","res","map","item","catch","err","$message","type","message","SubmitEdit","post","DeleteLang","obj","rowid","RowId","AddNewLangTrans","key","trim"],"sources":["D:\\LearnVueJS\\Vue3\\Projects\\fa-sop-online\\src\\components\\MesUtitils\\langTrans.vue"],"sourcesContent":["<template>\r\n  <div class=\"q-pa-md\">\r\n    <q-table\r\n      table-class=\"MyBodySticky\"\r\n      table-header-class=\"MyHeaderSticky\"\r\n      flat\r\n      bordered\r\n      title=\"Respective language\"\r\n      :rows=\"rows\"\r\n      :columns=\"columns\"\r\n      row-key=\"ID\"\r\n      binary-state-sort\r\n      :rows-per-page-options=\"[10, 20, 50, 100, 0]\"\r\n      :loading=\"DataLoading\"\r\n      :filter=\"filter\"\r\n    >\r\n      <template v-slot:top-right>\r\n        <q-input dense debounce=\"300\" v-model=\"filter\" placeholder=\"Search\">\r\n          <template v-slot:append>\r\n            <q-icon name=\"search\" />\r\n          </template>\r\n        </q-input>\r\n        <div style=\"margin-left: 15px; margin-bottom: -8px\">\r\n          <q-btn\r\n            outline\r\n            color=\"primary\"\r\n            dense\r\n            class=\"glossy\"\r\n            no-caps\r\n            label=\"Add new\"\r\n            @click=\"newlang = true\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <template v-slot:body=\"props\">\r\n        <q-tr :props=\"props\">\r\n          <q-td key=\"ENG\" :props=\"props\">\r\n            {{ props.row.ENG }}\r\n            <q-popup-edit v-model=\"props.row.ENG\" v-slot=\"scope\">\r\n              <q-input\r\n                v-model=\"scope.value\"\r\n                dense\r\n                autofocus\r\n                counter\r\n                @keyup.enter=\"EdittingConfirm(scope, props.row)\"\r\n              />\r\n            </q-popup-edit>\r\n          </q-td>\r\n          <q-td key=\"ZHCN\" :props=\"props\">\r\n            {{ props.row.ZHCN }}\r\n            <q-popup-edit v-model=\"props.row.ZHCN\" v-slot=\"scope\">\r\n              <q-input\r\n                v-model=\"scope.value\"\r\n                dense\r\n                autofocus\r\n                counter\r\n                @keyup.enter=\"EdittingConfirm(scope, props.row)\"\r\n              />\r\n            </q-popup-edit>\r\n          </q-td>\r\n          <q-td key=\"VNI\" :props=\"props\">\r\n            {{ props.row.VNI }}\r\n            <q-popup-edit v-model=\"props.row.VNI\" v-slot=\"scope\">\r\n              <q-input\r\n                v-model=\"scope.value\"\r\n                dense\r\n                autofocus\r\n                counter\r\n                @keyup.enter=\"EdittingConfirm(scope, props.row)\"\r\n              />\r\n            </q-popup-edit>\r\n          </q-td>\r\n          <q-td key=\"ACTIONS\" :props=\"props\">\r\n            <q-btn\r\n              glossy\r\n              rounded\r\n              dense\r\n              :color=\"props.row.editting ? 'primary' : 'grey-5'\"\r\n              icon=\"done\"\r\n              @click=\"SubmitEdit(props.row)\"\r\n              :disable=\"!props.row.editting\"\r\n            >\r\n            </q-btn>\r\n            <q-btn\r\n              glossy\r\n              rounded\r\n              dense\r\n              :color=\"props.row.editting ? 'positive' : 'grey-5'\"\r\n              icon=\"refresh\"\r\n              :disable=\"!props.row.editting\"\r\n              @click=\"InitData\"\r\n            ></q-btn>\r\n            <el-popconfirm\r\n              title=\"Are you sure to delete this?\"\r\n              @confirm=\"DeleteLang(props.row)\"\r\n            >\r\n              <template #reference>\r\n                <q-btn glossy rounded dense color=\"red\" icon=\"delete\"></q-btn>\r\n              </template>\r\n            </el-popconfirm>\r\n          </q-td>\r\n        </q-tr>\r\n      </template>\r\n    </q-table>\r\n\r\n    <q-dialog v-model=\"newlang\" persistent>\r\n      <q-card>\r\n        <q-toolbar>\r\n          <q-avatar>\r\n            <img src=\"../../assets/3898150.png\" />\r\n          </q-avatar>\r\n\r\n          <q-toolbar-title\r\n            ><span class=\"text-weight-bold\">Application</span>\r\n            Languages</q-toolbar-title\r\n          >\r\n\r\n          <q-btn flat round dense icon=\"close\" v-close-popup />\r\n        </q-toolbar>\r\n\r\n        <q-card-section>\r\n          <div class=\"q-gutter-lg\">\r\n            <q-input v-model=\"langModel.ENG\" label=\"English\">\r\n              <template v-slot:append>\r\n                <q-avatar>\r\n                  <img src=\"../../assets/england2.png\" />\r\n                </q-avatar>\r\n              </template>\r\n            </q-input>\r\n            <q-input v-model=\"langModel.VNI\" label=\"Tiếng Việt\">\r\n              <template v-slot:append>\r\n                <q-avatar>\r\n                  <img src=\"../../assets/vietnam.png\" />\r\n                </q-avatar>\r\n              </template>\r\n            </q-input>\r\n            <q-input v-model=\"langModel.ZHCN\" label=\"中文\">\r\n              <template v-slot:append>\r\n                <q-avatar>\r\n                  <img src=\"../../assets/china.png\" />\r\n                </q-avatar>\r\n              </template>\r\n            </q-input>\r\n          </div>\r\n        </q-card-section>\r\n        <q-card-actions align=\"right\" class=\"text-primary\">\r\n          <q-btn flat dense label=\"Cancel\" v-close-popup />\r\n          <q-btn flat dense label=\"Submit\" @click=\"AddNewLangTrans\" />\r\n        </q-card-actions>\r\n      </q-card>\r\n    </q-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      filter: \"\",\r\n      langModel: { ENG: \"\", ZHCN: \"\", VNI: \"\" },\r\n      DataLoading: false,\r\n      newlang: false,\r\n      columns: [\r\n        {\r\n          name: \"ENG\",\r\n          required: true,\r\n          label: \"English\",\r\n          align: \"left\",\r\n          field: (row) => row[\"ENG\"],\r\n          format: (val) => `${val}`,\r\n          sortable: true,\r\n        },\r\n        {\r\n          name: \"ZHCN\",\r\n          required: true,\r\n          label: \"Chinese\",\r\n          align: \"left\",\r\n          field: (row) => row[\"ZHCN\"],\r\n          format: (val) => `${val}`,\r\n          sortable: true,\r\n        },\r\n        {\r\n          name: \"VNI\",\r\n          required: true,\r\n          label: \"Vietnamese\",\r\n          align: \"left\",\r\n          field: (row) => row[\"VNI\"],\r\n          format: (val) => `${val}`,\r\n          sortable: true,\r\n        },\r\n        {\r\n          name: \"ACTIONS\",\r\n          required: true,\r\n          label: \"ACTIONS\",\r\n          align: \"center\",\r\n          headerStyle: \"width: 150px\",\r\n        },\r\n      ],\r\n      rows: [],\r\n      OriginalRows: [],\r\n      stringOptions: [],\r\n      filterOptions: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.InitData();\r\n  },\r\n  methods: {\r\n    EdittingConfirm(scope, row) {\r\n      scope.set();\r\n      row.editting = true;\r\n    },\r\n    async InitData() {\r\n      this.rows = [];\r\n      this.DataLoading = true;\r\n      await this.axios\r\n        .get(\"api/LanguageBar/GetAll\")\r\n        .then((res) => {\r\n          this.rows = res.data.map(function (item) {\r\n            return { ...item, editting: false };\r\n          });\r\n          this.OriginalRows = res.data.map(function (item) {\r\n            return { ...item };\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: err,\r\n          });\r\n        });\r\n      this.DataLoading = false;\r\n    },\r\n    async SubmitEdit(row) {\r\n      await this.axios\r\n        .post(\"api/LanguageBar/UpdateTransLang\", row)\r\n        .then((res) => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: res.data,\r\n          });\r\n          row.editting = false;\r\n        })\r\n        .catch((err) => {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: err,\r\n          });\r\n        });\r\n    },\r\n    async DeleteLang(row) {\r\n      const obj = { rowid: row.RowId };\r\n      await this.axios\r\n        .post(`api/LanguageBar/DeleteTransLang`, obj)\r\n        .then((res) => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: res.data,\r\n          });\r\n          this.InitData();\r\n        })\r\n        .catch((err) => {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: err,\r\n          });\r\n        });\r\n    },\r\n    async AddNewLangTrans() {\r\n      this.newlang = false;\r\n      for (const key in this.langModel) {\r\n        if (this.langModel[key].trim() == \"\") {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"Has empty field!\",\r\n          });\r\n          return false;\r\n        }\r\n      }\r\n      await this.axios\r\n        .post(\"api/LanguageBar/NewLangTrans\", this.langModel)\r\n        .then((res) => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: res.data,\r\n          });\r\n          this.langModel.ENG = \"\";\r\n          this.langModel.ZHCN = \"\";\r\n          this.langModel.VNI = \"\";\r\n          this.InitData();\r\n        })\r\n        .catch((err) => {\r\n\r\n          this.$message({\r\n            type: \"error\",\r\n            message: err,\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.NewLangCard {\r\n  background-color: rgb(255, 255, 255);\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}