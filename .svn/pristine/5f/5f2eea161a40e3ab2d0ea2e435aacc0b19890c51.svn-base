{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { io } from \"socket.io-client\";\nexport default {\n  mounted() {\n    this.socket = io(this.url);\n    this.socket.on(\"connect\", () => {\n      this.connected = true;\n    });\n    this.socket.on(\"disconnect\", () => {\n      this.connected = false;\n    });\n    this.socket.on(\"msgFromServer\", data => {\n      this.messages.push(`${data.sender}: ${data.content}`);\n      console.log(this.message);\n    });\n  },\n  data() {\n    return {\n      url: \"http://localhost:3001\",\n      socket: undefined,\n      connected: false,\n      messages: [],\n      message: \"\"\n    };\n  },\n  methods: {\n    sendMessage() {\n      console.log(this.message);\n      this.socket.emit(\"sendMsg\", {\n        type: \"ownMsg\",\n        msg: {\n          content: this.message,\n          type: \"text\",\n          sender: 123333,\n          receiver: 4545454,\n          group_id: 0,\n          media_id: 0\n        }\n      });\n      this.message = \"\";\n    }\n  }\n};","map":{"version":3,"names":["io","mounted","socket","url","on","connected","data","messages","push","sender","content","console","log","message","undefined","methods","sendMessage","emit","type","msg","receiver","group_id","media_id"],"sources":["D:\\LearnVueJS\\Vue3\\Projects\\fa-sop-online\\src\\components\\SocketCom\\TestSocket.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>WebSocket Example</h2>\r\n    <div v-if=\"connected\">\r\n      <h3>Connected to WebSocket server at {{ url }}</h3>\r\n      <form @submit.prevent=\"sendMessage\">\r\n        <label for=\"message\">Message:</label>\r\n        <input type=\"text\" v-model=\"message\" required />\r\n        <button type=\"submit\">Send</button>\r\n      </form>\r\n      <ul>\r\n        <li v-for=\"(msg, id) in messages\" :key=\"id\">{{ msg }}</li>\r\n      </ul>\r\n    </div>\r\n    <div v-else>\r\n      <p>Connecting to WebSocket server at {{ url }}...</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { io } from \"socket.io-client\";\r\nexport default {\r\n  mounted() {\r\n    this.socket = io(this.url);\r\n    this.socket.on(\"connect\", () => {\r\n      this.connected = true;\r\n    });\r\n\r\n    this.socket.on(\"disconnect\", () => {\r\n      this.connected = false;\r\n    });\r\n\r\n    this.socket.on(\"msgFromServer\", (data) => {\r\n      this.messages.push(`${data.sender}: ${data.content}`);\r\n      console.log(this.message);\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      url: \"http://localhost:3001\",\r\n      socket: undefined,\r\n      connected: false,\r\n      messages: [],\r\n      message: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    sendMessage() {\r\n      console.log(this.message);\r\n      this.socket.emit(\"sendMsg\", {\r\n        type: \"ownMsg\",\r\n        msg: {\r\n          content: this.message,\r\n          type: \"text\",\r\n          sender: 123333,\r\n          receiver: 4545454,\r\n          group_id: 0,\r\n          media_id: 0,\r\n        },\r\n      });\r\n      this.message = \"\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"mappings":";AAqBA,SAASA,EAAC,QAAS,kBAAkB;AACrC,eAAe;EACbC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,MAAK,GAAIF,EAAE,CAAC,IAAI,CAACG,GAAG,CAAC;IAC1B,IAAI,CAACD,MAAM,CAACE,EAAE,CAAC,SAAS,EAAE,MAAM;MAC9B,IAAI,CAACC,SAAQ,GAAI,IAAI;IACvB,CAAC,CAAC;IAEF,IAAI,CAACH,MAAM,CAACE,EAAE,CAAC,YAAY,EAAE,MAAM;MACjC,IAAI,CAACC,SAAQ,GAAI,KAAK;IACxB,CAAC,CAAC;IAEF,IAAI,CAACH,MAAM,CAACE,EAAE,CAAC,eAAe,EAAGE,IAAI,IAAK;MACxC,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAE,GAAEF,IAAI,CAACG,MAAO,KAAIH,IAAI,CAACI,OAAQ,EAAC,CAAC;MACrDC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,OAAO,CAAC;IAC3B,CAAC,CAAC;EACJ,CAAC;EACDP,IAAIA,CAAA,EAAG;IACL,OAAO;MACLH,GAAG,EAAE,uBAAuB;MAC5BD,MAAM,EAAEY,SAAS;MACjBT,SAAS,EAAE,KAAK;MAChBE,QAAQ,EAAE,EAAE;MACZM,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDE,OAAO,EAAE;IACPC,WAAWA,CAAA,EAAG;MACZL,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,OAAO,CAAC;MACzB,IAAI,CAACX,MAAM,CAACe,IAAI,CAAC,SAAS,EAAE;QAC1BC,IAAI,EAAE,QAAQ;QACdC,GAAG,EAAE;UACHT,OAAO,EAAE,IAAI,CAACG,OAAO;UACrBK,IAAI,EAAE,MAAM;UACZT,MAAM,EAAE,MAAM;UACdW,QAAQ,EAAE,OAAO;UACjBC,QAAQ,EAAE,CAAC;UACXC,QAAQ,EAAE;QACZ;MACF,CAAC,CAAC;MACF,IAAI,CAACT,OAAM,GAAI,EAAE;IACnB;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}