{"ast":null,"code":"import { createDirective } from '../utils/private/create.js';\nimport { closePortals, getPortalProxy } from '../utils/private/portal.js';\nimport { isKeyCode } from '../utils/private/key-composition.js';\nimport getSSRProps from '../utils/private/noop-ssr-directive-transform.js';\n\n/*\n * depth\n *   < 0  --> close all chain\n *   0    --> disabled\n *   > 0  --> close chain up to N parent\n */\n\nfunction getDepth(value) {\n  if (value === false) {\n    return 0;\n  }\n  if (value === true || value === void 0) {\n    return 1;\n  }\n  const depth = parseInt(value, 10);\n  return isNaN(depth) ? 0 : depth;\n}\nexport default createDirective(__QUASAR_SSR_SERVER__ ? {\n  name: 'close-popup',\n  getSSRProps\n} : {\n  name: 'close-popup',\n  beforeMount(el, {\n    value\n  }) {\n    const ctx = {\n      depth: getDepth(value),\n      handler(evt) {\n        // allow @click to be emitted\n        ctx.depth !== 0 && setTimeout(() => {\n          const proxy = getPortalProxy(el);\n          if (proxy !== void 0) {\n            closePortals(proxy, evt, ctx.depth);\n          }\n        });\n      },\n      handlerKey(evt) {\n        isKeyCode(evt, 13) === true && ctx.handler(evt);\n      }\n    };\n    el.__qclosepopup = ctx;\n    el.addEventListener('click', ctx.handler);\n    el.addEventListener('keyup', ctx.handlerKey);\n  },\n  updated(el, {\n    value,\n    oldValue\n  }) {\n    if (value !== oldValue) {\n      el.__qclosepopup.depth = getDepth(value);\n    }\n  },\n  beforeUnmount(el) {\n    const ctx = el.__qclosepopup;\n    el.removeEventListener('click', ctx.handler);\n    el.removeEventListener('keyup', ctx.handlerKey);\n    delete el.__qclosepopup;\n  }\n});","map":{"version":3,"names":["createDirective","closePortals","getPortalProxy","isKeyCode","getSSRProps","getDepth","value","depth","parseInt","isNaN","__QUASAR_SSR_SERVER__","name","beforeMount","el","ctx","handler","evt","setTimeout","proxy","handlerKey","__qclosepopup","addEventListener","updated","oldValue","beforeUnmount","removeEventListener"],"sources":["D:/LearnVueJS/Vue3/Projects/fa-sop-online/node_modules/quasar/src/directives/ClosePopup.js"],"sourcesContent":["import { createDirective } from '../utils/private/create.js'\nimport { closePortals, getPortalProxy } from '../utils/private/portal.js'\nimport { isKeyCode } from '../utils/private/key-composition.js'\nimport getSSRProps from '../utils/private/noop-ssr-directive-transform.js'\n\n/*\n * depth\n *   < 0  --> close all chain\n *   0    --> disabled\n *   > 0  --> close chain up to N parent\n */\n\nfunction getDepth (value) {\n  if (value === false) {\n    return 0\n  }\n  if (value === true || value === void 0) {\n    return 1\n  }\n\n  const depth = parseInt(value, 10)\n  return isNaN(depth) ? 0 : depth\n}\n\nexport default createDirective(__QUASAR_SSR_SERVER__\n  ? { name: 'close-popup', getSSRProps }\n  : {\n      name: 'close-popup',\n\n      beforeMount (el, { value }) {\n        const ctx = {\n          depth: getDepth(value),\n\n          handler (evt) {\n            // allow @click to be emitted\n            ctx.depth !== 0 && setTimeout(() => {\n              const proxy = getPortalProxy(el)\n              if (proxy !== void 0) {\n                closePortals(proxy, evt, ctx.depth)\n              }\n            })\n          },\n\n          handlerKey (evt) {\n            isKeyCode(evt, 13) === true && ctx.handler(evt)\n          }\n        }\n\n        el.__qclosepopup = ctx\n\n        el.addEventListener('click', ctx.handler)\n        el.addEventListener('keyup', ctx.handlerKey)\n      },\n\n      updated (el, { value, oldValue }) {\n        if (value !== oldValue) {\n          el.__qclosepopup.depth = getDepth(value)\n        }\n      },\n\n      beforeUnmount (el) {\n        const ctx = el.__qclosepopup\n        el.removeEventListener('click', ctx.handler)\n        el.removeEventListener('keyup', ctx.handlerKey)\n        delete el.__qclosepopup\n      }\n    }\n)\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,4BAA4B;AAC5D,SAASC,YAAY,EAAEC,cAAc,QAAQ,4BAA4B;AACzE,SAASC,SAAS,QAAQ,qCAAqC;AAC/D,OAAOC,WAAW,MAAM,kDAAkD;;AAE1E;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,QAAQA,CAAEC,KAAK,EAAE;EACxB,IAAIA,KAAK,KAAK,KAAK,EAAE;IACnB,OAAO,CAAC;EACV;EACA,IAAIA,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IACtC,OAAO,CAAC;EACV;EAEA,MAAMC,KAAK,GAAGC,QAAQ,CAACF,KAAK,EAAE,EAAE,CAAC;EACjC,OAAOG,KAAK,CAACF,KAAK,CAAC,GAAG,CAAC,GAAGA,KAAK;AACjC;AAEA,eAAeP,eAAe,CAACU,qBAAqB,GAChD;EAAEC,IAAI,EAAE,aAAa;EAAEP;AAAY,CAAC,GACpC;EACEO,IAAI,EAAE,aAAa;EAEnBC,WAAWA,CAAEC,EAAE,EAAE;IAAEP;EAAM,CAAC,EAAE;IAC1B,MAAMQ,GAAG,GAAG;MACVP,KAAK,EAAEF,QAAQ,CAACC,KAAK,CAAC;MAEtBS,OAAOA,CAAEC,GAAG,EAAE;QACZ;QACAF,GAAG,CAACP,KAAK,KAAK,CAAC,IAAIU,UAAU,CAAC,MAAM;UAClC,MAAMC,KAAK,GAAGhB,cAAc,CAACW,EAAE,CAAC;UAChC,IAAIK,KAAK,KAAK,KAAK,CAAC,EAAE;YACpBjB,YAAY,CAACiB,KAAK,EAAEF,GAAG,EAAEF,GAAG,CAACP,KAAK,CAAC;UACrC;QACF,CAAC,CAAC;MACJ,CAAC;MAEDY,UAAUA,CAAEH,GAAG,EAAE;QACfb,SAAS,CAACa,GAAG,EAAE,EAAE,CAAC,KAAK,IAAI,IAAIF,GAAG,CAACC,OAAO,CAACC,GAAG,CAAC;MACjD;IACF,CAAC;IAEDH,EAAE,CAACO,aAAa,GAAGN,GAAG;IAEtBD,EAAE,CAACQ,gBAAgB,CAAC,OAAO,EAAEP,GAAG,CAACC,OAAO,CAAC;IACzCF,EAAE,CAACQ,gBAAgB,CAAC,OAAO,EAAEP,GAAG,CAACK,UAAU,CAAC;EAC9C,CAAC;EAEDG,OAAOA,CAAET,EAAE,EAAE;IAAEP,KAAK;IAAEiB;EAAS,CAAC,EAAE;IAChC,IAAIjB,KAAK,KAAKiB,QAAQ,EAAE;MACtBV,EAAE,CAACO,aAAa,CAACb,KAAK,GAAGF,QAAQ,CAACC,KAAK,CAAC;IAC1C;EACF,CAAC;EAEDkB,aAAaA,CAAEX,EAAE,EAAE;IACjB,MAAMC,GAAG,GAAGD,EAAE,CAACO,aAAa;IAC5BP,EAAE,CAACY,mBAAmB,CAAC,OAAO,EAAEX,GAAG,CAACC,OAAO,CAAC;IAC5CF,EAAE,CAACY,mBAAmB,CAAC,OAAO,EAAEX,GAAG,CAACK,UAAU,CAAC;IAC/C,OAAON,EAAE,CAACO,aAAa;EACzB;AACF,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}