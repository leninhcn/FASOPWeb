{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { listenOpts } from '../event.js';\nimport { portalProxyList } from '../private/portal.js';\nlet timer = null;\nconst {\n    notPassiveCapture\n  } = listenOpts,\n  registeredList = [];\nfunction globalHandler(evt) {\n  if (timer !== null) {\n    clearTimeout(timer);\n    timer = null;\n  }\n  const target = evt.target;\n  if (target === void 0 || target.nodeType === 8 || target.classList.contains('no-pointer-events') === true) {\n    return;\n  }\n\n  // check last portal vm if it's\n  // a QDialog and not in seamless mode\n  let portalIndex = portalProxyList.length - 1;\n  while (portalIndex >= 0) {\n    const proxy = portalProxyList[portalIndex].$;\n    if (proxy.type.name !== 'QDialog') {\n      break;\n    }\n    if (proxy.props.seamless !== true) {\n      return;\n    }\n    portalIndex--;\n  }\n  for (let i = registeredList.length - 1; i >= 0; i--) {\n    const state = registeredList[i];\n    if ((state.anchorEl.value === null || state.anchorEl.value.contains(target) === false) && (target === document.body || state.innerRef.value !== null && state.innerRef.value.contains(target) === false)) {\n      // mark the event as being processed by clickOutside\n      // used to prevent refocus after menu close\n      evt.qClickOutside = true;\n      state.onClickOutside(evt);\n    } else {\n      return;\n    }\n  }\n}\nexport function addClickOutside(clickOutsideProps) {\n  registeredList.push(clickOutsideProps);\n  if (registeredList.length === 1) {\n    document.addEventListener('mousedown', globalHandler, notPassiveCapture);\n    document.addEventListener('touchstart', globalHandler, notPassiveCapture);\n  }\n}\nexport function removeClickOutside(clickOutsideProps) {\n  const index = registeredList.findIndex(h => h === clickOutsideProps);\n  if (index > -1) {\n    registeredList.splice(index, 1);\n    if (registeredList.length === 0) {\n      if (timer !== null) {\n        clearTimeout(timer);\n        timer = null;\n      }\n      document.removeEventListener('mousedown', globalHandler, notPassiveCapture);\n      document.removeEventListener('touchstart', globalHandler, notPassiveCapture);\n    }\n  }\n}","map":{"version":3,"names":["listenOpts","portalProxyList","timer","notPassiveCapture","registeredList","globalHandler","evt","clearTimeout","target","nodeType","classList","contains","portalIndex","length","proxy","$","type","name","props","seamless","i","state","anchorEl","value","document","body","innerRef","qClickOutside","onClickOutside","addClickOutside","clickOutsideProps","push","addEventListener","removeClickOutside","index","findIndex","h","splice","removeEventListener"],"sources":["D:/LearnVueJS/Vue3/Projects/fa-sop-online/node_modules/quasar/src/utils/private/click-outside.js"],"sourcesContent":["import { listenOpts } from '../event.js'\nimport { portalProxyList } from '../private/portal.js'\n\nlet timer = null\n\nconst\n  { notPassiveCapture } = listenOpts,\n  registeredList = []\n\nfunction globalHandler (evt) {\n  if (timer !== null) {\n    clearTimeout(timer)\n    timer = null\n  }\n\n  const target = evt.target\n\n  if (\n    target === void 0\n    || target.nodeType === 8\n    || target.classList.contains('no-pointer-events') === true\n  ) {\n    return\n  }\n\n  // check last portal vm if it's\n  // a QDialog and not in seamless mode\n  let portalIndex = portalProxyList.length - 1\n\n  while (portalIndex >= 0) {\n    const proxy = portalProxyList[ portalIndex ].$\n\n    if (proxy.type.name !== 'QDialog') {\n      break\n    }\n\n    if (proxy.props.seamless !== true) {\n      return\n    }\n\n    portalIndex--\n  }\n\n  for (let i = registeredList.length - 1; i >= 0; i--) {\n    const state = registeredList[ i ]\n\n    if (\n      (\n        state.anchorEl.value === null\n        || state.anchorEl.value.contains(target) === false\n      )\n      && (\n        target === document.body\n        || (\n          state.innerRef.value !== null\n          && state.innerRef.value.contains(target) === false\n        )\n      )\n    ) {\n      // mark the event as being processed by clickOutside\n      // used to prevent refocus after menu close\n      evt.qClickOutside = true\n      state.onClickOutside(evt)\n    }\n    else {\n      return\n    }\n  }\n}\n\nexport function addClickOutside (clickOutsideProps) {\n  registeredList.push(clickOutsideProps)\n\n  if (registeredList.length === 1) {\n    document.addEventListener('mousedown', globalHandler, notPassiveCapture)\n    document.addEventListener('touchstart', globalHandler, notPassiveCapture)\n  }\n}\n\nexport function removeClickOutside (clickOutsideProps) {\n  const index = registeredList.findIndex(h => h === clickOutsideProps)\n\n  if (index > -1) {\n    registeredList.splice(index, 1)\n\n    if (registeredList.length === 0) {\n      if (timer !== null) {\n        clearTimeout(timer)\n        timer = null\n      }\n\n      document.removeEventListener('mousedown', globalHandler, notPassiveCapture)\n      document.removeEventListener('touchstart', globalHandler, notPassiveCapture)\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}