{"ast":null,"code":"import MyPlayer from \"../components/MediaArea/MediaPlayer.vue\";\nimport PlayList from \"../components/MediaArea/PlayList.vue\";\nimport ChatBox from \"../components/QMessage/ChatBox.vue\";\nimport { mapGetters, mapActions } from \"vuex\";\nimport { Files, Tickets, Collection, Postcard, SetUp, DocumentChecked, DataBoard, DataAnalysis } from \"@element-plus/icons-vue\";\nexport default {\n  components: {\n    ChatBox,\n    MyPlayer,\n    PlayList\n  },\n  computed: {\n    ...mapGetters({\n      GetUser: \"getUser\"\n    })\n  },\n  mounted() {\n    if (this.GetUser) this.UserName = this.GetUser.Name;\n    this.getMenu();\n  },\n  name: \"menu-bar\",\n  data() {\n    return {\n      CurrentTrackList: [],\n      PlayListCollap: true,\n      showListIcon: \"arrow_back_ios\",\n      media_vis: true,\n      mColap: true,\n      UserName: \"\",\n      Menu: [],\n      icons: [Files, Tickets, Collection, Postcard, SetUp, DocumentChecked, DataBoard, DataAnalysis]\n    };\n  },\n  methods: {\n    ...mapActions([\"Logout\"]),\n    TrackToPlay(id) {\n      this.$refs.MyPlayer.PlayFromList(id);\n    },\n    CurrentTrackUpdate(cTrack) {\n      this.$refs.MyPlaylist.UpdatePlayingTrack(cTrack.DB_ID);\n    },\n    PlayListUpdate(lstTrack) {\n      this.CurrentTrackList = lstTrack;\n    },\n    ShowPlayList() {\n      if (this.$refs.PlayList.style.right == \"0px\") {\n        this.$refs.PlayList.style.right = \"-530px\";\n        this.showListIcon = \"arrow_back_ios\";\n        this.PlayListCollap = true;\n      } else {\n        this.$refs.PlayList.style.right = \"0\";\n        this.showListIcon = \"arrow_forward_ios\";\n        this.PlayListCollap = false;\n      }\n    },\n    ShowPlayer() {\n      if (this.$refs.MediaPopup.style.bottom == \"10px\") {\n        this.$refs.MediaPopup.style.bottom = \"-200px\";\n        this.$refs.PlayList.style.right = \"-550px\";\n        this.showListIcon = \"arrow_back_ios\";\n        this.PlayListCollap = true;\n      } else {\n        this.$refs.MediaPopup.style.bottom = \"10px\";\n        this.$refs.PlayList.style.right = \"-530px\";\n      }\n    },\n    logout: function () {\n      this.Logout();\n    },\n    toggleCollapse: function () {\n      this.mColap = !this.mColap;\n    },\n    async getMenu() {\n      await this.axios.get(\"api/FAOnlineSOP/GetMainMenu\").then(res => {\n        this.Menu = res.data;\n      }).catch(err => {\n        console.log(err.response.data);\n      });\n    },\n    GetIcon(id) {\n      if (id <= this.icons.length - 1) return this.icons[id];else return this.icons[this.icons.length - 1];\n    }\n  }\n};","map":{"version":3,"names":["MyPlayer","PlayList","ChatBox","mapGetters","mapActions","Files","Tickets","Collection","Postcard","SetUp","DocumentChecked","DataBoard","DataAnalysis","components","computed","GetUser","mounted","UserName","Name","getMenu","name","data","CurrentTrackList","PlayListCollap","showListIcon","media_vis","mColap","Menu","icons","methods","TrackToPlay","id","$refs","PlayFromList","CurrentTrackUpdate","cTrack","MyPlaylist","UpdatePlayingTrack","DB_ID","PlayListUpdate","lstTrack","ShowPlayList","style","right","ShowPlayer","MediaPopup","bottom","logout","Logout","toggleCollapse","axios","get","then","res","catch","err","console","log","response","GetIcon","length"],"sources":["D:\\LearnVueJS\\Vue3\\Projects\\fa-sop-online\\src\\components\\Menu.vue"],"sourcesContent":["<template>\r\n  <div class=\"home_container\">\r\n    <el-container class=\"home_container\">\r\n      <el-header>\r\n        <div>\r\n          <img\r\n            src=\"../assets/logo.png\"\r\n            style=\"cursor: pointer\"\r\n            alt=\"\"\r\n            @click=\"$router.push('/wellcome')\"\r\n          />\r\n          <span @click=\"$router.push('/wellcome')\" style=\"cursor: pointer\"\r\n            >CPBG MES-VN</span\r\n          >\r\n        </div>\r\n        <div>\r\n          <nav>\r\n            <el-dropdown>\r\n              <span\r\n                style=\"font-size: 1.3em; margin-top: 5px; cursor: pointer\"\r\n                class=\"el-dropdown-link\"\r\n              >\r\n                {{ UserName }}\r\n                <ArrowDown\r\n                  style=\"width: 1em; height: 1em; margin-bottom: -3px\"\r\n                />\r\n              </span>\r\n              <template #dropdown>\r\n                <el-dropdown-menu>\r\n                  <el-dropdown-item>\r\n                    <router-link to=\"#\"\r\n                      ><i class=\"icofont-ui-password\"></i> Change\r\n                      Password</router-link\r\n                    >\r\n                  </el-dropdown-item>\r\n                  <el-dropdown-item>\r\n                    <a href=\"#\" @click.prevent=\"logout\"\r\n                      ><i class=\"icofont-logout\"></i> Logout</a\r\n                    >\r\n                  </el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </template>\r\n            </el-dropdown>\r\n          </nav>\r\n        </div>\r\n      </el-header>\r\n      <el-container>\r\n        <el-aside :width=\"!mColap ? '64px' : '200px'\" style=\"min-height: 95vh;\">\r\n          <div class=\"toggle-button\" @click=\"toggleCollapse\" id=\"toggle-button\">\r\n            <Expand v-if=\"!mColap\" style=\"width: 2em; height: 2em\" />\r\n            <Fold v-if=\"mColap\" style=\"width: 2em; height: 2em\" />\r\n          </div>\r\n          <el-menu\r\n            class=\"elmenu\"\r\n            background-color=\"#333744\"\r\n            text-color=\"#fff\"\r\n            active-text-color=\"#409eff\"\r\n            :unique-opened=\"true\"\r\n            :collapse=\"!mColap\"\r\n            :collapse-transition=\"false\"\r\n            :router=\"true\"\r\n            :default-active=\"activePath\"\r\n          >\r\n            <el-sub-menu\r\n              v-for=\"(item, id) in Menu.filter(\r\n                (item) => item.TYPE === 'SUB_MENU'\r\n              )\"\r\n              :key=\"id\"\r\n              :index=\"id\"\r\n              :disabled=\"\r\n                !item.DISPLAY_STATUS.includes('ENABLE') ||\r\n                GetUser.AdminRole < item.ROLE_REQUIRE\r\n              \"\r\n            >\r\n              <template #title>\r\n                <el-icon>\r\n                  <Folder />\r\n                </el-icon>\r\n                <span>{{ item.NAME }}</span>\r\n              </template>\r\n              <el-menu-item-group\r\n                v-for=\"(itg, idx) in item.CHILDREN\"\r\n                :key=\"idx\"\r\n                :title=\"itg.NAME\"\r\n              >\r\n                <el-menu-item\r\n                  v-for=\"(it, idxt) in itg.CHILDREN\"\r\n                  :key=\"idxt\"\r\n                  :index=\"it.LINK_TO\"\r\n                  :disabled=\"\r\n                    !it.DISPLAY_STATUS.includes('ENABLE') ||\r\n                    GetUser.AdminRole < it.ROLE_REQUIRE\r\n                  \"\r\n                >\r\n                  <el-icon>\r\n                    <component :is=\"GetIcon(idxt)\" />\r\n                  </el-icon>\r\n                  {{ it.NAME }}\r\n                </el-menu-item>\r\n              </el-menu-item-group>\r\n            </el-sub-menu>\r\n            <el-menu-item\r\n              v-for=\"(item, id) in Menu.filter(\r\n                (item) => item.TYPE === 'MENU_ITEM'\r\n              )\"\r\n              :key=\"id\"\r\n              :index=\"item.LINK_TO\"\r\n              :disabled=\"!item.DISPLAY_STATUS.includes('ENABLE')\"\r\n            >\r\n              <i\r\n                class=\"icofont-code\"\r\n                style=\"margin-left: 3px; margin-right: 6px\"\r\n              ></i>\r\n              <span>{{ item.NAME }}</span>\r\n            </el-menu-item>\r\n            <el-sub-menu :disabled=\"GetUser.AdminRole <= 8\" index=\"2\">\r\n              <template #title>\r\n                <i\r\n                  style=\"margin-left: 3px; margin-right: 6px\"\r\n                  class=\"icofont-ui-settings\"\r\n                ></i>\r\n                <span>Maintenance Area</span>\r\n              </template>\r\n              <el-menu-item-group title=\"Menu\">\r\n                <el-menu-item index=\"/menumana\"\r\n                  ><el-icon> <Menu /> </el-icon>Menu Management</el-menu-item\r\n                >\r\n              </el-menu-item-group>\r\n            </el-sub-menu>\r\n            <el-menu-item index=\"/about\">\r\n              <i\r\n                class=\"icofont-code\"\r\n                style=\"margin-left: 3px; margin-right: 6px\"\r\n              ></i>\r\n              <span>Development Team</span>\r\n            </el-menu-item>\r\n          </el-menu>\r\n        </el-aside>\r\n        <el-main>\r\n          <router-view></router-view>\r\n          <ChatBox></ChatBox>\r\n        </el-main>\r\n        <div v-if=\"GetUser.AdminRole >= 9\">\r\n          <div class=\"MediaPopup\" ref=\"MediaPopup\">\r\n            <MyPlayer\r\n              @ShowList=\"ShowPlayList\"\r\n              :lstCollapse=\"PlayListCollap\"\r\n              :trackList=\"CurrentTrackList\"\r\n              @CurrentTrackUpdate=\"CurrentTrackUpdate\"\r\n              ref=\"MyPlayer\"\r\n            ></MyPlayer>\r\n          </div>\r\n          <div class=\"PlayList\" ref=\"PlayList\">\r\n            <q-btn\r\n              :icon=\"showListIcon\"\r\n              square\r\n              color=\"purple-5\"\r\n              @click=\"ShowPlayList\"\r\n              glossy\r\n              text-color=\"black\"\r\n              class=\"absolute-left\"\r\n              style=\"width: 35px; padding: 0\"\r\n            >\r\n            </q-btn>\r\n            <PlayList\r\n              @PlayListUpdate=\"PlayListUpdate\"\r\n              ref=\"MyPlaylist\"\r\n              @TrackToPlay=\"TrackToPlay\"\r\n            ></PlayList>\r\n          </div>\r\n          <q-btn\r\n            class=\"fixed-bottom-right q-ma-md\"\r\n            fab\r\n            color=\"purple-7\"\r\n            size=\"lg\"\r\n            icon=\"radio\"\r\n            @click=\"ShowPlayer\"\r\n            style=\"right: 60px !important; z-index: 997;\"\r\n          ></q-btn>\r\n        </div>\r\n      </el-container>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport MyPlayer from \"../components/MediaArea/MediaPlayer.vue\";\r\nimport PlayList from \"../components/MediaArea/PlayList.vue\";\r\nimport ChatBox from \"../components/QMessage/ChatBox.vue\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport {\r\n  Files,\r\n  Tickets,\r\n  Collection,\r\n  Postcard,\r\n  SetUp,\r\n  DocumentChecked,\r\n  DataBoard,\r\n  DataAnalysis,\r\n} from \"@element-plus/icons-vue\";\r\nexport default {\r\n  components: {\r\n    ChatBox,\r\n    MyPlayer,\r\n    PlayList,\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      GetUser: \"getUser\",\r\n    }),\r\n  },\r\n  mounted() {\r\n    if (this.GetUser) this.UserName = this.GetUser.Name;\r\n    this.getMenu();\r\n  },\r\n  name: \"menu-bar\",\r\n  data() {\r\n    return {\r\n      CurrentTrackList: [],\r\n      PlayListCollap: true,\r\n      showListIcon: \"arrow_back_ios\",\r\n      media_vis: true,\r\n      mColap: true,\r\n      UserName: \"\",\r\n      Menu: [],\r\n      icons: [\r\n        Files,\r\n        Tickets,\r\n        Collection,\r\n        Postcard,\r\n        SetUp,\r\n        DocumentChecked,\r\n        DataBoard,\r\n        DataAnalysis,\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"Logout\"]),\r\n    TrackToPlay(id) {\r\n      this.$refs.MyPlayer.PlayFromList(id);\r\n    },\r\n    CurrentTrackUpdate(cTrack) {\r\n      this.$refs.MyPlaylist.UpdatePlayingTrack(cTrack.DB_ID);\r\n    },\r\n    PlayListUpdate(lstTrack) {\r\n      this.CurrentTrackList = lstTrack;\r\n    },\r\n    ShowPlayList() {\r\n      if (this.$refs.PlayList.style.right == \"0px\") {\r\n        this.$refs.PlayList.style.right = \"-530px\";\r\n        this.showListIcon = \"arrow_back_ios\";\r\n        this.PlayListCollap = true;\r\n      } else {\r\n        this.$refs.PlayList.style.right = \"0\";\r\n        this.showListIcon = \"arrow_forward_ios\";\r\n        this.PlayListCollap = false;\r\n      }\r\n    },\r\n    ShowPlayer() {\r\n      if (this.$refs.MediaPopup.style.bottom == \"10px\") {\r\n        this.$refs.MediaPopup.style.bottom = \"-200px\";\r\n        this.$refs.PlayList.style.right = \"-550px\";\r\n        this.showListIcon = \"arrow_back_ios\";\r\n        this.PlayListCollap = true;\r\n      } else {\r\n        this.$refs.MediaPopup.style.bottom = \"10px\";\r\n        this.$refs.PlayList.style.right = \"-530px\";\r\n      }\r\n    },\r\n    logout: function () {\r\n      this.Logout();\r\n    },\r\n    toggleCollapse: function () {\r\n      this.mColap = !this.mColap;\r\n    },\r\n    async getMenu() {\r\n      await this.axios\r\n        .get(\"api/FAOnlineSOP/GetMainMenu\")\r\n        .then((res) => {\r\n          this.Menu = res.data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response.data);\r\n        });\r\n    },\r\n    GetIcon(id) {\r\n      if (id <= this.icons.length - 1) return this.icons[id];\r\n      else return this.icons[this.icons.length - 1];\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n<style lang=\"scss\" scoped>\r\na {\r\n  text-decoration: none;\r\n}\r\n.MediaPopup {\r\n  z-index: 997;\r\n  position: fixed;\r\n  width: 550px;\r\n  right: 20%;\r\n  bottom: -200px;\r\n  transition: bottom 0.5s ease-in-out;\r\n}\r\n\r\n.PlayList {\r\n  background-color: #b760c5;\r\n  z-index: 997;\r\n  position: fixed;\r\n  width: 550px;\r\n  right: -550px;\r\n  transition: right 0.5s ease-in-out;\r\n}\r\n\r\n.elmenu {\r\n  i {\r\n    margin-right: 3px;\r\n    font-size: 1.3em;\r\n    color: rgb(255, 252, 57);\r\n  }\r\n}\r\n\r\ni:active {\r\n  color: red;\r\n}\r\n\r\n.el-header {\r\n  background-color: #37314d;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding-left: 0%;\r\n  align-items: center;\r\n  color: #fff;\r\n  font-size: 20px;\r\n}\r\n\r\n.el-header > div {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.el-header > div > span {\r\n  margin-left: 15px;\r\n}\r\n\r\n.drawer__footer {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.el-header > div > img {\r\n  height: 60px;\r\n  background-color: #eee;\r\n}\r\n\r\n.el-aside {\r\n  background-color: #333744;\r\n}\r\n\r\n.el-aside > .el-menu {\r\n  border-right: none;\r\n}\r\n\r\n.el-main {\r\n  background-color: #1f144b;\r\n}\r\n\r\n.home_container {\r\n  height: 100%;\r\n}\r\n\r\n.el-submenu {\r\n  text-align: left;\r\n}\r\n\r\n.iconfont {\r\n  margin-right: 10px;\r\n}\r\n\r\n.toggle-button {\r\n  background-color: #4a5064;\r\n  font-size: 10px;\r\n  line-height: 20px;\r\n  color: #fff;\r\n  text-align: center;\r\n  letter-spacing: 0.2em;\r\n  cursor: pointer;\r\n  width: auto;\r\n}\r\n\r\n.el-button {\r\n  margin-left: 15px;\r\n}\r\n\r\n.drawer {\r\n  padding-top: 10px;\r\n\r\n  span {\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n.drawer_content {\r\n  padding: 20px;\r\n}\r\n\r\n.el-col {\r\n  padding: 10px;\r\n}\r\n\r\n.el-icon-position {\r\n  color: #eee;\r\n  size: 50px;\r\n}\r\n\r\n.drop_item {\r\n  font-size: 20px;\r\n}\r\n\r\n.el-icon-position {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n  "],"mappings":"AA0LA,OAAOA,QAAO,MAAO,yCAAyC;AAC9D,OAAOC,QAAO,MAAO,sCAAsC;AAC3D,OAAOC,OAAM,MAAO,oCAAoC;AACxD,SAASC,UAAU,EAAEC,UAAS,QAAS,MAAM;AAC7C,SACEC,KAAK,EACLC,OAAO,EACPC,UAAU,EACVC,QAAQ,EACRC,KAAK,EACLC,eAAe,EACfC,SAAS,EACTC,YAAY,QACP,yBAAyB;AAChC,eAAe;EACbC,UAAU,EAAE;IACVX,OAAO;IACPF,QAAQ;IACRC;EACF,CAAC;EACDa,QAAQ,EAAE;IACR,GAAGX,UAAU,CAAC;MACZY,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,IAAI,CAACD,OAAO,EAAE,IAAI,CAACE,QAAO,GAAI,IAAI,CAACF,OAAO,CAACG,IAAI;IACnD,IAAI,CAACC,OAAO,EAAE;EAChB,CAAC;EACDC,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,gBAAgB,EAAE,EAAE;MACpBC,cAAc,EAAE,IAAI;MACpBC,YAAY,EAAE,gBAAgB;MAC9BC,SAAS,EAAE,IAAI;MACfC,MAAM,EAAE,IAAI;MACZT,QAAQ,EAAE,EAAE;MACZU,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,CACLvB,KAAK,EACLC,OAAO,EACPC,UAAU,EACVC,QAAQ,EACRC,KAAK,EACLC,eAAe,EACfC,SAAS,EACTC,YAAY;IAEhB,CAAC;EACH,CAAC;EACDiB,OAAO,EAAE;IACP,GAAGzB,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC;IACzB0B,WAAWA,CAACC,EAAE,EAAE;MACd,IAAI,CAACC,KAAK,CAAChC,QAAQ,CAACiC,YAAY,CAACF,EAAE,CAAC;IACtC,CAAC;IACDG,kBAAkBA,CAACC,MAAM,EAAE;MACzB,IAAI,CAACH,KAAK,CAACI,UAAU,CAACC,kBAAkB,CAACF,MAAM,CAACG,KAAK,CAAC;IACxD,CAAC;IACDC,cAAcA,CAACC,QAAQ,EAAE;MACvB,IAAI,CAAClB,gBAAe,GAAIkB,QAAQ;IAClC,CAAC;IACDC,YAAYA,CAAA,EAAG;MACb,IAAI,IAAI,CAACT,KAAK,CAAC/B,QAAQ,CAACyC,KAAK,CAACC,KAAI,IAAK,KAAK,EAAE;QAC5C,IAAI,CAACX,KAAK,CAAC/B,QAAQ,CAACyC,KAAK,CAACC,KAAI,GAAI,QAAQ;QAC1C,IAAI,CAACnB,YAAW,GAAI,gBAAgB;QACpC,IAAI,CAACD,cAAa,GAAI,IAAI;MAC5B,OAAO;QACL,IAAI,CAACS,KAAK,CAAC/B,QAAQ,CAACyC,KAAK,CAACC,KAAI,GAAI,GAAG;QACrC,IAAI,CAACnB,YAAW,GAAI,mBAAmB;QACvC,IAAI,CAACD,cAAa,GAAI,KAAK;MAC7B;IACF,CAAC;IACDqB,UAAUA,CAAA,EAAG;MACX,IAAI,IAAI,CAACZ,KAAK,CAACa,UAAU,CAACH,KAAK,CAACI,MAAK,IAAK,MAAM,EAAE;QAChD,IAAI,CAACd,KAAK,CAACa,UAAU,CAACH,KAAK,CAACI,MAAK,GAAI,QAAQ;QAC7C,IAAI,CAACd,KAAK,CAAC/B,QAAQ,CAACyC,KAAK,CAACC,KAAI,GAAI,QAAQ;QAC1C,IAAI,CAACnB,YAAW,GAAI,gBAAgB;QACpC,IAAI,CAACD,cAAa,GAAI,IAAI;MAC5B,OAAO;QACL,IAAI,CAACS,KAAK,CAACa,UAAU,CAACH,KAAK,CAACI,MAAK,GAAI,MAAM;QAC3C,IAAI,CAACd,KAAK,CAAC/B,QAAQ,CAACyC,KAAK,CAACC,KAAI,GAAI,QAAQ;MAC5C;IACF,CAAC;IACDI,MAAM,EAAE,SAAAA,CAAA,EAAY;MAClB,IAAI,CAACC,MAAM,EAAE;IACf,CAAC;IACDC,cAAc,EAAE,SAAAA,CAAA,EAAY;MAC1B,IAAI,CAACvB,MAAK,GAAI,CAAC,IAAI,CAACA,MAAM;IAC5B,CAAC;IACD,MAAMP,OAAOA,CAAA,EAAG;MACd,MAAM,IAAI,CAAC+B,KAAI,CACZC,GAAG,CAAC,6BAA6B,EACjCC,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAAC1B,IAAG,GAAI0B,GAAG,CAAChC,IAAI;MACtB,CAAC,EACAiC,KAAK,CAAEC,GAAG,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,QAAQ,CAACrC,IAAI,CAAC;MAChC,CAAC,CAAC;IACN,CAAC;IACDsC,OAAOA,CAAC5B,EAAE,EAAE;MACV,IAAIA,EAAC,IAAK,IAAI,CAACH,KAAK,CAACgC,MAAK,GAAI,CAAC,EAAE,OAAO,IAAI,CAAChC,KAAK,CAACG,EAAE,CAAC,MACjD,OAAO,IAAI,CAACH,KAAK,CAAC,IAAI,CAACA,KAAK,CAACgC,MAAK,GAAI,CAAC,CAAC;IAC/C;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}