{"ast":null,"code":"export default {\n  data() {\n    return {\n      CategoryList: [],\n      trackList: [],\n      PlayingTrack: {\n        ID: 0\n      }\n    };\n  },\n  mounted() {\n    this.GetAllCategory();\n  },\n  methods: {\n    async GetAllCategory() {\n      await this.axios.get(\"api/Funapp/GetAllCategory\").then(res => {\n        this.CategoryList = res.data;\n        if (this.trackList.length < 1) this.GetDocList(this.CategoryList[0]);\n      }).catch(err => {\n        console.log(err.response.data);\n      });\n    },\n    PlayFromList(id) {\n      this.PlayingTrack.ID = id;\n    },\n    async GetDocList(cate) {\n      if (cate != this.CurrentCate) this.CurrentCate = cate;else return;\n      await this.axios.get(`api/Funapp/GetDocList?cate=${cate}`).then(res => {\n        this.trackList = res.data;\n      }).catch(err => {\n        this.$message({\n          showClose: true,\n          type: \"error\",\n          message: err.response.data\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","CategoryList","trackList","PlayingTrack","ID","mounted","GetAllCategory","methods","axios","get","then","res","length","GetDocList","catch","err","console","log","response","PlayFromList","id","cate","CurrentCate","$message","showClose","type","message"],"sources":["D:\\LearnVueJS\\Vue3\\Projects\\fa-sop-online\\src\\components\\MediaArea\\PlayList.vue"],"sourcesContent":["<template>\r\n  <div ref=\"DocList\" class=\"DocList\">\r\n    <div ref=\"listCard\" class=\"listCard\" v-if=\"!lstCollapse\">\r\n      <tr>\r\n        <td>\r\n          <div style=\"overflow-y: auto; height: 200px;\">\r\n            <ul style=\"text-align: left\">\r\n              <li\r\n                v-for=\"(track, id) in trackList\"\r\n                :key=\"id\"\r\n                @click=\"PlayFromList(track.ID)\"\r\n                :class=\"{\r\n                  playingTrack: track.ID == PlayingTrack.ID,\r\n                }\"\r\n              >\r\n                <i\r\n                  class=\"fa-solid\"\r\n                  :class=\"{\r\n                    'fa-music': track.ID != PlayingTrack.ID,\r\n                    'fa-compact-disc': track.ID == PlayingTrack.ID,\r\n                    'fa-spin': track.ID == PlayingTrack.ID,\r\n                  }\"\r\n                ></i>\r\n                {{ track.FILE_NAME }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <hr />\r\n      <tr>\r\n        <td>\r\n          <div style=\"overflow-y: auto\">\r\n            <ul style=\"text-align: left\">\r\n              <li\r\n                v-for=\"(cate, id) in CategoryList\"\r\n                :key=\"id\"\r\n                @click=\"GetDocList(cate)\"\r\n                :class=\"{\r\n                  playingTrack: cate == CurrentCate,\r\n                }\"\r\n              >\r\n                <i class=\"fa-solid fa-list-ul\"></i> {{ cate }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      CategoryList: [],\r\n      trackList: [],\r\n      PlayingTrack: {\r\n        ID: 0,\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.GetAllCategory();\r\n  },\r\n  methods: {\r\n    async GetAllCategory() {\r\n      await this.axios\r\n        .get(\"api/Funapp/GetAllCategory\")\r\n        .then((res) => {\r\n          this.CategoryList = res.data;\r\n          if (this.trackList.length < 1) this.GetDocList(this.CategoryList[0]);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response.data);\r\n        });\r\n    },\r\n    PlayFromList(id) {\r\n      this.PlayingTrack.ID = id;\r\n    },\r\n    async GetDocList(cate) {\r\n      if (cate != this.CurrentCate) this.CurrentCate = cate;\r\n      else return;\r\n      await this.axios\r\n        .get(`api/Funapp/GetDocList?cate=${cate}`)\r\n        .then((res) => {\r\n          this.trackList = res.data;\r\n        })\r\n        .catch((err) => {\r\n          this.$message({\r\n            showClose: true,\r\n            type: \"error\",\r\n            message: err.response.data,\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.playingTrack {\r\n  color: blue;\r\n}\r\n.DocList {\r\n  .listCard {\r\n    background-color: rgb(255, 255, 255);\r\n    li {\r\n      list-style-type: none;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>"],"mappings":"AAqDA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,EAAE;MAChBC,SAAS,EAAE,EAAE;MACbC,YAAY,EAAE;QACZC,EAAE,EAAE;MACN;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,cAAc,EAAE;EACvB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,cAAcA,CAAA,EAAG;MACrB,MAAM,IAAI,CAACE,KAAI,CACZC,GAAG,CAAC,2BAA2B,EAC/BC,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAACV,YAAW,GAAIU,GAAG,CAACX,IAAI;QAC5B,IAAI,IAAI,CAACE,SAAS,CAACU,MAAK,GAAI,CAAC,EAAE,IAAI,CAACC,UAAU,CAAC,IAAI,CAACZ,YAAY,CAAC,CAAC,CAAC,CAAC;MACtE,CAAC,EACAa,KAAK,CAAEC,GAAG,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,QAAQ,CAAClB,IAAI,CAAC;MAChC,CAAC,CAAC;IACN,CAAC;IACDmB,YAAYA,CAACC,EAAE,EAAE;MACf,IAAI,CAACjB,YAAY,CAACC,EAAC,GAAIgB,EAAE;IAC3B,CAAC;IACD,MAAMP,UAAUA,CAACQ,IAAI,EAAE;MACrB,IAAIA,IAAG,IAAK,IAAI,CAACC,WAAW,EAAE,IAAI,CAACA,WAAU,GAAID,IAAI,MAChD;MACL,MAAM,IAAI,CAACb,KAAI,CACZC,GAAG,CAAE,8BAA6BY,IAAK,EAAC,EACxCX,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAACT,SAAQ,GAAIS,GAAG,CAACX,IAAI;MAC3B,CAAC,EACAc,KAAK,CAAEC,GAAG,IAAK;QACd,IAAI,CAACQ,QAAQ,CAAC;UACZC,SAAS,EAAE,IAAI;UACfC,IAAI,EAAE,OAAO;UACbC,OAAO,EAAEX,GAAG,CAACG,QAAQ,CAAClB;QACxB,CAAC,CAAC;MACJ,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}