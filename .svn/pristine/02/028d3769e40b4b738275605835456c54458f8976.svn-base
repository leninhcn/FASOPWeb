{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { el } from \"element-plus/es/locale\";\nimport GetOption from \"./Datas/stationYield\";\nexport default {\n  data() {\n    return {\n      option: GetOption(),\n      myChart: undefined,\n      colors: [\"#1478eb\", \"green\", \"orange\", \"yellow\", \"red\", \"indigo\", \"purple\", \"#cccccc\"]\n    };\n  },\n  methods: {\n    DataUpdate(line) {\n      //  this.myChart.clear();\n      this.axios.post(\"api/FATPKanban/GetYieldDetail\", line).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    GetSeries(data) {\n      const rs = [];\n      var labelFromatter = {\n        normal: {\n          color: function (params) {\n            if (params.value >= 99) {\n              return \"#04B404\";\n            } else if (params.value >= 97.5) {\n              return \"#0080FF\";\n            } else if (params.value >= 96) {\n              return \"#FE9A2E\";\n            } else {\n              return \"#FE2E2E\";\n            }\n          },\n          label: {\n            formatter: function (params) {\n              return params.value + \"%\";\n            },\n            textStyle: {\n              baseline: \"top\"\n            },\n            color: \"auto\",\n            fontSize: 20,\n            position: \"center\"\n          }\n        }\n      };\n      var labelTop = {\n        normal: {\n          label: {\n            show: true,\n            position: \"center\",\n            formatter: \"{b}\",\n            textStyle: {\n              baseline: \"bottom\"\n            }\n          },\n          labelLine: {\n            show: false\n          }\n        }\n      };\n      var labelBottom = {\n        normal: {\n          color: \"#ccc\",\n          label: {\n            show: true,\n            textStyle: {\n              baseline: \"top\"\n            },\n            position: \"center\"\n          },\n          labelLine: {\n            show: false\n          }\n        },\n        emphasis: {\n          color: \"rgba(0,0,0,0)\"\n        }\n      };\n      data.forEach(el => {\n        rs.push({\n          type: \"pie\",\n          center: [\"30%\", \"50%\"],\n          radius: [45, 60],\n          x: \"0%\",\n          itemStyle: labelFromatter,\n          data: [{\n            name: \"pass\",\n            value: el.PERCENT,\n            itemStyle: labelTop,\n            label: {\n              show: true,\n              fontSize: 18\n            }\n          }, {\n            name: \"fail\",\n            value: 100 - el.PERCENT,\n            itemStyle: labelBottom,\n            label: {\n              show: false,\n              position: \"inside\"\n            }\n          }]\n        });\n      });\n      return rs;\n    }\n  },\n  mounted() {\n    this.DataUpdate({\n      PDLINE_ID: \"10001\",\n      DB: \"BU20\"\n    });\n    var dom = document.getElementById(\"pie-chart\");\n    this.myChart = this.$Echart.init(dom, null, {\n      renderer: \"canvas\",\n      useDirtyRect: false\n    });\n    if (this.option && typeof this.option === \"object\") {\n      this.myChart.setOption(this.option);\n    }\n    window.addEventListener(\"resize\", this.myChart.resize);\n  }\n};","map":{"version":3,"names":["el","GetOption","data","option","myChart","undefined","colors","methods","DataUpdate","line","axios","post","then","res","console","log","catch","err","GetSeries","rs","labelFromatter","normal","color","params","value","label","formatter","textStyle","baseline","fontSize","position","labelTop","show","labelLine","labelBottom","emphasis","forEach","push","type","center","radius","x","itemStyle","name","PERCENT","mounted","PDLINE_ID","DB","dom","document","getElementById","$Echart","init","renderer","useDirtyRect","setOption","window","addEventListener","resize"],"sources":["D:\\LearnVueJS\\Vue3\\Projects\\fa-sop-online\\src\\components\\FATPkanban\\StationYield.vue"],"sourcesContent":["<template>\r\n  <div id=\"pie-chart\"></div>\r\n</template>\r\n  \r\n  <script>\r\nimport { el } from \"element-plus/es/locale\";\r\nimport GetOption from \"./Datas/stationYield\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      option: GetOption(),\r\n      myChart: undefined,\r\n      colors: [\r\n        \"#1478eb\",\r\n        \"green\",\r\n        \"orange\",\r\n        \"yellow\",\r\n        \"red\",\r\n        \"indigo\",\r\n        \"purple\",\r\n        \"#cccccc\",\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    DataUpdate(line) {\r\n      //  this.myChart.clear();\r\n      this.axios\r\n        .post(\"api/FATPKanban/GetYieldDetail\", line)\r\n        .then((res) => {\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    GetSeries(data) {\r\n      const rs = [];\r\n      var labelFromatter = {\r\n        normal: {\r\n          color: function (params) {\r\n            if (params.value >= 99) {\r\n              return \"#04B404\";\r\n            } else if (params.value >= 97.5) {\r\n              return \"#0080FF\";\r\n            } else if (params.value >= 96) {\r\n              return \"#FE9A2E\";\r\n            } else {\r\n              return \"#FE2E2E\";\r\n            }\r\n          },\r\n          label: {\r\n            formatter: function (params) {\r\n              return params.value + \"%\";\r\n            },\r\n            textStyle: {\r\n              baseline: \"top\",\r\n            },\r\n            color: \"auto\",\r\n            fontSize: 20,\r\n            position: \"center\",\r\n          },\r\n        },\r\n      };\r\n      var labelTop = {\r\n        normal: {\r\n          label: {\r\n            show: true,\r\n            position: \"center\",\r\n            formatter: \"{b}\",\r\n            textStyle: {\r\n              baseline: \"bottom\",\r\n            },\r\n          },\r\n\r\n          labelLine: {\r\n            show: false,\r\n          },\r\n        },\r\n      };\r\n      var labelBottom = {\r\n        normal: {\r\n          color: \"#ccc\",\r\n          label: {\r\n            show: true,\r\n            textStyle: {\r\n              baseline: \"top\",\r\n            },\r\n            position: \"center\",\r\n          },\r\n          labelLine: {\r\n            show: false,\r\n          },\r\n        },\r\n        emphasis: {\r\n          color: \"rgba(0,0,0,0)\",\r\n        },\r\n      };\r\n      data.forEach((el) => {\r\n        rs.push({\r\n          type: \"pie\",\r\n          center: [\"30%\", \"50%\"],\r\n          radius: [45, 60],\r\n          x: \"0%\",\r\n          itemStyle: labelFromatter,\r\n          data: [\r\n            {\r\n              name: \"pass\",\r\n              value: el.PERCENT,\r\n              itemStyle: labelTop,\r\n              label: { show: true, fontSize: 18 },\r\n            },\r\n            {\r\n              name: \"fail\",\r\n              value: 100 - el.PERCENT,\r\n              itemStyle: labelBottom,\r\n              label: { show: false, position: \"inside\" },\r\n            },\r\n          ],\r\n        });\r\n      });\r\n      return rs;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.DataUpdate({ PDLINE_ID: \"10001\", DB: \"BU20\" });\r\n    var dom = document.getElementById(\"pie-chart\");\r\n    this.myChart = this.$Echart.init(dom, null, {\r\n      renderer: \"canvas\",\r\n      useDirtyRect: false,\r\n    });\r\n\r\n    if (this.option && typeof this.option === \"object\") {\r\n      this.myChart.setOption(this.option);\r\n    }\r\n\r\n    window.addEventListener(\"resize\", this.myChart.resize);\r\n  },\r\n};\r\n</script>\r\n  \r\n  <style lang=\"scss\" scoped>\r\n#pie-chart {\r\n  height: 40vh;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}