{"ast":null,"code":"import { createRouter, createWebHashHistory } from 'vue-router';\nimport Login from \"../components/NewLogin.vue\";\nimport wellcome from \"../components/Wellcome.vue\";\nimport home from '../components/Menu.vue';\nimport testmenu from '../components/Menu_Base.vue';\nimport about from '../components/About.vue';\nimport fa_sop from '../components/FAComs/RepairSOP.vue';\nimport newstep from '../components/FAComs/NewStep.vue';\nimport testcom from '../components/TestComponents.vue';\nimport sopmana from '../components/FAComs/SopManagement.vue';\nimport menumana from '../components/AdminArea/MenuManage.vue';\nimport mainten from '../components/Maintenance.vue';\nimport clock_snap from '../components/clock_snap.vue';\nimport VueCookies from 'vue-cookies';\nimport mediamana from '../components/MediaArea/ContentsManage.vue';\nimport playback from '../components/MediaArea/MediaPlayer.vue';\nimport sktest from '../components/SocketCom/TestSocket.vue';\nimport chatbox from '../components/QMessage/ChatBox.vue';\nimport ctlsender from '../components/QMessage/MsgSender.vue';\nimport grpifo from '../components/QMessage/GroupInfo.vue';\nimport imgm from '../components/QMessage/ImageMerging.vue';\nconst routes = [{\n  path: \"/\",\n  name: \"login\",\n  component: Login\n}, {\n  path: \"/testmenu\",\n  name: \"testmenu\",\n  component: testmenu\n}, {\n  path: \"/home\",\n  name: \"home\",\n  component: home,\n  redirect: \"/wellcome\",\n  children: [{\n    path: \"/imgm\",\n    name: \"imgm\",\n    component: imgm\n  }, {\n    path: \"/grpifo\",\n    name: \"grpifo\",\n    component: grpifo\n  }, {\n    path: \"/ctlsender\",\n    name: \"ctlsender\",\n    component: ctlsender\n  }, {\n    path: \"/chatbox\",\n    name: \"chatbox\",\n    component: chatbox\n  }, {\n    path: \"/sktest\",\n    name: \"sktest\",\n    component: sktest\n  }, {\n    path: \"/mediamana\",\n    name: \"mediamana\",\n    component: mediamana\n  }, {\n    path: \"/sosplay\",\n    name: \"playback\",\n    component: playback\n  }, {\n    path: \"/wellcome\",\n    name: \"wellcome\",\n    component: wellcome\n  }, {\n    path: \"/mainten\",\n    name: \"mainten\",\n    component: mainten\n  }, {\n    path: \"/menumana\",\n    name: \"menumana\",\n    component: menumana\n  }, {\n    path: \"/about\",\n    name: \"about\",\n    component: about\n  }, {\n    path: \"/fasop\",\n    name: \"fasop\",\n    component: fa_sop\n  }, {\n    path: \"/testcom\",\n    name: \"testcom\",\n    component: testcom\n  }, {\n    path: \"/sopmana\",\n    name: \"sopmana\",\n    component: sopmana\n  }, {\n    path: \"/newstep\",\n    name: \"newstep\",\n    component: newstep\n  }, {\n    path: \"/clocksnap\",\n    name: \"clocksnap\",\n    component: clock_snap\n  }]\n}];\nconst router = createRouter({\n  history: createWebHashHistory(),\n  //createWebHistory(),\n  routes: routes,\n  mode: 'hash'\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.name !== \"login\") {\n    const vuex = VueCookies.get('vuex');\n    if (!sessionStorage.getItem(\"isLogin\") || !vuex || !vuex.user || !vuex.user.LOGIN_TIME) {\n      console.log('Relogin');\n      next({\n        name: \"login\"\n      });\n    }\n    const now = new Date();\n    const future = new Date(vuex.user.LOGIN_TIME);\n    const loginHour = (now.getTime() - future.getTime()) / (1000 * 60 * 60);\n    if (loginHour > 6) {\n      console.log('Relogin');\n      next({\n        name: \"login\"\n      });\n    } else next();\n  } else next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","Login","wellcome","home","testmenu","about","fa_sop","newstep","testcom","sopmana","menumana","mainten","clock_snap","VueCookies","mediamana","playback","sktest","chatbox","ctlsender","grpifo","imgm","routes","path","name","component","redirect","children","router","history","mode","beforeEach","to","from","next","vuex","get","sessionStorage","getItem","user","LOGIN_TIME","console","log","now","Date","future","loginHour","getTime"],"sources":["D:/LearnVueJS/Vue3/Projects/fa-sop-online/src/routes/index.js"],"sourcesContent":["import { createRouter, createWebHashHistory } from 'vue-router'\r\nimport Login from \"../components/NewLogin.vue\";\r\nimport wellcome from \"../components/Wellcome.vue\";\r\nimport home from '../components/Menu.vue';\r\nimport testmenu from '../components/Menu_Base.vue';\r\nimport about from '../components/About.vue'\r\nimport fa_sop from '../components/FAComs/RepairSOP.vue'\r\nimport newstep from '../components/FAComs/NewStep.vue'\r\nimport testcom from '../components/TestComponents.vue'\r\nimport sopmana from '../components/FAComs/SopManagement.vue'\r\nimport menumana from '../components/AdminArea/MenuManage.vue'\r\nimport mainten from '../components/Maintenance.vue'\r\nimport clock_snap from '../components/clock_snap.vue'\r\nimport VueCookies from 'vue-cookies'\r\nimport mediamana from '../components/MediaArea/ContentsManage.vue'\r\nimport playback from '../components/MediaArea/MediaPlayer.vue'\r\nimport sktest from '../components/SocketCom/TestSocket.vue'\r\nimport chatbox from '../components/QMessage/ChatBox.vue'\r\nimport ctlsender from '../components/QMessage/MsgSender.vue'\r\nimport grpifo from '../components/QMessage/GroupInfo.vue'\r\nimport imgm from '../components/QMessage/ImageMerging.vue'\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/\",\r\n    name: \"login\",\r\n    component: Login,\r\n  },\r\n  {\r\n    path: \"/testmenu\",\r\n    name: \"testmenu\",\r\n    component: testmenu,\r\n  },\r\n  {\r\n    path: \"/home\",\r\n    name: \"home\",\r\n    component: home,\r\n    redirect: \"/wellcome\",\r\n    children: [\r\n      {\r\n        path: \"/imgm\",\r\n        name: \"imgm\",\r\n        component: imgm,\r\n      },\r\n      {\r\n        path: \"/grpifo\",\r\n        name: \"grpifo\",\r\n        component: grpifo,\r\n      },\r\n      {\r\n        path: \"/ctlsender\",\r\n        name: \"ctlsender\",\r\n        component: ctlsender,\r\n      },\r\n      {\r\n        path: \"/chatbox\",\r\n        name: \"chatbox\",\r\n        component: chatbox,\r\n      },\r\n      {\r\n        path: \"/sktest\",\r\n        name: \"sktest\",\r\n        component: sktest,\r\n      },\r\n      {\r\n        path: \"/mediamana\",\r\n        name: \"mediamana\",\r\n        component: mediamana,\r\n      },\r\n      {\r\n        path: \"/sosplay\",\r\n        name: \"playback\",\r\n        component: playback,\r\n      },\r\n      {\r\n        path: \"/wellcome\",\r\n        name: \"wellcome\",\r\n        component: wellcome,\r\n      },\r\n      {\r\n        path: \"/mainten\",\r\n        name: \"mainten\",\r\n        component: mainten,\r\n      },\r\n      {\r\n        path: \"/menumana\",\r\n        name: \"menumana\",\r\n        component: menumana,\r\n      },\r\n      {\r\n        path: \"/about\",\r\n        name: \"about\",\r\n        component: about\r\n      },\r\n      {\r\n        path: \"/fasop\",\r\n        name: \"fasop\",\r\n        component: fa_sop\r\n      },\r\n      {\r\n        path: \"/testcom\",\r\n        name: \"testcom\",\r\n        component: testcom\r\n      },\r\n      {\r\n        path: \"/sopmana\",\r\n        name: \"sopmana\",\r\n        component: sopmana\r\n      },\r\n      {\r\n        path: \"/newstep\",\r\n        name: \"newstep\",\r\n        component: newstep\r\n      },\r\n      {\r\n        path: \"/clocksnap\",\r\n        name: \"clocksnap\",\r\n        component: clock_snap\r\n      }\r\n    ],\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),//createWebHistory(),\r\n  routes: routes,\r\n  mode: 'hash'\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.name !== \"login\") {\r\n    const vuex = VueCookies.get('vuex');\r\n\r\n    if (!sessionStorage.getItem(\"isLogin\") || !vuex || !vuex.user || !vuex.user.LOGIN_TIME) {\r\n      console.log('Relogin');\r\n      next({ name: \"login\" });\r\n    }\r\n\r\n    const now = new Date();\r\n    const future = new Date(vuex.user.LOGIN_TIME);\r\n\r\n    const loginHour = (now.getTime() - future.getTime()) / (1000 * 60 * 60);\r\n    if (loginHour > 6) {\r\n      console.log('Relogin');\r\n      next({ name: \"login\" });\r\n    } else\r\n      next();\r\n  }\r\n  else next();\r\n});\r\nexport default router;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}