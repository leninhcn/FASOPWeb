{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { h, ref, computed, watch, onBeforeUnmount, inject, getCurrentInstance } from 'vue';\nimport QResizeObserver from '../resize-observer/QResizeObserver.js';\nimport { createComponent } from '../../utils/private/create.js';\nimport { hUniqueSlot } from '../../utils/private/render.js';\nimport { layoutKey, emptyRenderFn } from '../../utils/private/symbols.js';\nexport default createComponent({\n  name: 'QHeader',\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: true\n    },\n    reveal: Boolean,\n    revealOffset: {\n      type: Number,\n      default: 250\n    },\n    bordered: Boolean,\n    elevated: Boolean,\n    heightHint: {\n      type: [String, Number],\n      default: 50\n    }\n  },\n  emits: ['reveal', 'focusin'],\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const {\n      proxy: {\n        $q\n      }\n    } = getCurrentInstance();\n    const $layout = inject(layoutKey, emptyRenderFn);\n    if ($layout === emptyRenderFn) {\n      console.error('QHeader needs to be child of QLayout');\n      return emptyRenderFn;\n    }\n    const size = ref(parseInt(props.heightHint, 10));\n    const revealed = ref(true);\n    const fixed = computed(() => props.reveal === true || $layout.view.value.indexOf('H') > -1 || $q.platform.is.ios && $layout.isContainer.value === true);\n    const offset = computed(() => {\n      if (props.modelValue !== true) {\n        return 0;\n      }\n      if (fixed.value === true) {\n        return revealed.value === true ? size.value : 0;\n      }\n      const offset = size.value - $layout.scroll.value.position;\n      return offset > 0 ? offset : 0;\n    });\n    const hidden = computed(() => props.modelValue !== true || fixed.value === true && revealed.value !== true);\n    const revealOnFocus = computed(() => props.modelValue === true && hidden.value === true && props.reveal === true);\n    const classes = computed(() => 'q-header q-layout__section--marginal ' + (fixed.value === true ? 'fixed' : 'absolute') + '-top' + (props.bordered === true ? ' q-header--bordered' : '') + (hidden.value === true ? ' q-header--hidden' : '') + (props.modelValue !== true ? ' q-layout--prevent-focus' : ''));\n    const style = computed(() => {\n      const view = $layout.rows.value.top,\n        css = {};\n      if (view[0] === 'l' && $layout.left.space === true) {\n        css[$q.lang.rtl === true ? 'right' : 'left'] = `${$layout.left.size}px`;\n      }\n      if (view[2] === 'r' && $layout.right.space === true) {\n        css[$q.lang.rtl === true ? 'left' : 'right'] = `${$layout.right.size}px`;\n      }\n      return css;\n    });\n    function updateLayout(prop, val) {\n      $layout.update('header', prop, val);\n    }\n    function updateLocal(prop, val) {\n      if (prop.value !== val) {\n        prop.value = val;\n      }\n    }\n    function onResize({\n      height\n    }) {\n      updateLocal(size, height);\n      updateLayout('size', height);\n    }\n    function onFocusin(evt) {\n      if (revealOnFocus.value === true) {\n        updateLocal(revealed, true);\n      }\n      emit('focusin', evt);\n    }\n    watch(() => props.modelValue, val => {\n      updateLayout('space', val);\n      updateLocal(revealed, true);\n      $layout.animate();\n    });\n    watch(offset, val => {\n      updateLayout('offset', val);\n    });\n    watch(() => props.reveal, val => {\n      val === false && updateLocal(revealed, props.modelValue);\n    });\n    watch(revealed, val => {\n      $layout.animate();\n      emit('reveal', val);\n    });\n    watch($layout.scroll, scroll => {\n      props.reveal === true && updateLocal(revealed, scroll.direction === 'up' || scroll.position <= props.revealOffset || scroll.position - scroll.inflectionPoint < 100);\n    });\n    const instance = {};\n    $layout.instances.header = instance;\n    props.modelValue === true && updateLayout('size', size.value);\n    updateLayout('space', props.modelValue);\n    updateLayout('offset', offset.value);\n    onBeforeUnmount(() => {\n      if ($layout.instances.header === instance) {\n        $layout.instances.header = void 0;\n        updateLayout('size', 0);\n        updateLayout('offset', 0);\n        updateLayout('space', false);\n      }\n    });\n    return () => {\n      const child = hUniqueSlot(slots.default, []);\n      props.elevated === true && child.push(h('div', {\n        class: 'q-layout__shadow absolute-full overflow-hidden no-pointer-events'\n      }));\n      child.push(h(QResizeObserver, {\n        debounce: 0,\n        onResize\n      }));\n      return h('header', {\n        class: classes.value,\n        style: style.value,\n        onFocusin\n      }, child);\n    };\n  }\n});","map":{"version":3,"names":["h","ref","computed","watch","onBeforeUnmount","inject","getCurrentInstance","QResizeObserver","createComponent","hUniqueSlot","layoutKey","emptyRenderFn","name","props","modelValue","type","Boolean","default","reveal","revealOffset","Number","bordered","elevated","heightHint","String","emits","setup","slots","emit","proxy","$q","$layout","console","error","size","parseInt","revealed","fixed","view","value","indexOf","platform","is","ios","isContainer","offset","scroll","position","hidden","revealOnFocus","classes","style","rows","top","css","left","space","lang","rtl","right","updateLayout","prop","val","update","updateLocal","onResize","height","onFocusin","evt","animate","direction","inflectionPoint","instance","instances","header","child","push","class","debounce"],"sources":["D:/LearnVueJS/Vue3/Projects/fa-sop-online/node_modules/quasar/src/components/header/QHeader.js"],"sourcesContent":["import { h, ref, computed, watch, onBeforeUnmount, inject, getCurrentInstance } from 'vue'\n\nimport QResizeObserver from '../resize-observer/QResizeObserver.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { hUniqueSlot } from '../../utils/private/render.js'\nimport { layoutKey, emptyRenderFn } from '../../utils/private/symbols.js'\n\nexport default createComponent({\n  name: 'QHeader',\n\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: true\n    },\n    reveal: Boolean,\n    revealOffset: {\n      type: Number,\n      default: 250\n    },\n    bordered: Boolean,\n    elevated: Boolean,\n\n    heightHint: {\n      type: [ String, Number ],\n      default: 50\n    }\n  },\n\n  emits: [ 'reveal', 'focusin' ],\n\n  setup (props, { slots, emit }) {\n    const { proxy: { $q } } = getCurrentInstance()\n\n    const $layout = inject(layoutKey, emptyRenderFn)\n    if ($layout === emptyRenderFn) {\n      console.error('QHeader needs to be child of QLayout')\n      return emptyRenderFn\n    }\n\n    const size = ref(parseInt(props.heightHint, 10))\n    const revealed = ref(true)\n\n    const fixed = computed(() =>\n      props.reveal === true\n      || $layout.view.value.indexOf('H') > -1\n      || ($q.platform.is.ios && $layout.isContainer.value === true)\n    )\n\n    const offset = computed(() => {\n      if (props.modelValue !== true) {\n        return 0\n      }\n      if (fixed.value === true) {\n        return revealed.value === true ? size.value : 0\n      }\n      const offset = size.value - $layout.scroll.value.position\n      return offset > 0 ? offset : 0\n    })\n\n    const hidden = computed(() => props.modelValue !== true\n      || (fixed.value === true && revealed.value !== true)\n    )\n\n    const revealOnFocus = computed(() =>\n      props.modelValue === true && hidden.value === true && props.reveal === true\n    )\n\n    const classes = computed(() =>\n      'q-header q-layout__section--marginal '\n      + (fixed.value === true ? 'fixed' : 'absolute') + '-top'\n      + (props.bordered === true ? ' q-header--bordered' : '')\n      + (hidden.value === true ? ' q-header--hidden' : '')\n      + (props.modelValue !== true ? ' q-layout--prevent-focus' : '')\n    )\n\n    const style = computed(() => {\n      const\n        view = $layout.rows.value.top,\n        css = {}\n\n      if (view[ 0 ] === 'l' && $layout.left.space === true) {\n        css[ $q.lang.rtl === true ? 'right' : 'left' ] = `${ $layout.left.size }px`\n      }\n      if (view[ 2 ] === 'r' && $layout.right.space === true) {\n        css[ $q.lang.rtl === true ? 'left' : 'right' ] = `${ $layout.right.size }px`\n      }\n\n      return css\n    })\n\n    function updateLayout (prop, val) {\n      $layout.update('header', prop, val)\n    }\n\n    function updateLocal (prop, val) {\n      if (prop.value !== val) {\n        prop.value = val\n      }\n    }\n\n    function onResize ({ height }) {\n      updateLocal(size, height)\n      updateLayout('size', height)\n    }\n\n    function onFocusin (evt) {\n      if (revealOnFocus.value === true) {\n        updateLocal(revealed, true)\n      }\n\n      emit('focusin', evt)\n    }\n\n    watch(() => props.modelValue, val => {\n      updateLayout('space', val)\n      updateLocal(revealed, true)\n      $layout.animate()\n    })\n\n    watch(offset, val => {\n      updateLayout('offset', val)\n    })\n\n    watch(() => props.reveal, val => {\n      val === false && updateLocal(revealed, props.modelValue)\n    })\n\n    watch(revealed, val => {\n      $layout.animate()\n      emit('reveal', val)\n    })\n\n    watch($layout.scroll, scroll => {\n      props.reveal === true && updateLocal(revealed,\n        scroll.direction === 'up'\n        || scroll.position <= props.revealOffset\n        || scroll.position - scroll.inflectionPoint < 100\n      )\n    })\n\n    const instance = {}\n\n    $layout.instances.header = instance\n    props.modelValue === true && updateLayout('size', size.value)\n    updateLayout('space', props.modelValue)\n    updateLayout('offset', offset.value)\n\n    onBeforeUnmount(() => {\n      if ($layout.instances.header === instance) {\n        $layout.instances.header = void 0\n        updateLayout('size', 0)\n        updateLayout('offset', 0)\n        updateLayout('space', false)\n      }\n    })\n\n    return () => {\n      const child = hUniqueSlot(slots.default, [])\n\n      props.elevated === true && child.push(\n        h('div', {\n          class: 'q-layout__shadow absolute-full overflow-hidden no-pointer-events'\n        })\n      )\n\n      child.push(\n        h(QResizeObserver, {\n          debounce: 0,\n          onResize\n        })\n      )\n\n      return h('header', {\n        class: classes.value,\n        style: style.value,\n        onFocusin\n      }, child)\n    }\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}